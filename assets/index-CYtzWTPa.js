function bg(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function jg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Bg={exports:{}},Jl={},Ug={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xs=Symbol.for("react.element"),cE=Symbol.for("react.portal"),hE=Symbol.for("react.fragment"),dE=Symbol.for("react.strict_mode"),fE=Symbol.for("react.profiler"),pE=Symbol.for("react.provider"),mE=Symbol.for("react.context"),gE=Symbol.for("react.forward_ref"),yE=Symbol.for("react.suspense"),vE=Symbol.for("react.memo"),_E=Symbol.for("react.lazy"),ep=Symbol.iterator;function EE(t){return t===null||typeof t!="object"?null:(t=ep&&t[ep]||t["@@iterator"],typeof t=="function"?t:null)}var zg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$g=Object.assign,Hg={};function mo(t,e,n){this.props=t,this.context=e,this.refs=Hg,this.updater=n||zg}mo.prototype.isReactComponent={};mo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};mo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Wg(){}Wg.prototype=mo.prototype;function Hh(t,e,n){this.props=t,this.context=e,this.refs=Hg,this.updater=n||zg}var Wh=Hh.prototype=new Wg;Wh.constructor=Hh;$g(Wh,mo.prototype);Wh.isPureReactComponent=!0;var tp=Array.isArray,Kg=Object.prototype.hasOwnProperty,Kh={current:null},qg={key:!0,ref:!0,__self:!0,__source:!0};function Qg(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Kg.call(e,r)&&!qg.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Xs,type:t,key:o,ref:s,props:i,_owner:Kh.current}}function wE(t,e){return{$$typeof:Xs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qh(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xs}function TE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var np=/\/+/g;function $u(t,e){return typeof t=="object"&&t!==null&&t.key!=null?TE(""+t.key):e.toString(36)}function Ja(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Xs:case cE:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+$u(s,0):r,tp(i)?(n="",t!=null&&(n=t.replace(np,"$&/")+"/"),Ja(i,e,n,"",function(h){return h})):i!=null&&(qh(i)&&(i=wE(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(np,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",tp(t))for(var l=0;l<t.length;l++){o=t[l];var u=r+$u(o,l);s+=Ja(o,e,n,u,i)}else if(u=EE(t),typeof u=="function")for(t=u.call(t),l=0;!(o=t.next()).done;)o=o.value,u=r+$u(o,l++),s+=Ja(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Ca(t,e,n){if(t==null)return t;var r=[],i=0;return Ja(t,r,"","",function(o){return e.call(n,o,i++)}),r}function SE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Nt={current:null},Za={transition:null},IE={ReactCurrentDispatcher:Nt,ReactCurrentBatchConfig:Za,ReactCurrentOwner:Kh};he.Children={map:Ca,forEach:function(t,e,n){Ca(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ca(t,function(){e++}),e},toArray:function(t){return Ca(t,function(e){return e})||[]},only:function(t){if(!qh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=mo;he.Fragment=hE;he.Profiler=fE;he.PureComponent=Hh;he.StrictMode=dE;he.Suspense=yE;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IE;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=$g({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Kh.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Kg.call(e,u)&&!qg.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var h=0;h<u;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:Xs,type:t.type,key:i,ref:o,props:r,_owner:s}};he.createContext=function(t){return t={$$typeof:mE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:pE,_context:t},t.Consumer=t};he.createElement=Qg;he.createFactory=function(t){var e=Qg.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:gE,render:t}};he.isValidElement=qh;he.lazy=function(t){return{$$typeof:_E,_payload:{_status:-1,_result:t},_init:SE}};he.memo=function(t,e){return{$$typeof:vE,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=Za.transition;Za.transition={};try{t()}finally{Za.transition=e}};he.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};he.useCallback=function(t,e){return Nt.current.useCallback(t,e)};he.useContext=function(t){return Nt.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return Nt.current.useDeferredValue(t)};he.useEffect=function(t,e){return Nt.current.useEffect(t,e)};he.useId=function(){return Nt.current.useId()};he.useImperativeHandle=function(t,e,n){return Nt.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return Nt.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return Nt.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return Nt.current.useMemo(t,e)};he.useReducer=function(t,e,n){return Nt.current.useReducer(t,e,n)};he.useRef=function(t){return Nt.current.useRef(t)};he.useState=function(t){return Nt.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return Nt.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return Nt.current.useTransition()};he.version="18.2.0";Ug.exports=he;var j=Ug.exports;const Gg=jg(j),RE=bg({__proto__:null,default:Gg},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE=j,CE=Symbol.for("react.element"),PE=Symbol.for("react.fragment"),kE=Object.prototype.hasOwnProperty,xE=AE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,DE={key:!0,ref:!0,__self:!0,__source:!0};function Yg(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)kE.call(e,r)&&!DE.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:CE,type:t,key:o,ref:s,props:i,_owner:xE.current}}Jl.Fragment=PE;Jl.jsx=Yg;Jl.jsxs=Yg;Bg.exports=Jl;var F=Bg.exports,Cc={},Xg={exports:{}},Kt={},Jg={exports:{}},Zg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(K,te){var ne=K.length;K.push(te);e:for(;0<ne;){var me=ne-1>>>1,de=K[me];if(0<i(de,te))K[me]=te,K[ne]=de,ne=me;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var te=K[0],ne=K.pop();if(ne!==te){K[0]=ne;e:for(var me=0,de=K.length,Ae=de>>>1;me<Ae;){var Je=2*(me+1)-1,lt=K[Je],ut=Je+1,Mt=K[ut];if(0>i(lt,ne))ut<de&&0>i(Mt,lt)?(K[me]=Mt,K[ut]=ne,me=ut):(K[me]=lt,K[Je]=ne,me=Je);else if(ut<de&&0>i(Mt,ne))K[me]=Mt,K[ut]=ne,me=ut;else break e}}return te}function i(K,te){var ne=K.sortIndex-te.sortIndex;return ne!==0?ne:K.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],h=[],f=1,p=null,g=3,R=!1,C=!1,k=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(K){for(var te=n(h);te!==null;){if(te.callback===null)r(h);else if(te.startTime<=K)r(h),te.sortIndex=te.expirationTime,e(u,te);else break;te=n(h)}}function O(K){if(k=!1,I(K),!C)if(n(u)!==null)C=!0,En($);else{var te=n(h);te!==null&&Te(O,te.startTime-K)}}function $(K,te){C=!1,k&&(k=!1,w(y),y=-1),R=!0;var ne=g;try{for(I(te),p=n(u);p!==null&&(!(p.expirationTime>te)||K&&!A());){var me=p.callback;if(typeof me=="function"){p.callback=null,g=p.priorityLevel;var de=me(p.expirationTime<=te);te=t.unstable_now(),typeof de=="function"?p.callback=de:p===n(u)&&r(u),I(te)}else r(u);p=n(u)}if(p!==null)var Ae=!0;else{var Je=n(h);Je!==null&&Te(O,Je.startTime-te),Ae=!1}return Ae}finally{p=null,g=ne,R=!1}}var P=!1,v=null,y=-1,_=5,S=-1;function A(){return!(t.unstable_now()-S<_)}function D(){if(v!==null){var K=t.unstable_now();S=K;var te=!0;try{te=v(!0,K)}finally{te?T():(P=!1,v=null)}}else P=!1}var T;if(typeof E=="function")T=function(){E(D)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,Qt=je.port2;je.port1.onmessage=D,T=function(){Qt.postMessage(null)}}else T=function(){x(D,0)};function En(K){v=K,P||(P=!0,T())}function Te(K,te){y=x(function(){K(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){C||R||(C=!0,En($))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(K){switch(g){case 1:case 2:case 3:var te=3;break;default:te=g}var ne=g;g=te;try{return K()}finally{g=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,te){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ne=g;g=K;try{return te()}finally{g=ne}},t.unstable_scheduleCallback=function(K,te,ne){var me=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?me+ne:me):ne=me,K){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=ne+de,K={id:f++,callback:te,priorityLevel:K,startTime:ne,expirationTime:de,sortIndex:-1},ne>me?(K.sortIndex=ne,e(h,K),n(u)===null&&K===n(h)&&(k?(w(y),y=-1):k=!0,Te(O,ne-me))):(K.sortIndex=de,e(u,K),C||R||(C=!0,En($))),K},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(K){var te=g;return function(){var ne=g;g=te;try{return K.apply(this,arguments)}finally{g=ne}}}})(Zg);Jg.exports=Zg;var NE=Jg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey=j,Wt=NE;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ty=new Set,ws={};function ci(t,e){Zi(t,e),Zi(t+"Capture",e)}function Zi(t,e){for(ws[t]=e,t=0;t<e.length;t++)ty.add(e[t])}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pc=Object.prototype.hasOwnProperty,VE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rp={},ip={};function ME(t){return Pc.call(ip,t)?!0:Pc.call(rp,t)?!1:VE.test(t)?ip[t]=!0:(rp[t]=!0,!1)}function LE(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function OE(t,e,n,r){if(e===null||typeof e>"u"||LE(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Vt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){yt[t]=new Vt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];yt[e]=new Vt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){yt[t]=new Vt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){yt[t]=new Vt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){yt[t]=new Vt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){yt[t]=new Vt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){yt[t]=new Vt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){yt[t]=new Vt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){yt[t]=new Vt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Qh=/[\-:]([a-z])/g;function Gh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Qh,Gh);yt[e]=new Vt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Qh,Gh);yt[e]=new Vt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Qh,Gh);yt[e]=new Vt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){yt[t]=new Vt(t,1,!1,t.toLowerCase(),null,!1,!1)});yt.xlinkHref=new Vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){yt[t]=new Vt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Yh(t,e,n,r){var i=yt.hasOwnProperty(e)?yt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(OE(e,n,i,r)&&(n=null),r||i===null?ME(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Jn=ey.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pa=Symbol.for("react.element"),Di=Symbol.for("react.portal"),Ni=Symbol.for("react.fragment"),Xh=Symbol.for("react.strict_mode"),kc=Symbol.for("react.profiler"),ny=Symbol.for("react.provider"),ry=Symbol.for("react.context"),Jh=Symbol.for("react.forward_ref"),xc=Symbol.for("react.suspense"),Dc=Symbol.for("react.suspense_list"),Zh=Symbol.for("react.memo"),lr=Symbol.for("react.lazy"),iy=Symbol.for("react.offscreen"),op=Symbol.iterator;function Bo(t){return t===null||typeof t!="object"?null:(t=op&&t[op]||t["@@iterator"],typeof t=="function"?t:null)}var Fe=Object.assign,Hu;function es(t){if(Hu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Hu=e&&e[1]||""}return`
`+Hu+t}var Wu=!1;function Ku(t,e){if(!t||Wu)return"";Wu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=l);break}}}finally{Wu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?es(t):""}function FE(t){switch(t.tag){case 5:return es(t.type);case 16:return es("Lazy");case 13:return es("Suspense");case 19:return es("SuspenseList");case 0:case 2:case 15:return t=Ku(t.type,!1),t;case 11:return t=Ku(t.type.render,!1),t;case 1:return t=Ku(t.type,!0),t;default:return""}}function Nc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ni:return"Fragment";case Di:return"Portal";case kc:return"Profiler";case Xh:return"StrictMode";case xc:return"Suspense";case Dc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ry:return(t.displayName||"Context")+".Consumer";case ny:return(t._context.displayName||"Context")+".Provider";case Jh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Zh:return e=t.displayName||null,e!==null?e:Nc(t.type)||"Memo";case lr:e=t._payload,t=t._init;try{return Nc(t(e))}catch{}}return null}function bE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nc(e);case 8:return e===Xh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Cr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function oy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jE(t){var e=oy(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ka(t){t._valueTracker||(t._valueTracker=jE(t))}function sy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=oy(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ml(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vc(t,e){var n=e.checked;return Fe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function sp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Cr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ay(t,e){e=e.checked,e!=null&&Yh(t,"checked",e,!1)}function Mc(t,e){ay(t,e);var n=Cr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Lc(t,e.type,n):e.hasOwnProperty("defaultValue")&&Lc(t,e.type,Cr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ap(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Lc(t,e,n){(e!=="number"||ml(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ts=Array.isArray;function Wi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Cr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Oc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Fe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(ts(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Cr(n)}}function ly(t,e){var n=Cr(e.value),r=Cr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function up(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function uy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?uy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xa,cy=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xa=xa||document.createElement("div"),xa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ts(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var as={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BE=["Webkit","ms","Moz","O"];Object.keys(as).forEach(function(t){BE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),as[e]=as[t]})});function hy(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||as.hasOwnProperty(t)&&as[t]?(""+e).trim():e+"px"}function dy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=hy(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var UE=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bc(t,e){if(e){if(UE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function jc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bc=null;function ed(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Uc=null,Ki=null,qi=null;function cp(t){if(t=ea(t)){if(typeof Uc!="function")throw Error(z(280));var e=t.stateNode;e&&(e=ru(e),Uc(t.stateNode,t.type,e))}}function fy(t){Ki?qi?qi.push(t):qi=[t]:Ki=t}function py(){if(Ki){var t=Ki,e=qi;if(qi=Ki=null,cp(t),e)for(t=0;t<e.length;t++)cp(e[t])}}function my(t,e){return t(e)}function gy(){}var qu=!1;function yy(t,e,n){if(qu)return t(e,n);qu=!0;try{return my(t,e,n)}finally{qu=!1,(Ki!==null||qi!==null)&&(gy(),py())}}function Ss(t,e){var n=t.stateNode;if(n===null)return null;var r=ru(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var zc=!1;if(Wn)try{var Uo={};Object.defineProperty(Uo,"passive",{get:function(){zc=!0}}),window.addEventListener("test",Uo,Uo),window.removeEventListener("test",Uo,Uo)}catch{zc=!1}function zE(t,e,n,r,i,o,s,l,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(f){this.onError(f)}}var ls=!1,gl=null,yl=!1,$c=null,$E={onError:function(t){ls=!0,gl=t}};function HE(t,e,n,r,i,o,s,l,u){ls=!1,gl=null,zE.apply($E,arguments)}function WE(t,e,n,r,i,o,s,l,u){if(HE.apply(this,arguments),ls){if(ls){var h=gl;ls=!1,gl=null}else throw Error(z(198));yl||(yl=!0,$c=h)}}function hi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function vy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hp(t){if(hi(t)!==t)throw Error(z(188))}function KE(t){var e=t.alternate;if(!e){if(e=hi(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return hp(i),t;if(o===r)return hp(i),e;o=o.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function _y(t){return t=KE(t),t!==null?Ey(t):null}function Ey(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ey(t);if(e!==null)return e;t=t.sibling}return null}var wy=Wt.unstable_scheduleCallback,dp=Wt.unstable_cancelCallback,qE=Wt.unstable_shouldYield,QE=Wt.unstable_requestPaint,qe=Wt.unstable_now,GE=Wt.unstable_getCurrentPriorityLevel,td=Wt.unstable_ImmediatePriority,Ty=Wt.unstable_UserBlockingPriority,vl=Wt.unstable_NormalPriority,YE=Wt.unstable_LowPriority,Sy=Wt.unstable_IdlePriority,Zl=null,Rn=null;function XE(t){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(Zl,t,void 0,(t.current.flags&128)===128)}catch{}}var gn=Math.clz32?Math.clz32:ew,JE=Math.log,ZE=Math.LN2;function ew(t){return t>>>=0,t===0?32:31-(JE(t)/ZE|0)|0}var Da=64,Na=4194304;function ns(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _l(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=ns(l):(o&=s,o!==0&&(r=ns(o)))}else s=n&~i,s!==0?r=ns(s):o!==0&&(r=ns(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-gn(e),i=1<<n,r|=t[n],e&=~i;return r}function tw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nw(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-gn(o),l=1<<s,u=i[s];u===-1?(!(l&n)||l&r)&&(i[s]=tw(l,e)):u<=e&&(t.expiredLanes|=l),o&=~l}}function Hc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Iy(){var t=Da;return Da<<=1,!(Da&4194240)&&(Da=64),t}function Qu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Js(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-gn(e),t[e]=n}function rw(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-gn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function nd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-gn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Se=0;function Ry(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ay,rd,Cy,Py,ky,Wc=!1,Va=[],mr=null,gr=null,yr=null,Is=new Map,Rs=new Map,cr=[],iw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fp(t,e){switch(t){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":Is.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rs.delete(e.pointerId)}}function zo(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=ea(e),e!==null&&rd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function ow(t,e,n,r,i){switch(e){case"focusin":return mr=zo(mr,t,e,n,r,i),!0;case"dragenter":return gr=zo(gr,t,e,n,r,i),!0;case"mouseover":return yr=zo(yr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Is.set(o,zo(Is.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Rs.set(o,zo(Rs.get(o)||null,t,e,n,r,i)),!0}return!1}function xy(t){var e=Kr(t.target);if(e!==null){var n=hi(e);if(n!==null){if(e=n.tag,e===13){if(e=vy(n),e!==null){t.blockedOn=e,ky(t.priority,function(){Cy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function el(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Kc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Bc=r,n.target.dispatchEvent(r),Bc=null}else return e=ea(n),e!==null&&rd(e),t.blockedOn=n,!1;e.shift()}return!0}function pp(t,e,n){el(t)&&n.delete(e)}function sw(){Wc=!1,mr!==null&&el(mr)&&(mr=null),gr!==null&&el(gr)&&(gr=null),yr!==null&&el(yr)&&(yr=null),Is.forEach(pp),Rs.forEach(pp)}function $o(t,e){t.blockedOn===e&&(t.blockedOn=null,Wc||(Wc=!0,Wt.unstable_scheduleCallback(Wt.unstable_NormalPriority,sw)))}function As(t){function e(i){return $o(i,t)}if(0<Va.length){$o(Va[0],t);for(var n=1;n<Va.length;n++){var r=Va[n];r.blockedOn===t&&(r.blockedOn=null)}}for(mr!==null&&$o(mr,t),gr!==null&&$o(gr,t),yr!==null&&$o(yr,t),Is.forEach(e),Rs.forEach(e),n=0;n<cr.length;n++)r=cr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<cr.length&&(n=cr[0],n.blockedOn===null);)xy(n),n.blockedOn===null&&cr.shift()}var Qi=Jn.ReactCurrentBatchConfig,El=!0;function aw(t,e,n,r){var i=Se,o=Qi.transition;Qi.transition=null;try{Se=1,id(t,e,n,r)}finally{Se=i,Qi.transition=o}}function lw(t,e,n,r){var i=Se,o=Qi.transition;Qi.transition=null;try{Se=4,id(t,e,n,r)}finally{Se=i,Qi.transition=o}}function id(t,e,n,r){if(El){var i=Kc(t,e,n,r);if(i===null)ic(t,e,r,wl,n),fp(t,r);else if(ow(i,t,e,n,r))r.stopPropagation();else if(fp(t,r),e&4&&-1<iw.indexOf(t)){for(;i!==null;){var o=ea(i);if(o!==null&&Ay(o),o=Kc(t,e,n,r),o===null&&ic(t,e,r,wl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else ic(t,e,r,null,n)}}var wl=null;function Kc(t,e,n,r){if(wl=null,t=ed(r),t=Kr(t),t!==null)if(e=hi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=vy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wl=t,null}function Dy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GE()){case td:return 1;case Ty:return 4;case vl:case YE:return 16;case Sy:return 536870912;default:return 16}default:return 16}}var dr=null,od=null,tl=null;function Ny(){if(tl)return tl;var t,e=od,n=e.length,r,i="value"in dr?dr.value:dr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return tl=i.slice(t,1<r?1-r:void 0)}function nl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ma(){return!0}function mp(){return!1}function qt(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ma:mp,this.isPropagationStopped=mp,this}return Fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ma)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ma)},persist:function(){},isPersistent:Ma}),e}var go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sd=qt(go),Zs=Fe({},go,{view:0,detail:0}),uw=qt(Zs),Gu,Yu,Ho,eu=Fe({},Zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ad,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ho&&(Ho&&t.type==="mousemove"?(Gu=t.screenX-Ho.screenX,Yu=t.screenY-Ho.screenY):Yu=Gu=0,Ho=t),Gu)},movementY:function(t){return"movementY"in t?t.movementY:Yu}}),gp=qt(eu),cw=Fe({},eu,{dataTransfer:0}),hw=qt(cw),dw=Fe({},Zs,{relatedTarget:0}),Xu=qt(dw),fw=Fe({},go,{animationName:0,elapsedTime:0,pseudoElement:0}),pw=qt(fw),mw=Fe({},go,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gw=qt(mw),yw=Fe({},go,{data:0}),yp=qt(yw),vw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_w={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ew={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ww(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ew[t])?!!e[t]:!1}function ad(){return ww}var Tw=Fe({},Zs,{key:function(t){if(t.key){var e=vw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=nl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_w[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ad,charCode:function(t){return t.type==="keypress"?nl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?nl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Sw=qt(Tw),Iw=Fe({},eu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vp=qt(Iw),Rw=Fe({},Zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ad}),Aw=qt(Rw),Cw=Fe({},go,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pw=qt(Cw),kw=Fe({},eu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xw=qt(kw),Dw=[9,13,27,32],ld=Wn&&"CompositionEvent"in window,us=null;Wn&&"documentMode"in document&&(us=document.documentMode);var Nw=Wn&&"TextEvent"in window&&!us,Vy=Wn&&(!ld||us&&8<us&&11>=us),_p=" ",Ep=!1;function My(t,e){switch(t){case"keyup":return Dw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ly(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vi=!1;function Vw(t,e){switch(t){case"compositionend":return Ly(e);case"keypress":return e.which!==32?null:(Ep=!0,_p);case"textInput":return t=e.data,t===_p&&Ep?null:t;default:return null}}function Mw(t,e){if(Vi)return t==="compositionend"||!ld&&My(t,e)?(t=Ny(),tl=od=dr=null,Vi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Vy&&e.locale!=="ko"?null:e.data;default:return null}}var Lw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Lw[t.type]:e==="textarea"}function Oy(t,e,n,r){fy(r),e=Tl(e,"onChange"),0<e.length&&(n=new sd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var cs=null,Cs=null;function Ow(t){qy(t,0)}function tu(t){var e=Oi(t);if(sy(e))return t}function Fw(t,e){if(t==="change")return e}var Fy=!1;if(Wn){var Ju;if(Wn){var Zu="oninput"in document;if(!Zu){var Tp=document.createElement("div");Tp.setAttribute("oninput","return;"),Zu=typeof Tp.oninput=="function"}Ju=Zu}else Ju=!1;Fy=Ju&&(!document.documentMode||9<document.documentMode)}function Sp(){cs&&(cs.detachEvent("onpropertychange",by),Cs=cs=null)}function by(t){if(t.propertyName==="value"&&tu(Cs)){var e=[];Oy(e,Cs,t,ed(t)),yy(Ow,e)}}function bw(t,e,n){t==="focusin"?(Sp(),cs=e,Cs=n,cs.attachEvent("onpropertychange",by)):t==="focusout"&&Sp()}function jw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tu(Cs)}function Bw(t,e){if(t==="click")return tu(e)}function Uw(t,e){if(t==="input"||t==="change")return tu(e)}function zw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _n=typeof Object.is=="function"?Object.is:zw;function Ps(t,e){if(_n(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Pc.call(e,i)||!_n(t[i],e[i]))return!1}return!0}function Ip(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rp(t,e){var n=Ip(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ip(n)}}function jy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?jy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function By(){for(var t=window,e=ml();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ml(t.document)}return e}function ud(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function $w(t){var e=By(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&jy(n.ownerDocument.documentElement,n)){if(r!==null&&ud(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Rp(n,o);var s=Rp(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Hw=Wn&&"documentMode"in document&&11>=document.documentMode,Mi=null,qc=null,hs=null,Qc=!1;function Ap(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qc||Mi==null||Mi!==ml(r)||(r=Mi,"selectionStart"in r&&ud(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hs&&Ps(hs,r)||(hs=r,r=Tl(qc,"onSelect"),0<r.length&&(e=new sd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Mi)))}function La(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Li={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionend:La("Transition","TransitionEnd")},ec={},Uy={};Wn&&(Uy=document.createElement("div").style,"AnimationEvent"in window||(delete Li.animationend.animation,delete Li.animationiteration.animation,delete Li.animationstart.animation),"TransitionEvent"in window||delete Li.transitionend.transition);function nu(t){if(ec[t])return ec[t];if(!Li[t])return t;var e=Li[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Uy)return ec[t]=e[n];return t}var zy=nu("animationend"),$y=nu("animationiteration"),Hy=nu("animationstart"),Wy=nu("transitionend"),Ky=new Map,Cp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(t,e){Ky.set(t,e),ci(e,[t])}for(var tc=0;tc<Cp.length;tc++){var nc=Cp[tc],Ww=nc.toLowerCase(),Kw=nc[0].toUpperCase()+nc.slice(1);Nr(Ww,"on"+Kw)}Nr(zy,"onAnimationEnd");Nr($y,"onAnimationIteration");Nr(Hy,"onAnimationStart");Nr("dblclick","onDoubleClick");Nr("focusin","onFocus");Nr("focusout","onBlur");Nr(Wy,"onTransitionEnd");Zi("onMouseEnter",["mouseout","mouseover"]);Zi("onMouseLeave",["mouseout","mouseover"]);Zi("onPointerEnter",["pointerout","pointerover"]);Zi("onPointerLeave",["pointerout","pointerover"]);ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ci("onBeforeInput",["compositionend","keypress","textInput","paste"]);ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qw=new Set("cancel close invalid load scroll toggle".split(" ").concat(rs));function Pp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,WE(r,e,void 0,t),t.currentTarget=null}function qy(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==o&&i.isPropagationStopped())break e;Pp(i,l,h),o=u}else for(s=0;s<r.length;s++){if(l=r[s],u=l.instance,h=l.currentTarget,l=l.listener,u!==o&&i.isPropagationStopped())break e;Pp(i,l,h),o=u}}}if(yl)throw t=$c,yl=!1,$c=null,t}function xe(t,e){var n=e[Zc];n===void 0&&(n=e[Zc]=new Set);var r=t+"__bubble";n.has(r)||(Qy(e,t,2,!1),n.add(r))}function rc(t,e,n){var r=0;e&&(r|=4),Qy(n,t,r,e)}var Oa="_reactListening"+Math.random().toString(36).slice(2);function ks(t){if(!t[Oa]){t[Oa]=!0,ty.forEach(function(n){n!=="selectionchange"&&(qw.has(n)||rc(n,!1,t),rc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Oa]||(e[Oa]=!0,rc("selectionchange",!1,e))}}function Qy(t,e,n,r){switch(Dy(e)){case 1:var i=aw;break;case 4:i=lw;break;default:i=id}n=i.bind(null,e,n,t),i=void 0,!zc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ic(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;l!==null;){if(s=Kr(l),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}l=l.parentNode}}r=r.return}yy(function(){var h=o,f=ed(n),p=[];e:{var g=Ky.get(t);if(g!==void 0){var R=sd,C=t;switch(t){case"keypress":if(nl(n)===0)break e;case"keydown":case"keyup":R=Sw;break;case"focusin":C="focus",R=Xu;break;case"focusout":C="blur",R=Xu;break;case"beforeblur":case"afterblur":R=Xu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=gp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=hw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=Aw;break;case zy:case $y:case Hy:R=pw;break;case Wy:R=Pw;break;case"scroll":R=uw;break;case"wheel":R=xw;break;case"copy":case"cut":case"paste":R=gw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=vp}var k=(e&4)!==0,x=!k&&t==="scroll",w=k?g!==null?g+"Capture":null:g;k=[];for(var E=h,I;E!==null;){I=E;var O=I.stateNode;if(I.tag===5&&O!==null&&(I=O,w!==null&&(O=Ss(E,w),O!=null&&k.push(xs(E,O,I)))),x)break;E=E.return}0<k.length&&(g=new R(g,C,null,n,f),p.push({event:g,listeners:k}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",R=t==="mouseout"||t==="pointerout",g&&n!==Bc&&(C=n.relatedTarget||n.fromElement)&&(Kr(C)||C[Kn]))break e;if((R||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,R?(C=n.relatedTarget||n.toElement,R=h,C=C?Kr(C):null,C!==null&&(x=hi(C),C!==x||C.tag!==5&&C.tag!==6)&&(C=null)):(R=null,C=h),R!==C)){if(k=gp,O="onMouseLeave",w="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(k=vp,O="onPointerLeave",w="onPointerEnter",E="pointer"),x=R==null?g:Oi(R),I=C==null?g:Oi(C),g=new k(O,E+"leave",R,n,f),g.target=x,g.relatedTarget=I,O=null,Kr(f)===h&&(k=new k(w,E+"enter",C,n,f),k.target=I,k.relatedTarget=x,O=k),x=O,R&&C)t:{for(k=R,w=C,E=0,I=k;I;I=Ci(I))E++;for(I=0,O=w;O;O=Ci(O))I++;for(;0<E-I;)k=Ci(k),E--;for(;0<I-E;)w=Ci(w),I--;for(;E--;){if(k===w||w!==null&&k===w.alternate)break t;k=Ci(k),w=Ci(w)}k=null}else k=null;R!==null&&kp(p,g,R,k,!1),C!==null&&x!==null&&kp(p,x,C,k,!0)}}e:{if(g=h?Oi(h):window,R=g.nodeName&&g.nodeName.toLowerCase(),R==="select"||R==="input"&&g.type==="file")var $=Fw;else if(wp(g))if(Fy)$=Uw;else{$=jw;var P=bw}else(R=g.nodeName)&&R.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&($=Bw);if($&&($=$(t,h))){Oy(p,$,n,f);break e}P&&P(t,g,h),t==="focusout"&&(P=g._wrapperState)&&P.controlled&&g.type==="number"&&Lc(g,"number",g.value)}switch(P=h?Oi(h):window,t){case"focusin":(wp(P)||P.contentEditable==="true")&&(Mi=P,qc=h,hs=null);break;case"focusout":hs=qc=Mi=null;break;case"mousedown":Qc=!0;break;case"contextmenu":case"mouseup":case"dragend":Qc=!1,Ap(p,n,f);break;case"selectionchange":if(Hw)break;case"keydown":case"keyup":Ap(p,n,f)}var v;if(ld)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Vi?My(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(Vy&&n.locale!=="ko"&&(Vi||y!=="onCompositionStart"?y==="onCompositionEnd"&&Vi&&(v=Ny()):(dr=f,od="value"in dr?dr.value:dr.textContent,Vi=!0)),P=Tl(h,y),0<P.length&&(y=new yp(y,t,null,n,f),p.push({event:y,listeners:P}),v?y.data=v:(v=Ly(n),v!==null&&(y.data=v)))),(v=Nw?Vw(t,n):Mw(t,n))&&(h=Tl(h,"onBeforeInput"),0<h.length&&(f=new yp("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:h}),f.data=v))}qy(p,e)})}function xs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Tl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ss(t,n),o!=null&&r.unshift(xs(t,o,i)),o=Ss(t,e),o!=null&&r.push(xs(t,o,i))),t=t.return}return r}function Ci(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function kp(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var l=n,u=l.alternate,h=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&h!==null&&(l=h,i?(u=Ss(n,o),u!=null&&s.unshift(xs(n,u,l))):i||(u=Ss(n,o),u!=null&&s.push(xs(n,u,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var Qw=/\r\n?/g,Gw=/\u0000|\uFFFD/g;function xp(t){return(typeof t=="string"?t:""+t).replace(Qw,`
`).replace(Gw,"")}function Fa(t,e,n){if(e=xp(e),xp(t)!==e&&n)throw Error(z(425))}function Sl(){}var Gc=null,Yc=null;function Xc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Jc=typeof setTimeout=="function"?setTimeout:void 0,Yw=typeof clearTimeout=="function"?clearTimeout:void 0,Dp=typeof Promise=="function"?Promise:void 0,Xw=typeof queueMicrotask=="function"?queueMicrotask:typeof Dp<"u"?function(t){return Dp.resolve(null).then(t).catch(Jw)}:Jc;function Jw(t){setTimeout(function(){throw t})}function oc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),As(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);As(e)}function vr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Np(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var yo=Math.random().toString(36).slice(2),In="__reactFiber$"+yo,Ds="__reactProps$"+yo,Kn="__reactContainer$"+yo,Zc="__reactEvents$"+yo,Zw="__reactListeners$"+yo,e1="__reactHandles$"+yo;function Kr(t){var e=t[In];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Kn]||n[In]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Np(t);t!==null;){if(n=t[In])return n;t=Np(t)}return e}t=n,n=t.parentNode}return null}function ea(t){return t=t[In]||t[Kn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Oi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function ru(t){return t[Ds]||null}var eh=[],Fi=-1;function Vr(t){return{current:t}}function De(t){0>Fi||(t.current=eh[Fi],eh[Fi]=null,Fi--)}function Pe(t,e){Fi++,eh[Fi]=t.current,t.current=e}var Pr={},kt=Vr(Pr),Ft=Vr(!1),ti=Pr;function eo(t,e){var n=t.type.contextTypes;if(!n)return Pr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function bt(t){return t=t.childContextTypes,t!=null}function Il(){De(Ft),De(kt)}function Vp(t,e,n){if(kt.current!==Pr)throw Error(z(168));Pe(kt,e),Pe(Ft,n)}function Gy(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(z(108,bE(t)||"Unknown",i));return Fe({},n,r)}function Rl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pr,ti=kt.current,Pe(kt,t),Pe(Ft,Ft.current),!0}function Mp(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=Gy(t,e,ti),r.__reactInternalMemoizedMergedChildContext=t,De(Ft),De(kt),Pe(kt,t)):De(Ft),Pe(Ft,n)}var Bn=null,iu=!1,sc=!1;function Yy(t){Bn===null?Bn=[t]:Bn.push(t)}function t1(t){iu=!0,Yy(t)}function Mr(){if(!sc&&Bn!==null){sc=!0;var t=0,e=Se;try{var n=Bn;for(Se=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Bn=null,iu=!1}catch(i){throw Bn!==null&&(Bn=Bn.slice(t+1)),wy(td,Mr),i}finally{Se=e,sc=!1}}return null}var bi=[],ji=0,Al=null,Cl=0,en=[],tn=0,ni=null,Un=1,zn="";function zr(t,e){bi[ji++]=Cl,bi[ji++]=Al,Al=t,Cl=e}function Xy(t,e,n){en[tn++]=Un,en[tn++]=zn,en[tn++]=ni,ni=t;var r=Un;t=zn;var i=32-gn(r)-1;r&=~(1<<i),n+=1;var o=32-gn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Un=1<<32-gn(e)+i|n<<i|r,zn=o+t}else Un=1<<o|n<<i|r,zn=t}function cd(t){t.return!==null&&(zr(t,1),Xy(t,1,0))}function hd(t){for(;t===Al;)Al=bi[--ji],bi[ji]=null,Cl=bi[--ji],bi[ji]=null;for(;t===ni;)ni=en[--tn],en[tn]=null,zn=en[--tn],en[tn]=null,Un=en[--tn],en[tn]=null}var Ht=null,$t=null,Ve=!1,pn=null;function Jy(t,e){var n=rn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Lp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ht=t,$t=vr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ht=t,$t=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ni!==null?{id:Un,overflow:zn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=rn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ht=t,$t=null,!0):!1;default:return!1}}function th(t){return(t.mode&1)!==0&&(t.flags&128)===0}function nh(t){if(Ve){var e=$t;if(e){var n=e;if(!Lp(t,e)){if(th(t))throw Error(z(418));e=vr(n.nextSibling);var r=Ht;e&&Lp(t,e)?Jy(r,n):(t.flags=t.flags&-4097|2,Ve=!1,Ht=t)}}else{if(th(t))throw Error(z(418));t.flags=t.flags&-4097|2,Ve=!1,Ht=t}}}function Op(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ht=t}function ba(t){if(t!==Ht)return!1;if(!Ve)return Op(t),Ve=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Xc(t.type,t.memoizedProps)),e&&(e=$t)){if(th(t))throw Zy(),Error(z(418));for(;e;)Jy(t,e),e=vr(e.nextSibling)}if(Op(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){$t=vr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}$t=null}}else $t=Ht?vr(t.stateNode.nextSibling):null;return!0}function Zy(){for(var t=$t;t;)t=vr(t.nextSibling)}function to(){$t=Ht=null,Ve=!1}function dd(t){pn===null?pn=[t]:pn.push(t)}var n1=Jn.ReactCurrentBatchConfig;function hn(t,e){if(t&&t.defaultProps){e=Fe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Pl=Vr(null),kl=null,Bi=null,fd=null;function pd(){fd=Bi=kl=null}function md(t){var e=Pl.current;De(Pl),t._currentValue=e}function rh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Gi(t,e){kl=t,fd=Bi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ot=!0),t.firstContext=null)}function sn(t){var e=t._currentValue;if(fd!==t)if(t={context:t,memoizedValue:e,next:null},Bi===null){if(kl===null)throw Error(z(308));Bi=t,kl.dependencies={lanes:0,firstContext:t}}else Bi=Bi.next=t;return e}var qr=null;function gd(t){qr===null?qr=[t]:qr.push(t)}function ev(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,gd(e)):(n.next=i.next,i.next=n),e.interleaved=n,qn(t,r)}function qn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ur=!1;function yd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $n(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _r(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,qn(t,n)}return i=r.interleaved,i===null?(e.next=e,gd(r)):(e.next=i.next,i.next=e),r.interleaved=e,qn(t,n)}function rl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nd(t,n)}}function Fp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function xl(t,e,n,r){var i=t.updateQueue;ur=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,h=u.next;u.next=null,s===null?o=h:s.next=h,s=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==s&&(l===null?f.firstBaseUpdate=h:l.next=h,f.lastBaseUpdate=u))}if(o!==null){var p=i.baseState;s=0,f=h=u=null,l=o;do{var g=l.lane,R=l.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:R,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var C=t,k=l;switch(g=e,R=n,k.tag){case 1:if(C=k.payload,typeof C=="function"){p=C.call(R,p,g);break e}p=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=k.payload,g=typeof C=="function"?C.call(R,p,g):C,g==null)break e;p=Fe({},p,g);break e;case 2:ur=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[l]:g.push(l))}else R={eventTime:R,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(h=f=R,u=p):f=f.next=R,s|=g;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;g=l,l=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(f===null&&(u=p),i.baseState=u,i.firstBaseUpdate=h,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);ii|=s,t.lanes=s,t.memoizedState=p}}function bp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var nv=new ey.Component().refs;function ih(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Fe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ou={isMounted:function(t){return(t=t._reactInternals)?hi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Dt(),i=wr(t),o=$n(r,i);o.payload=e,n!=null&&(o.callback=n),e=_r(t,o,i),e!==null&&(yn(e,t,i,r),rl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Dt(),i=wr(t),o=$n(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=_r(t,o,i),e!==null&&(yn(e,t,i,r),rl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Dt(),r=wr(t),i=$n(n,r);i.tag=2,e!=null&&(i.callback=e),e=_r(t,i,r),e!==null&&(yn(e,t,r,n),rl(e,t,r))}};function jp(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Ps(n,r)||!Ps(i,o):!0}function rv(t,e,n){var r=!1,i=Pr,o=e.contextType;return typeof o=="object"&&o!==null?o=sn(o):(i=bt(e)?ti:kt.current,r=e.contextTypes,o=(r=r!=null)?eo(t,i):Pr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ou,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Bp(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ou.enqueueReplaceState(e,e.state,null)}function oh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=nv,yd(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=sn(o):(o=bt(e)?ti:kt.current,i.context=eo(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(ih(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ou.enqueueReplaceState(i,i.state,null),xl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Wo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=i.refs;l===nv&&(l=i.refs={}),s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function ja(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Up(t){var e=t._init;return e(t._payload)}function iv(t){function e(w,E){if(t){var I=w.deletions;I===null?(w.deletions=[E],w.flags|=16):I.push(E)}}function n(w,E){if(!t)return null;for(;E!==null;)e(w,E),E=E.sibling;return null}function r(w,E){for(w=new Map;E!==null;)E.key!==null?w.set(E.key,E):w.set(E.index,E),E=E.sibling;return w}function i(w,E){return w=Tr(w,E),w.index=0,w.sibling=null,w}function o(w,E,I){return w.index=I,t?(I=w.alternate,I!==null?(I=I.index,I<E?(w.flags|=2,E):I):(w.flags|=2,E)):(w.flags|=1048576,E)}function s(w){return t&&w.alternate===null&&(w.flags|=2),w}function l(w,E,I,O){return E===null||E.tag!==6?(E=fc(I,w.mode,O),E.return=w,E):(E=i(E,I),E.return=w,E)}function u(w,E,I,O){var $=I.type;return $===Ni?f(w,E,I.props.children,O,I.key):E!==null&&(E.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===lr&&Up($)===E.type)?(O=i(E,I.props),O.ref=Wo(w,E,I),O.return=w,O):(O=ul(I.type,I.key,I.props,null,w.mode,O),O.ref=Wo(w,E,I),O.return=w,O)}function h(w,E,I,O){return E===null||E.tag!==4||E.stateNode.containerInfo!==I.containerInfo||E.stateNode.implementation!==I.implementation?(E=pc(I,w.mode,O),E.return=w,E):(E=i(E,I.children||[]),E.return=w,E)}function f(w,E,I,O,$){return E===null||E.tag!==7?(E=Zr(I,w.mode,O,$),E.return=w,E):(E=i(E,I),E.return=w,E)}function p(w,E,I){if(typeof E=="string"&&E!==""||typeof E=="number")return E=fc(""+E,w.mode,I),E.return=w,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Pa:return I=ul(E.type,E.key,E.props,null,w.mode,I),I.ref=Wo(w,null,E),I.return=w,I;case Di:return E=pc(E,w.mode,I),E.return=w,E;case lr:var O=E._init;return p(w,O(E._payload),I)}if(ts(E)||Bo(E))return E=Zr(E,w.mode,I,null),E.return=w,E;ja(w,E)}return null}function g(w,E,I,O){var $=E!==null?E.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return $!==null?null:l(w,E,""+I,O);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Pa:return I.key===$?u(w,E,I,O):null;case Di:return I.key===$?h(w,E,I,O):null;case lr:return $=I._init,g(w,E,$(I._payload),O)}if(ts(I)||Bo(I))return $!==null?null:f(w,E,I,O,null);ja(w,I)}return null}function R(w,E,I,O,$){if(typeof O=="string"&&O!==""||typeof O=="number")return w=w.get(I)||null,l(E,w,""+O,$);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Pa:return w=w.get(O.key===null?I:O.key)||null,u(E,w,O,$);case Di:return w=w.get(O.key===null?I:O.key)||null,h(E,w,O,$);case lr:var P=O._init;return R(w,E,I,P(O._payload),$)}if(ts(O)||Bo(O))return w=w.get(I)||null,f(E,w,O,$,null);ja(E,O)}return null}function C(w,E,I,O){for(var $=null,P=null,v=E,y=E=0,_=null;v!==null&&y<I.length;y++){v.index>y?(_=v,v=null):_=v.sibling;var S=g(w,v,I[y],O);if(S===null){v===null&&(v=_);break}t&&v&&S.alternate===null&&e(w,v),E=o(S,E,y),P===null?$=S:P.sibling=S,P=S,v=_}if(y===I.length)return n(w,v),Ve&&zr(w,y),$;if(v===null){for(;y<I.length;y++)v=p(w,I[y],O),v!==null&&(E=o(v,E,y),P===null?$=v:P.sibling=v,P=v);return Ve&&zr(w,y),$}for(v=r(w,v);y<I.length;y++)_=R(v,w,y,I[y],O),_!==null&&(t&&_.alternate!==null&&v.delete(_.key===null?y:_.key),E=o(_,E,y),P===null?$=_:P.sibling=_,P=_);return t&&v.forEach(function(A){return e(w,A)}),Ve&&zr(w,y),$}function k(w,E,I,O){var $=Bo(I);if(typeof $!="function")throw Error(z(150));if(I=$.call(I),I==null)throw Error(z(151));for(var P=$=null,v=E,y=E=0,_=null,S=I.next();v!==null&&!S.done;y++,S=I.next()){v.index>y?(_=v,v=null):_=v.sibling;var A=g(w,v,S.value,O);if(A===null){v===null&&(v=_);break}t&&v&&A.alternate===null&&e(w,v),E=o(A,E,y),P===null?$=A:P.sibling=A,P=A,v=_}if(S.done)return n(w,v),Ve&&zr(w,y),$;if(v===null){for(;!S.done;y++,S=I.next())S=p(w,S.value,O),S!==null&&(E=o(S,E,y),P===null?$=S:P.sibling=S,P=S);return Ve&&zr(w,y),$}for(v=r(w,v);!S.done;y++,S=I.next())S=R(v,w,y,S.value,O),S!==null&&(t&&S.alternate!==null&&v.delete(S.key===null?y:S.key),E=o(S,E,y),P===null?$=S:P.sibling=S,P=S);return t&&v.forEach(function(D){return e(w,D)}),Ve&&zr(w,y),$}function x(w,E,I,O){if(typeof I=="object"&&I!==null&&I.type===Ni&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Pa:e:{for(var $=I.key,P=E;P!==null;){if(P.key===$){if($=I.type,$===Ni){if(P.tag===7){n(w,P.sibling),E=i(P,I.props.children),E.return=w,w=E;break e}}else if(P.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===lr&&Up($)===P.type){n(w,P.sibling),E=i(P,I.props),E.ref=Wo(w,P,I),E.return=w,w=E;break e}n(w,P);break}else e(w,P);P=P.sibling}I.type===Ni?(E=Zr(I.props.children,w.mode,O,I.key),E.return=w,w=E):(O=ul(I.type,I.key,I.props,null,w.mode,O),O.ref=Wo(w,E,I),O.return=w,w=O)}return s(w);case Di:e:{for(P=I.key;E!==null;){if(E.key===P)if(E.tag===4&&E.stateNode.containerInfo===I.containerInfo&&E.stateNode.implementation===I.implementation){n(w,E.sibling),E=i(E,I.children||[]),E.return=w,w=E;break e}else{n(w,E);break}else e(w,E);E=E.sibling}E=pc(I,w.mode,O),E.return=w,w=E}return s(w);case lr:return P=I._init,x(w,E,P(I._payload),O)}if(ts(I))return C(w,E,I,O);if(Bo(I))return k(w,E,I,O);ja(w,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,E!==null&&E.tag===6?(n(w,E.sibling),E=i(E,I),E.return=w,w=E):(n(w,E),E=fc(I,w.mode,O),E.return=w,w=E),s(w)):n(w,E)}return x}var no=iv(!0),ov=iv(!1),ta={},An=Vr(ta),Ns=Vr(ta),Vs=Vr(ta);function Qr(t){if(t===ta)throw Error(z(174));return t}function vd(t,e){switch(Pe(Vs,e),Pe(Ns,t),Pe(An,ta),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Fc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Fc(e,t)}De(An),Pe(An,e)}function ro(){De(An),De(Ns),De(Vs)}function sv(t){Qr(Vs.current);var e=Qr(An.current),n=Fc(e,t.type);e!==n&&(Pe(Ns,t),Pe(An,n))}function _d(t){Ns.current===t&&(De(An),De(Ns))}var Le=Vr(0);function Dl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ac=[];function Ed(){for(var t=0;t<ac.length;t++)ac[t]._workInProgressVersionPrimary=null;ac.length=0}var il=Jn.ReactCurrentDispatcher,lc=Jn.ReactCurrentBatchConfig,ri=0,Oe=null,et=null,st=null,Nl=!1,ds=!1,Ms=0,r1=0;function Tt(){throw Error(z(321))}function wd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_n(t[n],e[n]))return!1;return!0}function Td(t,e,n,r,i,o){if(ri=o,Oe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,il.current=t===null||t.memoizedState===null?a1:l1,t=n(r,i),ds){o=0;do{if(ds=!1,Ms=0,25<=o)throw Error(z(301));o+=1,st=et=null,e.updateQueue=null,il.current=u1,t=n(r,i)}while(ds)}if(il.current=Vl,e=et!==null&&et.next!==null,ri=0,st=et=Oe=null,Nl=!1,e)throw Error(z(300));return t}function Sd(){var t=Ms!==0;return Ms=0,t}function Sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?Oe.memoizedState=st=t:st=st.next=t,st}function an(){if(et===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var e=st===null?Oe.memoizedState:st.next;if(e!==null)st=e,et=t;else{if(t===null)throw Error(z(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},st===null?Oe.memoizedState=st=t:st=st.next=t}return st}function Ls(t,e){return typeof e=="function"?e(t):e}function uc(t){var e=an(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=et,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,u=null,h=o;do{var f=h.lane;if((ri&f)===f)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var p={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(l=u=p,s=r):u=u.next=p,Oe.lanes|=f,ii|=f}h=h.next}while(h!==null&&h!==o);u===null?s=r:u.next=l,_n(r,e.memoizedState)||(Ot=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Oe.lanes|=o,ii|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function cc(t){var e=an(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);_n(o,e.memoizedState)||(Ot=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function av(){}function lv(t,e){var n=Oe,r=an(),i=e(),o=!_n(r.memoizedState,i);if(o&&(r.memoizedState=i,Ot=!0),r=r.queue,Id(hv.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||st!==null&&st.memoizedState.tag&1){if(n.flags|=2048,Os(9,cv.bind(null,n,r,i,e),void 0,null),at===null)throw Error(z(349));ri&30||uv(n,e,i)}return i}function uv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function cv(t,e,n,r){e.value=n,e.getSnapshot=r,dv(e)&&fv(t)}function hv(t,e,n){return n(function(){dv(e)&&fv(t)})}function dv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_n(t,n)}catch{return!0}}function fv(t){var e=qn(t,1);e!==null&&yn(e,t,1,-1)}function zp(t){var e=Sn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:t},e.queue=t,t=t.dispatch=s1.bind(null,Oe,t),[e.memoizedState,t]}function Os(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function pv(){return an().memoizedState}function ol(t,e,n,r){var i=Sn();Oe.flags|=t,i.memoizedState=Os(1|e,n,void 0,r===void 0?null:r)}function su(t,e,n,r){var i=an();r=r===void 0?null:r;var o=void 0;if(et!==null){var s=et.memoizedState;if(o=s.destroy,r!==null&&wd(r,s.deps)){i.memoizedState=Os(e,n,o,r);return}}Oe.flags|=t,i.memoizedState=Os(1|e,n,o,r)}function $p(t,e){return ol(8390656,8,t,e)}function Id(t,e){return su(2048,8,t,e)}function mv(t,e){return su(4,2,t,e)}function gv(t,e){return su(4,4,t,e)}function yv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function vv(t,e,n){return n=n!=null?n.concat([t]):null,su(4,4,yv.bind(null,e,t),n)}function Rd(){}function _v(t,e){var n=an();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ev(t,e){var n=an();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function wv(t,e,n){return ri&21?(_n(n,e)||(n=Iy(),Oe.lanes|=n,ii|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ot=!0),t.memoizedState=n)}function i1(t,e){var n=Se;Se=n!==0&&4>n?n:4,t(!0);var r=lc.transition;lc.transition={};try{t(!1),e()}finally{Se=n,lc.transition=r}}function Tv(){return an().memoizedState}function o1(t,e,n){var r=wr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Sv(t))Iv(e,n);else if(n=ev(t,e,n,r),n!==null){var i=Dt();yn(n,t,r,i),Rv(n,e,r)}}function s1(t,e,n){var r=wr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Sv(t))Iv(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,_n(l,s)){var u=e.interleaved;u===null?(i.next=i,gd(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=ev(t,e,i,r),n!==null&&(i=Dt(),yn(n,t,r,i),Rv(n,e,r))}}function Sv(t){var e=t.alternate;return t===Oe||e!==null&&e===Oe}function Iv(t,e){ds=Nl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Rv(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nd(t,n)}}var Vl={readContext:sn,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},a1={readContext:sn,useCallback:function(t,e){return Sn().memoizedState=[t,e===void 0?null:e],t},useContext:sn,useEffect:$p,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ol(4194308,4,yv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ol(4194308,4,t,e)},useInsertionEffect:function(t,e){return ol(4,2,t,e)},useMemo:function(t,e){var n=Sn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Sn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=o1.bind(null,Oe,t),[r.memoizedState,t]},useRef:function(t){var e=Sn();return t={current:t},e.memoizedState=t},useState:zp,useDebugValue:Rd,useDeferredValue:function(t){return Sn().memoizedState=t},useTransition:function(){var t=zp(!1),e=t[0];return t=i1.bind(null,t[1]),Sn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Oe,i=Sn();if(Ve){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),at===null)throw Error(z(349));ri&30||uv(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,$p(hv.bind(null,r,o,t),[t]),r.flags|=2048,Os(9,cv.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Sn(),e=at.identifierPrefix;if(Ve){var n=zn,r=Un;n=(r&~(1<<32-gn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ms++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=r1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},l1={readContext:sn,useCallback:_v,useContext:sn,useEffect:Id,useImperativeHandle:vv,useInsertionEffect:mv,useLayoutEffect:gv,useMemo:Ev,useReducer:uc,useRef:pv,useState:function(){return uc(Ls)},useDebugValue:Rd,useDeferredValue:function(t){var e=an();return wv(e,et.memoizedState,t)},useTransition:function(){var t=uc(Ls)[0],e=an().memoizedState;return[t,e]},useMutableSource:av,useSyncExternalStore:lv,useId:Tv,unstable_isNewReconciler:!1},u1={readContext:sn,useCallback:_v,useContext:sn,useEffect:Id,useImperativeHandle:vv,useInsertionEffect:mv,useLayoutEffect:gv,useMemo:Ev,useReducer:cc,useRef:pv,useState:function(){return cc(Ls)},useDebugValue:Rd,useDeferredValue:function(t){var e=an();return et===null?e.memoizedState=t:wv(e,et.memoizedState,t)},useTransition:function(){var t=cc(Ls)[0],e=an().memoizedState;return[t,e]},useMutableSource:av,useSyncExternalStore:lv,useId:Tv,unstable_isNewReconciler:!1};function io(t,e){try{var n="",r=e;do n+=FE(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function hc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function sh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var c1=typeof WeakMap=="function"?WeakMap:Map;function Av(t,e,n){n=$n(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ll||(Ll=!0,gh=r),sh(t,e)},n}function Cv(t,e,n){n=$n(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){sh(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){sh(t,e),typeof r!="function"&&(Er===null?Er=new Set([this]):Er.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Hp(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new c1;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=I1.bind(null,t,e,n),e.then(t,t))}function Wp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Kp(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=$n(-1,1),e.tag=2,_r(n,e,1))),n.lanes|=1),t)}var h1=Jn.ReactCurrentOwner,Ot=!1;function xt(t,e,n,r){e.child=t===null?ov(e,null,n,r):no(e,t.child,n,r)}function qp(t,e,n,r,i){n=n.render;var o=e.ref;return Gi(e,i),r=Td(t,e,n,r,o,i),n=Sd(),t!==null&&!Ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qn(t,e,i)):(Ve&&n&&cd(e),e.flags|=1,xt(t,e,r,i),e.child)}function Qp(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Vd(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Pv(t,e,o,r,i)):(t=ul(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ps,n(s,r)&&t.ref===e.ref)return Qn(t,e,i)}return e.flags|=1,t=Tr(o,r),t.ref=e.ref,t.return=e,e.child=t}function Pv(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ps(o,r)&&t.ref===e.ref)if(Ot=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Ot=!0);else return e.lanes=t.lanes,Qn(t,e,i)}return ah(t,e,n,r,i)}function kv(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(zi,zt),zt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pe(zi,zt),zt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Pe(zi,zt),zt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Pe(zi,zt),zt|=r;return xt(t,e,i,n),e.child}function xv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ah(t,e,n,r,i){var o=bt(n)?ti:kt.current;return o=eo(e,o),Gi(e,i),n=Td(t,e,n,r,o,i),r=Sd(),t!==null&&!Ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qn(t,e,i)):(Ve&&r&&cd(e),e.flags|=1,xt(t,e,n,i),e.child)}function Gp(t,e,n,r,i){if(bt(n)){var o=!0;Rl(e)}else o=!1;if(Gi(e,i),e.stateNode===null)sl(t,e),rv(e,n,r),oh(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var u=s.context,h=n.contextType;typeof h=="object"&&h!==null?h=sn(h):(h=bt(n)?ti:kt.current,h=eo(e,h));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||u!==h)&&Bp(e,s,r,h),ur=!1;var g=e.memoizedState;s.state=g,xl(e,r,s,i),u=e.memoizedState,l!==r||g!==u||Ft.current||ur?(typeof f=="function"&&(ih(e,n,f,r),u=e.memoizedState),(l=ur||jp(e,n,l,r,g,u,h))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=h,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,tv(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:hn(e.type,l),s.props=h,p=e.pendingProps,g=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=sn(u):(u=bt(n)?ti:kt.current,u=eo(e,u));var R=n.getDerivedStateFromProps;(f=typeof R=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==p||g!==u)&&Bp(e,s,r,u),ur=!1,g=e.memoizedState,s.state=g,xl(e,r,s,i);var C=e.memoizedState;l!==p||g!==C||Ft.current||ur?(typeof R=="function"&&(ih(e,n,R,r),C=e.memoizedState),(h=ur||jp(e,n,h,r,g,C,u)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,C,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,C,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),s.props=r,s.state=C,s.context=u,r=h):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return lh(t,e,n,r,o,i)}function lh(t,e,n,r,i,o){xv(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Mp(e,n,!1),Qn(t,e,o);r=e.stateNode,h1.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=no(e,t.child,null,o),e.child=no(e,null,l,o)):xt(t,e,l,o),e.memoizedState=r.state,i&&Mp(e,n,!0),e.child}function Dv(t){var e=t.stateNode;e.pendingContext?Vp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Vp(t,e.context,!1),vd(t,e.containerInfo)}function Yp(t,e,n,r,i){return to(),dd(i),e.flags|=256,xt(t,e,n,r),e.child}var uh={dehydrated:null,treeContext:null,retryLane:0};function ch(t){return{baseLanes:t,cachePool:null,transitions:null}}function Nv(t,e,n){var r=e.pendingProps,i=Le.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Pe(Le,i&1),t===null)return nh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=uu(s,r,0,null),t=Zr(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=ch(n),e.memoizedState=uh,t):Ad(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return d1(t,e,s,r,l,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Tr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=Tr(l,o):(o=Zr(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?ch(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=uh,r}return o=t.child,t=o.sibling,r=Tr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ad(t,e){return e=uu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ba(t,e,n,r){return r!==null&&dd(r),no(e,t.child,null,n),t=Ad(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function d1(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=hc(Error(z(422))),Ba(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=uu({mode:"visible",children:r.children},i,0,null),o=Zr(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&no(e,t.child,null,s),e.child.memoizedState=ch(s),e.memoizedState=uh,o);if(!(e.mode&1))return Ba(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(z(419)),r=hc(o,r,void 0),Ba(t,e,s,r)}if(l=(s&t.childLanes)!==0,Ot||l){if(r=at,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,qn(t,i),yn(r,t,i,-1))}return Nd(),r=hc(Error(z(421))),Ba(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=R1.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,$t=vr(i.nextSibling),Ht=e,Ve=!0,pn=null,t!==null&&(en[tn++]=Un,en[tn++]=zn,en[tn++]=ni,Un=t.id,zn=t.overflow,ni=e),e=Ad(e,r.children),e.flags|=4096,e)}function Xp(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),rh(t.return,e,n)}function dc(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Vv(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(xt(t,e,r.children,n),r=Le.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xp(t,n,e);else if(t.tag===19)Xp(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pe(Le,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Dl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),dc(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Dl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}dc(e,!0,n,null,o);break;case"together":dc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function sl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Qn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ii|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Tr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Tr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function f1(t,e,n){switch(e.tag){case 3:Dv(e),to();break;case 5:sv(e);break;case 1:bt(e.type)&&Rl(e);break;case 4:vd(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Pe(Pl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pe(Le,Le.current&1),e.flags|=128,null):n&e.child.childLanes?Nv(t,e,n):(Pe(Le,Le.current&1),t=Qn(t,e,n),t!==null?t.sibling:null);Pe(Le,Le.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Vv(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pe(Le,Le.current),r)break;return null;case 22:case 23:return e.lanes=0,kv(t,e,n)}return Qn(t,e,n)}var Mv,hh,Lv,Ov;Mv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hh=function(){};Lv=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Qr(An.current);var o=null;switch(n){case"input":i=Vc(t,i),r=Vc(t,r),o=[];break;case"select":i=Fe({},i,{value:void 0}),r=Fe({},r,{value:void 0}),o=[];break;case"textarea":i=Oc(t,i),r=Oc(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Sl)}bc(n,r);var s;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(ws.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in r){var u=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&u!==l&&(u!=null||l!=null))if(h==="style")if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(ws.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&xe("scroll",t),o||l===u||(o=[])):(o=o||[]).push(h,u))}n&&(o=o||[]).push("style",n);var h=o;(e.updateQueue=h)&&(e.flags|=4)}};Ov=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ko(t,e){if(!Ve)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function St(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function p1(t,e,n){var r=e.pendingProps;switch(hd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(e),null;case 1:return bt(e.type)&&Il(),St(e),null;case 3:return r=e.stateNode,ro(),De(Ft),De(kt),Ed(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ba(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pn!==null&&(_h(pn),pn=null))),hh(t,e),St(e),null;case 5:_d(e);var i=Qr(Vs.current);if(n=e.type,t!==null&&e.stateNode!=null)Lv(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return St(e),null}if(t=Qr(An.current),ba(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[In]=e,r[Ds]=o,t=(e.mode&1)!==0,n){case"dialog":xe("cancel",r),xe("close",r);break;case"iframe":case"object":case"embed":xe("load",r);break;case"video":case"audio":for(i=0;i<rs.length;i++)xe(rs[i],r);break;case"source":xe("error",r);break;case"img":case"image":case"link":xe("error",r),xe("load",r);break;case"details":xe("toggle",r);break;case"input":sp(r,o),xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},xe("invalid",r);break;case"textarea":lp(r,o),xe("invalid",r)}bc(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Fa(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Fa(r.textContent,l,t),i=["children",""+l]):ws.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&xe("scroll",r)}switch(n){case"input":ka(r),ap(r,o,!0);break;case"textarea":ka(r),up(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Sl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=uy(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[In]=e,t[Ds]=r,Mv(t,e,!1,!1),e.stateNode=t;e:{switch(s=jc(n,r),n){case"dialog":xe("cancel",t),xe("close",t),i=r;break;case"iframe":case"object":case"embed":xe("load",t),i=r;break;case"video":case"audio":for(i=0;i<rs.length;i++)xe(rs[i],t);i=r;break;case"source":xe("error",t),i=r;break;case"img":case"image":case"link":xe("error",t),xe("load",t),i=r;break;case"details":xe("toggle",t),i=r;break;case"input":sp(t,r),i=Vc(t,r),xe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Fe({},r,{value:void 0}),xe("invalid",t);break;case"textarea":lp(t,r),i=Oc(t,r),xe("invalid",t);break;default:i=r}bc(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?dy(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&cy(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ts(t,u):typeof u=="number"&&Ts(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ws.hasOwnProperty(o)?u!=null&&o==="onScroll"&&xe("scroll",t):u!=null&&Yh(t,o,u,s))}switch(n){case"input":ka(t),ap(t,r,!1);break;case"textarea":ka(t),up(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Cr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Wi(t,!!r.multiple,o,!1):r.defaultValue!=null&&Wi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Sl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return St(e),null;case 6:if(t&&e.stateNode!=null)Ov(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=Qr(Vs.current),Qr(An.current),ba(e)){if(r=e.stateNode,n=e.memoizedProps,r[In]=e,(o=r.nodeValue!==n)&&(t=Ht,t!==null))switch(t.tag){case 3:Fa(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Fa(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[In]=e,e.stateNode=r}return St(e),null;case 13:if(De(Le),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ve&&$t!==null&&e.mode&1&&!(e.flags&128))Zy(),to(),e.flags|=98560,o=!1;else if(o=ba(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(z(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(z(317));o[In]=e}else to(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;St(e),o=!1}else pn!==null&&(_h(pn),pn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Le.current&1?nt===0&&(nt=3):Nd())),e.updateQueue!==null&&(e.flags|=4),St(e),null);case 4:return ro(),hh(t,e),t===null&&ks(e.stateNode.containerInfo),St(e),null;case 10:return md(e.type._context),St(e),null;case 17:return bt(e.type)&&Il(),St(e),null;case 19:if(De(Le),o=e.memoizedState,o===null)return St(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Ko(o,!1);else{if(nt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Dl(t),s!==null){for(e.flags|=128,Ko(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pe(Le,Le.current&1|2),e.child}t=t.sibling}o.tail!==null&&qe()>oo&&(e.flags|=128,r=!0,Ko(o,!1),e.lanes=4194304)}else{if(!r)if(t=Dl(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ko(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ve)return St(e),null}else 2*qe()-o.renderingStartTime>oo&&n!==1073741824&&(e.flags|=128,r=!0,Ko(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=qe(),e.sibling=null,n=Le.current,Pe(Le,r?n&1|2:n&1),e):(St(e),null);case 22:case 23:return Dd(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?zt&1073741824&&(St(e),e.subtreeFlags&6&&(e.flags|=8192)):St(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function m1(t,e){switch(hd(e),e.tag){case 1:return bt(e.type)&&Il(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ro(),De(Ft),De(kt),Ed(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _d(e),null;case 13:if(De(Le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));to()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return De(Le),null;case 4:return ro(),null;case 10:return md(e.type._context),null;case 22:case 23:return Dd(),null;case 24:return null;default:return null}}var Ua=!1,Ct=!1,g1=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Ui(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ze(t,e,r)}else n.current=null}function dh(t,e,n){try{n()}catch(r){ze(t,e,r)}}var Jp=!1;function y1(t,e){if(Gc=El,t=By(),ud(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,u=-1,h=0,f=0,p=t,g=null;t:for(;;){for(var R;p!==n||i!==0&&p.nodeType!==3||(l=s+i),p!==o||r!==0&&p.nodeType!==3||(u=s+r),p.nodeType===3&&(s+=p.nodeValue.length),(R=p.firstChild)!==null;)g=p,p=R;for(;;){if(p===t)break t;if(g===n&&++h===i&&(l=s),g===o&&++f===r&&(u=s),(R=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=R}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yc={focusedElem:t,selectionRange:n},El=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var k=C.memoizedProps,x=C.memoizedState,w=e.stateNode,E=w.getSnapshotBeforeUpdate(e.elementType===e.type?k:hn(e.type,k),x);w.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(O){ze(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return C=Jp,Jp=!1,C}function fs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&dh(e,n,o)}i=i.next}while(i!==r)}}function au(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function fh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Fv(t){var e=t.alternate;e!==null&&(t.alternate=null,Fv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[In],delete e[Ds],delete e[Zc],delete e[Zw],delete e[e1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function bv(t){return t.tag===5||t.tag===3||t.tag===4}function Zp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ph(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Sl));else if(r!==4&&(t=t.child,t!==null))for(ph(t,e,n),t=t.sibling;t!==null;)ph(t,e,n),t=t.sibling}function mh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(mh(t,e,n),t=t.sibling;t!==null;)mh(t,e,n),t=t.sibling}var dt=null,dn=!1;function sr(t,e,n){for(n=n.child;n!==null;)jv(t,e,n),n=n.sibling}function jv(t,e,n){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(Zl,n)}catch{}switch(n.tag){case 5:Ct||Ui(n,e);case 6:var r=dt,i=dn;dt=null,sr(t,e,n),dt=r,dn=i,dt!==null&&(dn?(t=dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):dt.removeChild(n.stateNode));break;case 18:dt!==null&&(dn?(t=dt,n=n.stateNode,t.nodeType===8?oc(t.parentNode,n):t.nodeType===1&&oc(t,n),As(t)):oc(dt,n.stateNode));break;case 4:r=dt,i=dn,dt=n.stateNode.containerInfo,dn=!0,sr(t,e,n),dt=r,dn=i;break;case 0:case 11:case 14:case 15:if(!Ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&dh(n,e,s),i=i.next}while(i!==r)}sr(t,e,n);break;case 1:if(!Ct&&(Ui(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ze(n,e,l)}sr(t,e,n);break;case 21:sr(t,e,n);break;case 22:n.mode&1?(Ct=(r=Ct)||n.memoizedState!==null,sr(t,e,n),Ct=r):sr(t,e,n);break;default:sr(t,e,n)}}function em(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new g1),e.forEach(function(r){var i=A1.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function cn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:dt=l.stateNode,dn=!1;break e;case 3:dt=l.stateNode.containerInfo,dn=!0;break e;case 4:dt=l.stateNode.containerInfo,dn=!0;break e}l=l.return}if(dt===null)throw Error(z(160));jv(o,s,i),dt=null,dn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(h){ze(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Bv(e,t),e=e.sibling}function Bv(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(cn(e,t),Tn(t),r&4){try{fs(3,t,t.return),au(3,t)}catch(k){ze(t,t.return,k)}try{fs(5,t,t.return)}catch(k){ze(t,t.return,k)}}break;case 1:cn(e,t),Tn(t),r&512&&n!==null&&Ui(n,n.return);break;case 5:if(cn(e,t),Tn(t),r&512&&n!==null&&Ui(n,n.return),t.flags&32){var i=t.stateNode;try{Ts(i,"")}catch(k){ze(t,t.return,k)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&ay(i,o),jc(l,s);var h=jc(l,o);for(s=0;s<u.length;s+=2){var f=u[s],p=u[s+1];f==="style"?dy(i,p):f==="dangerouslySetInnerHTML"?cy(i,p):f==="children"?Ts(i,p):Yh(i,f,p,h)}switch(l){case"input":Mc(i,o);break;case"textarea":ly(i,o);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var R=o.value;R!=null?Wi(i,!!o.multiple,R,!1):g!==!!o.multiple&&(o.defaultValue!=null?Wi(i,!!o.multiple,o.defaultValue,!0):Wi(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ds]=o}catch(k){ze(t,t.return,k)}}break;case 6:if(cn(e,t),Tn(t),r&4){if(t.stateNode===null)throw Error(z(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(k){ze(t,t.return,k)}}break;case 3:if(cn(e,t),Tn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{As(e.containerInfo)}catch(k){ze(t,t.return,k)}break;case 4:cn(e,t),Tn(t);break;case 13:cn(e,t),Tn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(kd=qe())),r&4&&em(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Ct=(h=Ct)||f,cn(e,t),Ct=h):cn(e,t),Tn(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for(Q=t,f=t.child;f!==null;){for(p=Q=f;Q!==null;){switch(g=Q,R=g.child,g.tag){case 0:case 11:case 14:case 15:fs(4,g,g.return);break;case 1:Ui(g,g.return);var C=g.stateNode;if(typeof C.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(k){ze(r,n,k)}}break;case 5:Ui(g,g.return);break;case 22:if(g.memoizedState!==null){nm(p);continue}}R!==null?(R.return=g,Q=R):nm(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,h?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=p.stateNode,u=p.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=hy("display",s))}catch(k){ze(t,t.return,k)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(k){ze(t,t.return,k)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:cn(e,t),Tn(t),r&4&&em(t);break;case 21:break;default:cn(e,t),Tn(t)}}function Tn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(bv(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ts(i,""),r.flags&=-33);var o=Zp(t);mh(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=Zp(t);ph(t,l,s);break;default:throw Error(z(161))}}catch(u){ze(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function v1(t,e,n){Q=t,Uv(t)}function Uv(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ua;if(!s){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Ct;l=Ua;var h=Ct;if(Ua=s,(Ct=u)&&!h)for(Q=i;Q!==null;)s=Q,u=s.child,s.tag===22&&s.memoizedState!==null?rm(i):u!==null?(u.return=s,Q=u):rm(i);for(;o!==null;)Q=o,Uv(o),o=o.sibling;Q=i,Ua=l,Ct=h}tm(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Q=o):tm(t)}}function tm(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ct||au(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ct)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:hn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&bp(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}bp(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&As(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Ct||e.flags&512&&fh(e)}catch(g){ze(e,e.return,g)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function nm(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function rm(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{au(4,e)}catch(u){ze(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){ze(e,i,u)}}var o=e.return;try{fh(e)}catch(u){ze(e,o,u)}break;case 5:var s=e.return;try{fh(e)}catch(u){ze(e,s,u)}}}catch(u){ze(e,e.return,u)}if(e===t){Q=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Q=l;break}Q=e.return}}var _1=Math.ceil,Ml=Jn.ReactCurrentDispatcher,Cd=Jn.ReactCurrentOwner,on=Jn.ReactCurrentBatchConfig,ye=0,at=null,Xe=null,mt=0,zt=0,zi=Vr(0),nt=0,Fs=null,ii=0,lu=0,Pd=0,ps=null,Lt=null,kd=0,oo=1/0,jn=null,Ll=!1,gh=null,Er=null,za=!1,fr=null,Ol=0,ms=0,yh=null,al=-1,ll=0;function Dt(){return ye&6?qe():al!==-1?al:al=qe()}function wr(t){return t.mode&1?ye&2&&mt!==0?mt&-mt:n1.transition!==null?(ll===0&&(ll=Iy()),ll):(t=Se,t!==0||(t=window.event,t=t===void 0?16:Dy(t.type)),t):1}function yn(t,e,n,r){if(50<ms)throw ms=0,yh=null,Error(z(185));Js(t,n,r),(!(ye&2)||t!==at)&&(t===at&&(!(ye&2)&&(lu|=n),nt===4&&hr(t,mt)),jt(t,r),n===1&&ye===0&&!(e.mode&1)&&(oo=qe()+500,iu&&Mr()))}function jt(t,e){var n=t.callbackNode;nw(t,e);var r=_l(t,t===at?mt:0);if(r===0)n!==null&&dp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&dp(n),e===1)t.tag===0?t1(im.bind(null,t)):Yy(im.bind(null,t)),Xw(function(){!(ye&6)&&Mr()}),n=null;else{switch(Ry(r)){case 1:n=td;break;case 4:n=Ty;break;case 16:n=vl;break;case 536870912:n=Sy;break;default:n=vl}n=Gv(n,zv.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function zv(t,e){if(al=-1,ll=0,ye&6)throw Error(z(327));var n=t.callbackNode;if(Yi()&&t.callbackNode!==n)return null;var r=_l(t,t===at?mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Fl(t,r);else{e=r;var i=ye;ye|=2;var o=Hv();(at!==t||mt!==e)&&(jn=null,oo=qe()+500,Jr(t,e));do try{T1();break}catch(l){$v(t,l)}while(!0);pd(),Ml.current=o,ye=i,Xe!==null?e=0:(at=null,mt=0,e=nt)}if(e!==0){if(e===2&&(i=Hc(t),i!==0&&(r=i,e=vh(t,i))),e===1)throw n=Fs,Jr(t,0),hr(t,r),jt(t,qe()),n;if(e===6)hr(t,r);else{if(i=t.current.alternate,!(r&30)&&!E1(i)&&(e=Fl(t,r),e===2&&(o=Hc(t),o!==0&&(r=o,e=vh(t,o))),e===1))throw n=Fs,Jr(t,0),hr(t,r),jt(t,qe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:$r(t,Lt,jn);break;case 3:if(hr(t,r),(r&130023424)===r&&(e=kd+500-qe(),10<e)){if(_l(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Dt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Jc($r.bind(null,t,Lt,jn),e);break}$r(t,Lt,jn);break;case 4:if(hr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-gn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_1(r/1960))-r,10<r){t.timeoutHandle=Jc($r.bind(null,t,Lt,jn),r);break}$r(t,Lt,jn);break;case 5:$r(t,Lt,jn);break;default:throw Error(z(329))}}}return jt(t,qe()),t.callbackNode===n?zv.bind(null,t):null}function vh(t,e){var n=ps;return t.current.memoizedState.isDehydrated&&(Jr(t,e).flags|=256),t=Fl(t,e),t!==2&&(e=Lt,Lt=n,e!==null&&_h(e)),t}function _h(t){Lt===null?Lt=t:Lt.push.apply(Lt,t)}function E1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!_n(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function hr(t,e){for(e&=~Pd,e&=~lu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-gn(e),r=1<<n;t[n]=-1,e&=~r}}function im(t){if(ye&6)throw Error(z(327));Yi();var e=_l(t,0);if(!(e&1))return jt(t,qe()),null;var n=Fl(t,e);if(t.tag!==0&&n===2){var r=Hc(t);r!==0&&(e=r,n=vh(t,r))}if(n===1)throw n=Fs,Jr(t,0),hr(t,e),jt(t,qe()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$r(t,Lt,jn),jt(t,qe()),null}function xd(t,e){var n=ye;ye|=1;try{return t(e)}finally{ye=n,ye===0&&(oo=qe()+500,iu&&Mr())}}function oi(t){fr!==null&&fr.tag===0&&!(ye&6)&&Yi();var e=ye;ye|=1;var n=on.transition,r=Se;try{if(on.transition=null,Se=1,t)return t()}finally{Se=r,on.transition=n,ye=e,!(ye&6)&&Mr()}}function Dd(){zt=zi.current,De(zi)}function Jr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Yw(n)),Xe!==null)for(n=Xe.return;n!==null;){var r=n;switch(hd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Il();break;case 3:ro(),De(Ft),De(kt),Ed();break;case 5:_d(r);break;case 4:ro();break;case 13:De(Le);break;case 19:De(Le);break;case 10:md(r.type._context);break;case 22:case 23:Dd()}n=n.return}if(at=t,Xe=t=Tr(t.current,null),mt=zt=e,nt=0,Fs=null,Pd=lu=ii=0,Lt=ps=null,qr!==null){for(e=0;e<qr.length;e++)if(n=qr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}qr=null}return t}function $v(t,e){do{var n=Xe;try{if(pd(),il.current=Vl,Nl){for(var r=Oe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Nl=!1}if(ri=0,st=et=Oe=null,ds=!1,Ms=0,Cd.current=null,n===null||n.return===null){nt=1,Fs=e,Xe=null;break}e:{var o=t,s=n.return,l=n,u=e;if(e=mt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,f=l,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var R=Wp(s);if(R!==null){R.flags&=-257,Kp(R,s,l,o,e),R.mode&1&&Hp(o,h,e),e=R,u=h;var C=e.updateQueue;if(C===null){var k=new Set;k.add(u),e.updateQueue=k}else C.add(u);break e}else{if(!(e&1)){Hp(o,h,e),Nd();break e}u=Error(z(426))}}else if(Ve&&l.mode&1){var x=Wp(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Kp(x,s,l,o,e),dd(io(u,l));break e}}o=u=io(u,l),nt!==4&&(nt=2),ps===null?ps=[o]:ps.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=Av(o,u,e);Fp(o,w);break e;case 1:l=u;var E=o.type,I=o.stateNode;if(!(o.flags&128)&&(typeof E.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Er===null||!Er.has(I)))){o.flags|=65536,e&=-e,o.lanes|=e;var O=Cv(o,l,e);Fp(o,O);break e}}o=o.return}while(o!==null)}Kv(n)}catch($){e=$,Xe===n&&n!==null&&(Xe=n=n.return);continue}break}while(!0)}function Hv(){var t=Ml.current;return Ml.current=Vl,t===null?Vl:t}function Nd(){(nt===0||nt===3||nt===2)&&(nt=4),at===null||!(ii&268435455)&&!(lu&268435455)||hr(at,mt)}function Fl(t,e){var n=ye;ye|=2;var r=Hv();(at!==t||mt!==e)&&(jn=null,Jr(t,e));do try{w1();break}catch(i){$v(t,i)}while(!0);if(pd(),ye=n,Ml.current=r,Xe!==null)throw Error(z(261));return at=null,mt=0,nt}function w1(){for(;Xe!==null;)Wv(Xe)}function T1(){for(;Xe!==null&&!qE();)Wv(Xe)}function Wv(t){var e=Qv(t.alternate,t,zt);t.memoizedProps=t.pendingProps,e===null?Kv(t):Xe=e,Cd.current=null}function Kv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=m1(n,e),n!==null){n.flags&=32767,Xe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{nt=6,Xe=null;return}}else if(n=p1(n,e,zt),n!==null){Xe=n;return}if(e=e.sibling,e!==null){Xe=e;return}Xe=e=t}while(e!==null);nt===0&&(nt=5)}function $r(t,e,n){var r=Se,i=on.transition;try{on.transition=null,Se=1,S1(t,e,n,r)}finally{on.transition=i,Se=r}return null}function S1(t,e,n,r){do Yi();while(fr!==null);if(ye&6)throw Error(z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(rw(t,o),t===at&&(Xe=at=null,mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||za||(za=!0,Gv(vl,function(){return Yi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=on.transition,on.transition=null;var s=Se;Se=1;var l=ye;ye|=4,Cd.current=null,y1(t,n),Bv(n,t),$w(Yc),El=!!Gc,Yc=Gc=null,t.current=n,v1(n),QE(),ye=l,Se=s,on.transition=o}else t.current=n;if(za&&(za=!1,fr=t,Ol=i),o=t.pendingLanes,o===0&&(Er=null),XE(n.stateNode),jt(t,qe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ll)throw Ll=!1,t=gh,gh=null,t;return Ol&1&&t.tag!==0&&Yi(),o=t.pendingLanes,o&1?t===yh?ms++:(ms=0,yh=t):ms=0,Mr(),null}function Yi(){if(fr!==null){var t=Ry(Ol),e=on.transition,n=Se;try{if(on.transition=null,Se=16>t?16:t,fr===null)var r=!1;else{if(t=fr,fr=null,Ol=0,ye&6)throw Error(z(331));var i=ye;for(ye|=4,Q=t.current;Q!==null;){var o=Q,s=o.child;if(Q.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var h=l[u];for(Q=h;Q!==null;){var f=Q;switch(f.tag){case 0:case 11:case 15:fs(8,f,o)}var p=f.child;if(p!==null)p.return=f,Q=p;else for(;Q!==null;){f=Q;var g=f.sibling,R=f.return;if(Fv(f),f===h){Q=null;break}if(g!==null){g.return=R,Q=g;break}Q=R}}}var C=o.alternate;if(C!==null){var k=C.child;if(k!==null){C.child=null;do{var x=k.sibling;k.sibling=null,k=x}while(k!==null)}}Q=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Q=s;else e:for(;Q!==null;){if(o=Q,o.flags&2048)switch(o.tag){case 0:case 11:case 15:fs(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,Q=w;break e}Q=o.return}}var E=t.current;for(Q=E;Q!==null;){s=Q;var I=s.child;if(s.subtreeFlags&2064&&I!==null)I.return=s,Q=I;else e:for(s=E;Q!==null;){if(l=Q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:au(9,l)}}catch($){ze(l,l.return,$)}if(l===s){Q=null;break e}var O=l.sibling;if(O!==null){O.return=l.return,Q=O;break e}Q=l.return}}if(ye=i,Mr(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(Zl,t)}catch{}r=!0}return r}finally{Se=n,on.transition=e}}return!1}function om(t,e,n){e=io(n,e),e=Av(t,e,1),t=_r(t,e,1),e=Dt(),t!==null&&(Js(t,1,e),jt(t,e))}function ze(t,e,n){if(t.tag===3)om(t,t,n);else for(;e!==null;){if(e.tag===3){om(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Er===null||!Er.has(r))){t=io(n,t),t=Cv(e,t,1),e=_r(e,t,1),t=Dt(),e!==null&&(Js(e,1,t),jt(e,t));break}}e=e.return}}function I1(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Dt(),t.pingedLanes|=t.suspendedLanes&n,at===t&&(mt&n)===n&&(nt===4||nt===3&&(mt&130023424)===mt&&500>qe()-kd?Jr(t,0):Pd|=n),jt(t,e)}function qv(t,e){e===0&&(t.mode&1?(e=Na,Na<<=1,!(Na&130023424)&&(Na=4194304)):e=1);var n=Dt();t=qn(t,e),t!==null&&(Js(t,e,n),jt(t,n))}function R1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),qv(t,n)}function A1(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),qv(t,n)}var Qv;Qv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ft.current)Ot=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ot=!1,f1(t,e,n);Ot=!!(t.flags&131072)}else Ot=!1,Ve&&e.flags&1048576&&Xy(e,Cl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;sl(t,e),t=e.pendingProps;var i=eo(e,kt.current);Gi(e,n),i=Td(null,e,r,t,i,n);var o=Sd();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bt(r)?(o=!0,Rl(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,yd(e),i.updater=ou,e.stateNode=i,i._reactInternals=e,oh(e,r,t,n),e=lh(null,e,r,!0,o,n)):(e.tag=0,Ve&&o&&cd(e),xt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(sl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=P1(r),t=hn(r,t),i){case 0:e=ah(null,e,r,t,n);break e;case 1:e=Gp(null,e,r,t,n);break e;case 11:e=qp(null,e,r,t,n);break e;case 14:e=Qp(null,e,r,hn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hn(r,i),ah(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hn(r,i),Gp(t,e,r,i,n);case 3:e:{if(Dv(e),t===null)throw Error(z(387));r=e.pendingProps,o=e.memoizedState,i=o.element,tv(t,e),xl(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=io(Error(z(423)),e),e=Yp(t,e,r,n,i);break e}else if(r!==i){i=io(Error(z(424)),e),e=Yp(t,e,r,n,i);break e}else for($t=vr(e.stateNode.containerInfo.firstChild),Ht=e,Ve=!0,pn=null,n=ov(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(to(),r===i){e=Qn(t,e,n);break e}xt(t,e,r,n)}e=e.child}return e;case 5:return sv(e),t===null&&nh(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Xc(r,i)?s=null:o!==null&&Xc(r,o)&&(e.flags|=32),xv(t,e),xt(t,e,s,n),e.child;case 6:return t===null&&nh(e),null;case 13:return Nv(t,e,n);case 4:return vd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=no(e,null,r,n):xt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hn(r,i),qp(t,e,r,i,n);case 7:return xt(t,e,e.pendingProps,n),e.child;case 8:return xt(t,e,e.pendingProps.children,n),e.child;case 12:return xt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Pe(Pl,r._currentValue),r._currentValue=s,o!==null)if(_n(o.value,s)){if(o.children===i.children&&!Ft.current){e=Qn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=$n(-1,n&-n),u.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?u.next=u:(u.next=f.next,f.next=u),h.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),rh(o.return,n,e),l.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(z(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),rh(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}xt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Gi(e,n),i=sn(i),r=r(i),e.flags|=1,xt(t,e,r,n),e.child;case 14:return r=e.type,i=hn(r,e.pendingProps),i=hn(r.type,i),Qp(t,e,r,i,n);case 15:return Pv(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hn(r,i),sl(t,e),e.tag=1,bt(r)?(t=!0,Rl(e)):t=!1,Gi(e,n),rv(e,r,i),oh(e,r,i,n),lh(null,e,r,!0,t,n);case 19:return Vv(t,e,n);case 22:return kv(t,e,n)}throw Error(z(156,e.tag))};function Gv(t,e){return wy(t,e)}function C1(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(t,e,n,r){return new C1(t,e,n,r)}function Vd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function P1(t){if(typeof t=="function")return Vd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Jh)return 11;if(t===Zh)return 14}return 2}function Tr(t,e){var n=t.alternate;return n===null?(n=rn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ul(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Vd(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Ni:return Zr(n.children,i,o,e);case Xh:s=8,i|=8;break;case kc:return t=rn(12,n,e,i|2),t.elementType=kc,t.lanes=o,t;case xc:return t=rn(13,n,e,i),t.elementType=xc,t.lanes=o,t;case Dc:return t=rn(19,n,e,i),t.elementType=Dc,t.lanes=o,t;case iy:return uu(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ny:s=10;break e;case ry:s=9;break e;case Jh:s=11;break e;case Zh:s=14;break e;case lr:s=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=rn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Zr(t,e,n,r){return t=rn(7,t,r,e),t.lanes=n,t}function uu(t,e,n,r){return t=rn(22,t,r,e),t.elementType=iy,t.lanes=n,t.stateNode={isHidden:!1},t}function fc(t,e,n){return t=rn(6,t,null,e),t.lanes=n,t}function pc(t,e,n){return e=rn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function k1(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qu(0),this.expirationTimes=Qu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Md(t,e,n,r,i,o,s,l,u){return t=new k1(t,e,n,l,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=rn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yd(o),t}function x1(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Di,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Yv(t){if(!t)return Pr;t=t._reactInternals;e:{if(hi(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(bt(n))return Gy(t,n,e)}return e}function Xv(t,e,n,r,i,o,s,l,u){return t=Md(n,r,!0,t,i,o,s,l,u),t.context=Yv(null),n=t.current,r=Dt(),i=wr(n),o=$n(r,i),o.callback=e??null,_r(n,o,i),t.current.lanes=i,Js(t,i,r),jt(t,r),t}function cu(t,e,n,r){var i=e.current,o=Dt(),s=wr(i);return n=Yv(n),e.context===null?e.context=n:e.pendingContext=n,e=$n(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=_r(i,e,s),t!==null&&(yn(t,i,s,o),rl(t,i,s)),s}function bl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function sm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ld(t,e){sm(t,e),(t=t.alternate)&&sm(t,e)}function D1(){return null}var Jv=typeof reportError=="function"?reportError:function(t){console.error(t)};function Od(t){this._internalRoot=t}hu.prototype.render=Od.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));cu(t,e,null,null)};hu.prototype.unmount=Od.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;oi(function(){cu(null,t,null,null)}),e[Kn]=null}};function hu(t){this._internalRoot=t}hu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Py();t={blockedOn:null,target:t,priority:e};for(var n=0;n<cr.length&&e!==0&&e<cr[n].priority;n++);cr.splice(n,0,t),n===0&&xy(t)}};function Fd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function du(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function am(){}function N1(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var h=bl(s);o.call(h)}}var s=Xv(e,r,t,0,null,!1,!1,"",am);return t._reactRootContainer=s,t[Kn]=s.current,ks(t.nodeType===8?t.parentNode:t),oi(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=bl(u);l.call(h)}}var u=Md(t,0,!1,null,null,!1,!1,"",am);return t._reactRootContainer=u,t[Kn]=u.current,ks(t.nodeType===8?t.parentNode:t),oi(function(){cu(e,u,n,r)}),u}function fu(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var u=bl(s);l.call(u)}}cu(e,s,t,i)}else s=N1(n,e,t,i,r);return bl(s)}Ay=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ns(e.pendingLanes);n!==0&&(nd(e,n|1),jt(e,qe()),!(ye&6)&&(oo=qe()+500,Mr()))}break;case 13:oi(function(){var r=qn(t,1);if(r!==null){var i=Dt();yn(r,t,1,i)}}),Ld(t,1)}};rd=function(t){if(t.tag===13){var e=qn(t,134217728);if(e!==null){var n=Dt();yn(e,t,134217728,n)}Ld(t,134217728)}};Cy=function(t){if(t.tag===13){var e=wr(t),n=qn(t,e);if(n!==null){var r=Dt();yn(n,t,e,r)}Ld(t,e)}};Py=function(){return Se};ky=function(t,e){var n=Se;try{return Se=t,e()}finally{Se=n}};Uc=function(t,e,n){switch(e){case"input":if(Mc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ru(r);if(!i)throw Error(z(90));sy(r),Mc(r,i)}}}break;case"textarea":ly(t,n);break;case"select":e=n.value,e!=null&&Wi(t,!!n.multiple,e,!1)}};my=xd;gy=oi;var V1={usingClientEntryPoint:!1,Events:[ea,Oi,ru,fy,py,xd]},qo={findFiberByHostInstance:Kr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},M1={bundleType:qo.bundleType,version:qo.version,rendererPackageName:qo.rendererPackageName,rendererConfig:qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_y(t),t===null?null:t.stateNode},findFiberByHostInstance:qo.findFiberByHostInstance||D1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$a.isDisabled&&$a.supportsFiber)try{Zl=$a.inject(M1),Rn=$a}catch{}}Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V1;Kt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fd(e))throw Error(z(200));return x1(t,e,null,n)};Kt.createRoot=function(t,e){if(!Fd(t))throw Error(z(299));var n=!1,r="",i=Jv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Md(t,1,!1,null,null,n,!1,r,i),t[Kn]=e.current,ks(t.nodeType===8?t.parentNode:t),new Od(e)};Kt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=_y(e),t=t===null?null:t.stateNode,t};Kt.flushSync=function(t){return oi(t)};Kt.hydrate=function(t,e,n){if(!du(e))throw Error(z(200));return fu(null,t,e,!0,n)};Kt.hydrateRoot=function(t,e,n){if(!Fd(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Jv;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Xv(e,null,t,1,n??null,i,!1,o,s),t[Kn]=e.current,ks(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new hu(e)};Kt.render=function(t,e,n){if(!du(e))throw Error(z(200));return fu(null,t,e,!1,n)};Kt.unmountComponentAtNode=function(t){if(!du(t))throw Error(z(40));return t._reactRootContainer?(oi(function(){fu(null,null,t,!1,function(){t._reactRootContainer=null,t[Kn]=null})}),!0):!1};Kt.unstable_batchedUpdates=xd;Kt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!du(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return fu(t,e,n,!1,r)};Kt.version="18.2.0-next-9e3b772b8-20220608";function Zv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Zv)}catch(t){console.error(t)}}Zv(),Xg.exports=Kt;var bd=Xg.exports;const L1=jg(bd),O1=bg({__proto__:null,default:L1},[bd]);var lm=bd;Cc.createRoot=lm.createRoot,Cc.hydrateRoot=lm.hydrateRoot;/**
 * @remix-run/router v1.15.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $e(){return $e=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$e.apply(this,arguments)}var We;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(We||(We={}));const um="popstate";function F1(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:l}=r.location;return bs("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:si(i)}return j1(e,n,null,t)}function ue(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function so(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function b1(){return Math.random().toString(36).substr(2,8)}function cm(t,e){return{usr:t.state,key:t.key,idx:e}}function bs(t,e,n,r){return n===void 0&&(n=null),$e({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Zn(e):e,{state:n,key:e&&e.key||r||b1()})}function si(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Zn(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function j1(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l=We.Pop,u=null,h=f();h==null&&(h=0,s.replaceState($e({},s.state,{idx:h}),""));function f(){return(s.state||{idx:null}).idx}function p(){l=We.Pop;let x=f(),w=x==null?null:x-h;h=x,u&&u({action:l,location:k.location,delta:w})}function g(x,w){l=We.Push;let E=bs(k.location,x,w);n&&n(E,x),h=f()+1;let I=cm(E,h),O=k.createHref(E);try{s.pushState(I,"",O)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(O)}o&&u&&u({action:l,location:k.location,delta:1})}function R(x,w){l=We.Replace;let E=bs(k.location,x,w);n&&n(E,x),h=f();let I=cm(E,h),O=k.createHref(E);s.replaceState(I,"",O),o&&u&&u({action:l,location:k.location,delta:0})}function C(x){let w=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof x=="string"?x:si(x);return E=E.replace(/ $/,"%20"),ue(w,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,w)}let k={get action(){return l},get location(){return t(i,s)},listen(x){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(um,p),u=x,()=>{i.removeEventListener(um,p),u=null}},createHref(x){return e(i,x)},createURL:C,encodeLocation(x){let w=C(x);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:g,replace:R,go(x){return s.go(x)}};return k}var Ue;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ue||(Ue={}));const B1=new Set(["lazy","caseSensitive","path","id","index","children"]);function U1(t){return t.index===!0}function Eh(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,o],l=typeof i.id=="string"?i.id:s.join("-");if(ue(i.index!==!0||!i.children,"Cannot specify children on an index route"),ue(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),U1(i)){let u=$e({},i,e(i),{id:l});return r[l]=u,u}else{let u=$e({},i,e(i),{id:l,children:void 0});return r[l]=u,i.children&&(u.children=Eh(i.children,e,s,r)),u}})}function $i(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Zn(e):e,i=vo(r.pathname||"/",n);if(i==null)return null;let o=e_(t);$1(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let u=tT(i);s=J1(o[l],u)}return s}function z1(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function e_(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,l)=>{let u={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};u.relativePath.startsWith("/")&&(ue(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let h=Hn([r,u.relativePath]),f=n.concat(u);o.children&&o.children.length>0&&(ue(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),e_(o.children,e,f,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:Y1(h,o.index),routesMeta:f})};return t.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let u of t_(o.path))i(o,s,u)}),e}function t_(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=t_(r.join("/")),l=[];return l.push(...s.map(u=>u===""?o:[o,u].join("/"))),i&&l.push(...s),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function $1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:X1(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const H1=/^:[\w-]+$/,W1=3,K1=2,q1=1,Q1=10,G1=-2,hm=t=>t==="*";function Y1(t,e){let n=t.split("/"),r=n.length;return n.some(hm)&&(r+=G1),e&&(r+=K1),n.filter(i=>!hm(i)).reduce((i,o)=>i+(H1.test(o)?W1:o===""?q1:Q1),r)}function X1(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function J1(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],u=s===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=Z1({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h);if(!f)return null;Object.assign(r,f.params);let p=l.route;o.push({params:r,pathname:Hn([i,f.pathname]),pathnameBase:iT(Hn([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Hn([i,f.pathnameBase]))}return o}function Z1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=eT(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,f,p)=>{let{paramName:g,isOptional:R}=f;if(g==="*"){let k=l[p]||"";s=o.slice(0,o.length-k.length).replace(/(.)\/+$/,"$1")}const C=l[p];return R&&!C?h[g]=void 0:h[g]=(C||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:s,pattern:t}}function eT(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),so(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function tT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return so(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function vo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function nT(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Zn(t):t;return{pathname:n?n.startsWith("/")?n:rT(n,e):e,search:oT(r),hash:sT(i)}}function rT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function mc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function n_(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function jd(t,e){let n=n_(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Bd(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Zn(t):(i=$e({},t),ue(!i.pathname||!i.pathname.includes("?"),mc("?","pathname","search",i)),ue(!i.pathname||!i.pathname.includes("#"),mc("#","pathname","hash",i)),ue(!i.search||!i.search.includes("#"),mc("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,l;if(s==null)l=n;else{let p=e.length-1;if(!r&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}l=p>=0?e[p]:"/"}let u=nT(i,l),h=s&&s!=="/"&&s.endsWith("/"),f=(o||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}const Hn=t=>t.join("/").replace(/\/\/+/g,"/"),iT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),oT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,sT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Ud{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function r_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const i_=["post","put","patch","delete"],aT=new Set(i_),lT=["get",...i_],uT=new Set(lT),cT=new Set([301,302,303,307,308]),hT=new Set([307,308]),gc={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},dT={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Qo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},o_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fT=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),s_="remix-router-transitions";function pT(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;ue(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let N=t.detectErrorBoundary;i=M=>({hasErrorBoundary:N(M)})}else i=fT;let o={},s=Eh(t.routes,i,void 0,o),l,u=t.basename||"/",h=$e({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),f=null,p=new Set,g=null,R=null,C=null,k=t.hydrationData!=null,x=$i(s,t.history.location,u),w=null;if(x==null){let N=Zt(404,{pathname:t.history.location.pathname}),{matches:M,route:b}=_m(s);x=M,w={[b.id]:N}}let E,I=x.some(N=>N.route.lazy),O=x.some(N=>N.route.loader);if(I)E=!1;else if(!O)E=!0;else if(h.v7_partialHydration){let N=t.hydrationData?t.hydrationData.loaderData:null,M=t.hydrationData?t.hydrationData.errors:null;E=x.every(b=>b.route.loader&&b.route.loader.hydrate!==!0&&(N&&N[b.route.id]!==void 0||M&&M[b.route.id]!==void 0))}else E=t.hydrationData!=null;let $,P={historyAction:t.history.action,location:t.history.location,matches:x,initialized:E,navigation:gc,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||w,fetchers:new Map,blockers:new Map},v=We.Pop,y=!1,_,S=!1,A=new Map,D=null,T=!1,je=!1,Qt=[],En=[],Te=new Map,K=0,te=-1,ne=new Map,me=new Set,de=new Map,Ae=new Map,Je=new Set,lt=new Map,ut=new Map,Mt=!1;function xu(){if(f=t.history.listen(N=>{let{action:M,location:b,delta:W}=N;if(Mt){Mt=!1;return}so(ut.size===0||W!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let G=wi({currentLocation:P.location,nextLocation:b,historyAction:M});if(G&&W!=null){Mt=!0,t.history.go(W*-1),Or(G,{state:"blocked",location:b,proceed(){Or(G,{state:"proceeding",proceed:void 0,reset:void 0,location:b}),t.history.go(W)},reset(){let ae=new Map(P.blockers);ae.set(G,Qo),it({blockers:ae})}});return}return ln(M,b)}),n){RT(e,A);let N=()=>AT(e,A);e.addEventListener("pagehide",N),D=()=>e.removeEventListener("pagehide",N)}return P.initialized||ln(We.Pop,P.location,{initialHydration:!0}),$}function Du(){f&&f(),D&&D(),p.clear(),_&&_.abort(),P.fetchers.forEach((N,M)=>He(M)),P.blockers.forEach((N,M)=>ko(M))}function vi(N){return p.add(N),()=>p.delete(N)}function it(N,M){M===void 0&&(M={}),P=$e({},P,N);let b=[],W=[];h.v7_fetcherPersist&&P.fetchers.forEach((G,ae)=>{G.state==="idle"&&(Je.has(ae)?W.push(ae):b.push(ae))}),[...p].forEach(G=>G(P,{deletedFetchers:W,unstable_viewTransitionOpts:M.viewTransitionOpts,unstable_flushSync:M.flushSync===!0})),h.v7_fetcherPersist&&(b.forEach(G=>P.fetchers.delete(G)),W.forEach(G=>He(G)))}function Nn(N,M,b){var W,G;let{flushSync:ae}=b===void 0?{}:b,J=P.actionData!=null&&P.navigation.formMethod!=null&&fn(P.navigation.formMethod)&&P.navigation.state==="loading"&&((W=N.state)==null?void 0:W._isRedirect)!==!0,Z;M.actionData?Object.keys(M.actionData).length>0?Z=M.actionData:Z=null:J?Z=P.actionData:Z=null;let q=M.loaderData?vm(P.loaderData,M.loaderData,M.matches||[],M.errors):P.loaderData,le=P.blockers;le.size>0&&(le=new Map(le),le.forEach((Re,Ze)=>le.set(Ze,Qo)));let Ne=y===!0||P.navigation.formMethod!=null&&fn(P.navigation.formMethod)&&((G=N.state)==null?void 0:G._isRedirect)!==!0;l&&(s=l,l=void 0),T||v===We.Pop||(v===We.Push?t.history.push(N,N.state):v===We.Replace&&t.history.replace(N,N.state));let re;if(v===We.Pop){let Re=A.get(P.location.pathname);Re&&Re.has(N.pathname)?re={currentLocation:P.location,nextLocation:N}:A.has(N.pathname)&&(re={currentLocation:N,nextLocation:P.location})}else if(S){let Re=A.get(P.location.pathname);Re?Re.add(N.pathname):(Re=new Set([N.pathname]),A.set(P.location.pathname,Re)),re={currentLocation:P.location,nextLocation:N}}it($e({},M,{actionData:Z,loaderData:q,historyAction:v,location:N,initialized:!0,navigation:gc,revalidation:"idle",restoreScrollPosition:Do(N,M.matches||P.matches),preventScrollReset:Ne,blockers:le}),{viewTransitionOpts:re,flushSync:ae===!0}),v=We.Pop,y=!1,S=!1,T=!1,je=!1,Qt=[],En=[]}async function _i(N,M){if(typeof N=="number"){t.history.go(N);return}let b=wh(P.location,P.matches,u,h.v7_prependBasename,N,h.v7_relativeSplatPath,M==null?void 0:M.fromRouteId,M==null?void 0:M.relative),{path:W,submission:G,error:ae}=dm(h.v7_normalizeFormMethod,!1,b,M),J=P.location,Z=bs(P.location,W,M&&M.state);Z=$e({},Z,t.history.encodeLocation(Z));let q=M&&M.replace!=null?M.replace:void 0,le=We.Push;q===!0?le=We.Replace:q===!1||G!=null&&fn(G.formMethod)&&G.formAction===P.location.pathname+P.location.search&&(le=We.Replace);let Ne=M&&"preventScrollReset"in M?M.preventScrollReset===!0:void 0,re=(M&&M.unstable_flushSync)===!0,Re=wi({currentLocation:J,nextLocation:Z,historyAction:le});if(Re){Or(Re,{state:"blocked",location:Z,proceed(){Or(Re,{state:"proceeding",proceed:void 0,reset:void 0,location:Z}),_i(N,M)},reset(){let Ze=new Map(P.blockers);Ze.set(Re,Qo),it({blockers:Ze})}});return}return await ln(le,Z,{submission:G,pendingError:ae,preventScrollReset:Ne,replace:M&&M.replace,enableViewTransition:M&&M.unstable_viewTransition,flushSync:re})}function Io(){if(Ao(),it({revalidation:"loading"}),P.navigation.state!=="submitting"){if(P.navigation.state==="idle"){ln(P.historyAction,P.location,{startUninterruptedRevalidation:!0});return}ln(v||P.historyAction,P.navigation.location,{overrideNavigation:P.navigation})}}async function ln(N,M,b){_&&_.abort(),_=null,v=N,T=(b&&b.startUninterruptedRevalidation)===!0,pa(P.location,P.matches),y=(b&&b.preventScrollReset)===!0,S=(b&&b.enableViewTransition)===!0;let W=l||s,G=b&&b.overrideNavigation,ae=$i(W,M,u),J=(b&&b.flushSync)===!0;if(!ae){let Ze=Zt(404,{pathname:M.pathname}),{matches:Qe,route:Ge}=_m(W);xo(),Nn(M,{matches:Qe,loaderData:{},errors:{[Ge.id]:Ze}},{flushSync:J});return}if(P.initialized&&!je&&_T(P.location,M)&&!(b&&b.submission&&fn(b.submission.formMethod))){Nn(M,{matches:ae},{flushSync:J});return}_=new AbortController;let Z=Yo(t.history,M,_.signal,b&&b.submission),q,le;if(b&&b.pendingError)le={[gs(ae).route.id]:b.pendingError};else if(b&&b.submission&&fn(b.submission.formMethod)){let Ze=await ua(Z,M,b.submission,ae,{replace:b.replace,flushSync:J});if(Ze.shortCircuited)return;q=Ze.pendingActionData,le=Ze.pendingActionError,G=yc(M,b.submission),J=!1,Z=new Request(Z.url,{signal:Z.signal})}let{shortCircuited:Ne,loaderData:re,errors:Re}=await ca(Z,M,ae,G,b&&b.submission,b&&b.fetcherSubmission,b&&b.replace,b&&b.initialHydration===!0,J,q,le);Ne||(_=null,Nn(M,$e({matches:ae},q?{actionData:q}:{},{loaderData:re,errors:Re})))}async function ua(N,M,b,W,G){G===void 0&&(G={}),Ao();let ae=ST(M,b);it({navigation:ae},{flushSync:G.flushSync===!0});let J,Z=Sh(W,M);if(!Z.route.action&&!Z.route.lazy)J={type:Ue.error,error:Zt(405,{method:N.method,pathname:M.pathname,routeId:Z.route.id})};else if(J=await Go("action",N,Z,W,o,i,u,h.v7_relativeSplatPath),N.signal.aborted)return{shortCircuited:!0};if(Yr(J)){let q;return G&&G.replace!=null?q=G.replace:q=J.location===P.location.pathname+P.location.search,await Vn(P,J,{submission:b,replace:q}),{shortCircuited:!0}}if(Hi(J)){let q=gs(W,Z.route.id);return(G&&G.replace)!==!0&&(v=We.Push),{pendingActionData:{},pendingActionError:{[q.route.id]:J.error}}}if(Gr(J))throw Zt(400,{type:"defer-action"});return{pendingActionData:{[Z.route.id]:J.data}}}async function ca(N,M,b,W,G,ae,J,Z,q,le,Ne){let re=W||yc(M,G),Re=G||ae||Tm(re),Ze=l||s,[Qe,Ge]=fm(t.history,P,b,Re,M,h.v7_partialHydration&&Z===!0,je,Qt,En,Je,de,me,Ze,u,le,Ne);if(xo(fe=>!(b&&b.some(we=>we.route.id===fe))||Qe&&Qe.some(we=>we.route.id===fe)),te=++K,Qe.length===0&&Ge.length===0){let fe=Po();return Nn(M,$e({matches:b,loaderData:{},errors:Ne||null},le?{actionData:le}:{},fe?{fetchers:new Map(P.fetchers)}:{}),{flushSync:q}),{shortCircuited:!0}}if(!T&&(!h.v7_partialHydration||!Z)){Ge.forEach(we=>{let _t=P.fetchers.get(we.key),On=Xo(void 0,_t?_t.data:void 0);P.fetchers.set(we.key,On)});let fe=le||P.actionData;it($e({navigation:re},fe?Object.keys(fe).length===0?{actionData:null}:{actionData:fe}:{},Ge.length>0?{fetchers:new Map(P.fetchers)}:{}),{flushSync:q})}Ge.forEach(fe=>{Te.has(fe.key)&&Bt(fe.key),fe.controller&&Te.set(fe.key,fe.controller)});let er=()=>Ge.forEach(fe=>Bt(fe.key));_&&_.signal.addEventListener("abort",er);let{results:tr,loaderResults:Ln,fetcherResults:Yt}=await Ro(P.matches,b,Qe,Ge,N);if(N.signal.aborted)return{shortCircuited:!0};_&&_.signal.removeEventListener("abort",er),Ge.forEach(fe=>Te.delete(fe.key));let Xt=Em(tr);if(Xt){if(Xt.idx>=Qe.length){let fe=Ge[Xt.idx-Qe.length].key;me.add(fe)}return await Vn(P,Xt.result,{replace:J}),{shortCircuited:!0}}let{loaderData:Jt,errors:nr}=ym(P,b,Qe,Ln,Ne,Ge,Yt,lt);lt.forEach((fe,we)=>{fe.subscribe(_t=>{(_t||fe.done)&&lt.delete(we)})}),h.v7_partialHydration&&Z&&P.errors&&Object.entries(P.errors).filter(fe=>{let[we]=fe;return!Qe.some(_t=>_t.route.id===we)}).forEach(fe=>{let[we,_t]=fe;nr=Object.assign(nr||{},{[we]:_t})});let Si=Po(),wn=fa(te),rr=Si||wn||Ge.length>0;return $e({loaderData:Jt,errors:nr},rr?{fetchers:new Map(P.fetchers)}:{})}function Nu(N,M,b,W){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Te.has(N)&&Bt(N);let G=(W&&W.unstable_flushSync)===!0,ae=l||s,J=wh(P.location,P.matches,u,h.v7_prependBasename,b,h.v7_relativeSplatPath,M,W==null?void 0:W.relative),Z=$i(ae,J,u);if(!Z){Mn(N,M,Zt(404,{pathname:J}),{flushSync:G});return}let{path:q,submission:le,error:Ne}=dm(h.v7_normalizeFormMethod,!0,J,W);if(Ne){Mn(N,M,Ne,{flushSync:G});return}let re=Sh(Z,q);if(y=(W&&W.preventScrollReset)===!0,le&&fn(le.formMethod)){ha(N,M,q,re,Z,G,le);return}de.set(N,{routeId:M,path:q}),da(N,M,q,re,Z,G,le)}async function ha(N,M,b,W,G,ae,J){if(Ao(),de.delete(N),!W.route.action&&!W.route.lazy){let we=Zt(405,{method:J.formMethod,pathname:b,routeId:M});Mn(N,M,we,{flushSync:ae});return}let Z=P.fetchers.get(N);Gt(N,IT(J,Z),{flushSync:ae});let q=new AbortController,le=Yo(t.history,b,q.signal,J);Te.set(N,q);let Ne=K,re=await Go("action",le,W,G,o,i,u,h.v7_relativeSplatPath);if(le.signal.aborted){Te.get(N)===q&&Te.delete(N);return}if(h.v7_fetcherPersist&&Je.has(N)){if(Yr(re)||Hi(re)){Gt(N,ar(void 0));return}}else{if(Yr(re))if(Te.delete(N),te>Ne){Gt(N,ar(void 0));return}else return me.add(N),Gt(N,Xo(J)),Vn(P,re,{fetcherSubmission:J});if(Hi(re)){Mn(N,M,re.error);return}}if(Gr(re))throw Zt(400,{type:"defer-action"});let Re=P.navigation.location||P.location,Ze=Yo(t.history,Re,q.signal),Qe=l||s,Ge=P.navigation.state!=="idle"?$i(Qe,P.navigation.location,u):P.matches;ue(Ge,"Didn't find any matches after fetcher action");let er=++K;ne.set(N,er);let tr=Xo(J,re.data);P.fetchers.set(N,tr);let[Ln,Yt]=fm(t.history,P,Ge,J,Re,!1,je,Qt,En,Je,de,me,Qe,u,{[W.route.id]:re.data},void 0);Yt.filter(we=>we.key!==N).forEach(we=>{let _t=we.key,On=P.fetchers.get(_t),ma=Xo(void 0,On?On.data:void 0);P.fetchers.set(_t,ma),Te.has(_t)&&Bt(_t),we.controller&&Te.set(_t,we.controller)}),it({fetchers:new Map(P.fetchers)});let Xt=()=>Yt.forEach(we=>Bt(we.key));q.signal.addEventListener("abort",Xt);let{results:Jt,loaderResults:nr,fetcherResults:Si}=await Ro(P.matches,Ge,Ln,Yt,Ze);if(q.signal.aborted)return;q.signal.removeEventListener("abort",Xt),ne.delete(N),Te.delete(N),Yt.forEach(we=>Te.delete(we.key));let wn=Em(Jt);if(wn){if(wn.idx>=Ln.length){let we=Yt[wn.idx-Ln.length].key;me.add(we)}return Vn(P,wn.result)}let{loaderData:rr,errors:fe}=ym(P,P.matches,Ln,nr,void 0,Yt,Si,lt);if(P.fetchers.has(N)){let we=ar(re.data);P.fetchers.set(N,we)}fa(er),P.navigation.state==="loading"&&er>te?(ue(v,"Expected pending action"),_&&_.abort(),Nn(P.navigation.location,{matches:Ge,loaderData:rr,errors:fe,fetchers:new Map(P.fetchers)})):(it({errors:fe,loaderData:vm(P.loaderData,rr,Ge,fe),fetchers:new Map(P.fetchers)}),je=!1)}async function da(N,M,b,W,G,ae,J){let Z=P.fetchers.get(N);Gt(N,Xo(J,Z?Z.data:void 0),{flushSync:ae});let q=new AbortController,le=Yo(t.history,b,q.signal);Te.set(N,q);let Ne=K,re=await Go("loader",le,W,G,o,i,u,h.v7_relativeSplatPath);if(Gr(re)&&(re=await u_(re,le.signal,!0)||re),Te.get(N)===q&&Te.delete(N),!le.signal.aborted){if(Je.has(N)){Gt(N,ar(void 0));return}if(Yr(re))if(te>Ne){Gt(N,ar(void 0));return}else{me.add(N),await Vn(P,re);return}if(Hi(re)){Mn(N,M,re.error);return}ue(!Gr(re),"Unhandled fetcher deferred data"),Gt(N,ar(re.data))}}async function Vn(N,M,b){let{submission:W,fetcherSubmission:G,replace:ae}=b===void 0?{}:b;M.revalidate&&(je=!0);let J=bs(N.location,M.location,{_isRedirect:!0});if(ue(J,"Expected a location on the redirect navigation"),n){let Re=!1;if(M.reloadDocument)Re=!0;else if(o_.test(M.location)){const Ze=t.history.createURL(M.location);Re=Ze.origin!==e.location.origin||vo(Ze.pathname,u)==null}if(Re){ae?e.location.replace(M.location):e.location.assign(M.location);return}}_=null;let Z=ae===!0?We.Replace:We.Push,{formMethod:q,formAction:le,formEncType:Ne}=N.navigation;!W&&!G&&q&&le&&Ne&&(W=Tm(N.navigation));let re=W||G;if(hT.has(M.status)&&re&&fn(re.formMethod))await ln(Z,J,{submission:$e({},re,{formAction:M.location}),preventScrollReset:y});else{let Re=yc(J,W);await ln(Z,J,{overrideNavigation:Re,fetcherSubmission:G,preventScrollReset:y})}}async function Ro(N,M,b,W,G){let ae=await Promise.all([...b.map(q=>Go("loader",G,q,M,o,i,u,h.v7_relativeSplatPath)),...W.map(q=>q.matches&&q.match&&q.controller?Go("loader",Yo(t.history,q.path,q.controller.signal),q.match,q.matches,o,i,u,h.v7_relativeSplatPath):{type:Ue.error,error:Zt(404,{pathname:q.path})})]),J=ae.slice(0,b.length),Z=ae.slice(b.length);return await Promise.all([wm(N,b,J,J.map(()=>G.signal),!1,P.loaderData),wm(N,W.map(q=>q.match),Z,W.map(q=>q.controller?q.controller.signal:null),!0)]),{results:ae,loaderResults:J,fetcherResults:Z}}function Ao(){je=!0,Qt.push(...xo()),de.forEach((N,M)=>{Te.has(M)&&(En.push(M),Bt(M))})}function Gt(N,M,b){b===void 0&&(b={}),P.fetchers.set(N,M),it({fetchers:new Map(P.fetchers)},{flushSync:(b&&b.flushSync)===!0})}function Mn(N,M,b,W){W===void 0&&(W={});let G=gs(P.matches,M);He(N),it({errors:{[G.route.id]:b},fetchers:new Map(P.fetchers)},{flushSync:(W&&W.flushSync)===!0})}function Ei(N){return h.v7_fetcherPersist&&(Ae.set(N,(Ae.get(N)||0)+1),Je.has(N)&&Je.delete(N)),P.fetchers.get(N)||dT}function He(N){let M=P.fetchers.get(N);Te.has(N)&&!(M&&M.state==="loading"&&ne.has(N))&&Bt(N),de.delete(N),ne.delete(N),me.delete(N),Je.delete(N),P.fetchers.delete(N)}function ct(N){if(h.v7_fetcherPersist){let M=(Ae.get(N)||0)-1;M<=0?(Ae.delete(N),Je.add(N)):Ae.set(N,M)}else He(N);it({fetchers:new Map(P.fetchers)})}function Bt(N){let M=Te.get(N);ue(M,"Expected fetch controller: "+N),M.abort(),Te.delete(N)}function Co(N){for(let M of N){let b=Ei(M),W=ar(b.data);P.fetchers.set(M,W)}}function Po(){let N=[],M=!1;for(let b of me){let W=P.fetchers.get(b);ue(W,"Expected fetcher: "+b),W.state==="loading"&&(me.delete(b),N.push(b),M=!0)}return Co(N),M}function fa(N){let M=[];for(let[b,W]of ne)if(W<N){let G=P.fetchers.get(b);ue(G,"Expected fetcher: "+b),G.state==="loading"&&(Bt(b),ne.delete(b),M.push(b))}return Co(M),M.length>0}function Lr(N,M){let b=P.blockers.get(N)||Qo;return ut.get(N)!==M&&ut.set(N,M),b}function ko(N){P.blockers.delete(N),ut.delete(N)}function Or(N,M){let b=P.blockers.get(N)||Qo;ue(b.state==="unblocked"&&M.state==="blocked"||b.state==="blocked"&&M.state==="blocked"||b.state==="blocked"&&M.state==="proceeding"||b.state==="blocked"&&M.state==="unblocked"||b.state==="proceeding"&&M.state==="unblocked","Invalid blocker state transition: "+b.state+" -> "+M.state);let W=new Map(P.blockers);W.set(N,M),it({blockers:W})}function wi(N){let{currentLocation:M,nextLocation:b,historyAction:W}=N;if(ut.size===0)return;ut.size>1&&so(!1,"A router only supports one blocker at a time");let G=Array.from(ut.entries()),[ae,J]=G[G.length-1],Z=P.blockers.get(ae);if(!(Z&&Z.state==="proceeding")&&J({currentLocation:M,nextLocation:b,historyAction:W}))return ae}function xo(N){let M=[];return lt.forEach((b,W)=>{(!N||N(W))&&(b.cancel(),M.push(W),lt.delete(W))}),M}function Vu(N,M,b){if(g=N,C=M,R=b||null,!k&&P.navigation===gc){k=!0;let W=Do(P.location,P.matches);W!=null&&it({restoreScrollPosition:W})}return()=>{g=null,C=null,R=null}}function Ti(N,M){return R&&R(N,M.map(W=>z1(W,P.loaderData)))||N.key}function pa(N,M){if(g&&C){let b=Ti(N,M);g[b]=C()}}function Do(N,M){if(g){let b=Ti(N,M),W=g[b];if(typeof W=="number")return W}return null}function Fr(N){o={},l=Eh(N,i,void 0,o)}return $={get basename(){return u},get future(){return h},get state(){return P},get routes(){return s},get window(){return e},initialize:xu,subscribe:vi,enableScrollRestoration:Vu,navigate:_i,fetch:Nu,revalidate:Io,createHref:N=>t.history.createHref(N),encodeLocation:N=>t.history.encodeLocation(N),getFetcher:Ei,deleteFetcher:ct,dispose:Du,getBlocker:Lr,deleteBlocker:ko,_internalFetchControllers:Te,_internalActiveDeferreds:lt,_internalSetRoutes:Fr},$}function mT(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function wh(t,e,n,r,i,o,s,l){let u,h;if(s){u=[];for(let p of e)if(u.push(p),p.route.id===s){h=p;break}}else u=e,h=e[e.length-1];let f=Bd(i||".",jd(u,o),vo(t.pathname,n)||t.pathname,l==="path");return i==null&&(f.search=t.search,f.hash=t.hash),(i==null||i===""||i===".")&&h&&h.route.index&&!zd(f.search)&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(f.pathname=f.pathname==="/"?n:Hn([n,f.pathname])),si(f)}function dm(t,e,n,r){if(!r||!mT(r))return{path:n};if(r.formMethod&&!TT(r.formMethod))return{path:n,error:Zt(405,{method:r.formMethod})};let i=()=>({path:n,error:Zt(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),l=l_(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!fn(s))return i();let g=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((R,C)=>{let[k,x]=C;return""+R+k+"="+x+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:g}}}else if(r.formEncType==="application/json"){if(!fn(s))return i();try{let g=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:l,formEncType:r.formEncType,formData:void 0,json:g,text:void 0}}}catch{return i()}}}ue(typeof FormData=="function","FormData is not available in this environment");let u,h;if(r.formData)u=Th(r.formData),h=r.formData;else if(r.body instanceof FormData)u=Th(r.body),h=r.body;else if(r.body instanceof URLSearchParams)u=r.body,h=gm(u);else if(r.body==null)u=new URLSearchParams,h=new FormData;else try{u=new URLSearchParams(r.body),h=gm(u)}catch{return i()}let f={formMethod:s,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(fn(f.formMethod))return{path:n,submission:f};let p=Zn(n);return e&&p.search&&zd(p.search)&&u.append("index",""),p.search="?"+u,{path:si(p),submission:f}}function gT(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function fm(t,e,n,r,i,o,s,l,u,h,f,p,g,R,C,k){let x=k?Object.values(k)[0]:C?Object.values(C)[0]:void 0,w=t.createURL(e.location),E=t.createURL(i),I=k?Object.keys(k)[0]:void 0,$=gT(n,I).filter((v,y)=>{let{route:_}=v;if(_.lazy)return!0;if(_.loader==null)return!1;if(o)return _.loader.hydrate?!0:e.loaderData[_.id]===void 0&&(!e.errors||e.errors[_.id]===void 0);if(yT(e.loaderData,e.matches[y],v)||l.some(D=>D===v.route.id))return!0;let S=e.matches[y],A=v;return pm(v,$e({currentUrl:w,currentParams:S.params,nextUrl:E,nextParams:A.params},r,{actionResult:x,defaultShouldRevalidate:s||w.pathname+w.search===E.pathname+E.search||w.search!==E.search||a_(S,A)}))}),P=[];return f.forEach((v,y)=>{if(o||!n.some(T=>T.route.id===v.routeId)||h.has(y))return;let _=$i(g,v.path,R);if(!_){P.push({key:y,routeId:v.routeId,path:v.path,matches:null,match:null,controller:null});return}let S=e.fetchers.get(y),A=Sh(_,v.path),D=!1;p.has(y)?D=!1:u.includes(y)?D=!0:S&&S.state!=="idle"&&S.data===void 0?D=s:D=pm(A,$e({currentUrl:w,currentParams:e.matches[e.matches.length-1].params,nextUrl:E,nextParams:n[n.length-1].params},r,{actionResult:x,defaultShouldRevalidate:s})),D&&P.push({key:y,routeId:v.routeId,path:v.path,matches:_,match:A,controller:new AbortController})}),[$,P]}function yT(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function a_(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function pm(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function mm(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];ue(i,"No route found in manifest");let o={};for(let s in r){let u=i[s]!==void 0&&s!=="hasErrorBoundary";so(!u,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!u&&!B1.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,$e({},e(i),{lazy:void 0}))}async function Go(t,e,n,r,i,o,s,l,u){u===void 0&&(u={});let h,f,p,g=k=>{let x,w=new Promise((E,I)=>x=I);return p=()=>x(),e.signal.addEventListener("abort",p),Promise.race([k({request:e,params:n.params,context:u.requestContext}),w])};try{let k=n.route[t];if(n.route.lazy)if(k){let x,w=await Promise.all([g(k).catch(E=>{x=E}),mm(n.route,o,i)]);if(x)throw x;f=w[0]}else if(await mm(n.route,o,i),k=n.route[t],k)f=await g(k);else if(t==="action"){let x=new URL(e.url),w=x.pathname+x.search;throw Zt(405,{method:e.method,pathname:w,routeId:n.route.id})}else return{type:Ue.data,data:void 0};else if(k)f=await g(k);else{let x=new URL(e.url),w=x.pathname+x.search;throw Zt(404,{pathname:w})}ue(f!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(k){h=Ue.error,f=k}finally{p&&e.signal.removeEventListener("abort",p)}if(wT(f)){let k=f.status;if(cT.has(k)){let w=f.headers.get("Location");if(ue(w,"Redirects returned/thrown from loaders/actions must have a Location header"),!o_.test(w))w=wh(new URL(e.url),r.slice(0,r.indexOf(n)+1),s,!0,w,l);else if(!u.isStaticRequest){let E=new URL(e.url),I=w.startsWith("//")?new URL(E.protocol+w):new URL(w),O=vo(I.pathname,s)!=null;I.origin===E.origin&&O&&(w=I.pathname+I.search+I.hash)}if(u.isStaticRequest)throw f.headers.set("Location",w),f;return{type:Ue.redirect,status:k,location:w,revalidate:f.headers.get("X-Remix-Revalidate")!==null,reloadDocument:f.headers.get("X-Remix-Reload-Document")!==null}}if(u.isRouteRequest)throw{type:h===Ue.error?Ue.error:Ue.data,response:f};let x;try{let w=f.headers.get("Content-Type");w&&/\bapplication\/json\b/.test(w)?f.body==null?x=null:x=await f.json():x=await f.text()}catch(w){return{type:Ue.error,error:w}}return h===Ue.error?{type:h,error:new Ud(k,f.statusText,x),headers:f.headers}:{type:Ue.data,data:x,statusCode:f.status,headers:f.headers}}if(h===Ue.error)return{type:h,error:f};if(ET(f)){var R,C;return{type:Ue.deferred,deferredData:f,statusCode:(R=f.init)==null?void 0:R.status,headers:((C=f.init)==null?void 0:C.headers)&&new Headers(f.init.headers)}}return{type:Ue.data,data:f}}function Yo(t,e,n,r){let i=t.createURL(l_(e)).toString(),o={signal:n};if(r&&fn(r.formMethod)){let{formMethod:s,formEncType:l}=r;o.method=s.toUpperCase(),l==="application/json"?(o.headers=new Headers({"Content-Type":l}),o.body=JSON.stringify(r.json)):l==="text/plain"?o.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?o.body=Th(r.formData):o.body=r.formData}return new Request(i,o)}function Th(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function gm(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function vT(t,e,n,r,i){let o={},s=null,l,u=!1,h={};return n.forEach((f,p)=>{let g=e[p].route.id;if(ue(!Yr(f),"Cannot handle redirect results in processLoaderData"),Hi(f)){let R=gs(t,g),C=f.error;r&&(C=Object.values(r)[0],r=void 0),s=s||{},s[R.route.id]==null&&(s[R.route.id]=C),o[g]=void 0,u||(u=!0,l=r_(f.error)?f.error.status:500),f.headers&&(h[g]=f.headers)}else Gr(f)?(i.set(g,f.deferredData),o[g]=f.deferredData.data):o[g]=f.data,f.statusCode!=null&&f.statusCode!==200&&!u&&(l=f.statusCode),f.headers&&(h[g]=f.headers)}),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:l||200,loaderHeaders:h}}function ym(t,e,n,r,i,o,s,l){let{loaderData:u,errors:h}=vT(e,n,r,i,l);for(let f=0;f<o.length;f++){let{key:p,match:g,controller:R}=o[f];ue(s!==void 0&&s[f]!==void 0,"Did not find corresponding fetcher result");let C=s[f];if(!(R&&R.signal.aborted))if(Hi(C)){let k=gs(t.matches,g==null?void 0:g.route.id);h&&h[k.route.id]||(h=$e({},h,{[k.route.id]:C.error})),t.fetchers.delete(p)}else if(Yr(C))ue(!1,"Unhandled fetcher revalidation redirect");else if(Gr(C))ue(!1,"Unhandled fetcher deferred data");else{let k=ar(C.data);t.fetchers.set(p,k)}}return{loaderData:u,errors:h}}function vm(t,e,n,r){let i=$e({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function gs(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function _m(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Zt(t,e){let{pathname:n,routeId:r,method:i,type:o}=e===void 0?{}:e,s="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(s="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?l="defer() is not supported in actions":o==="invalid-body"&&(l="Unable to encode submission body")):t===403?(s="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(s="Not Found",l='No route matches URL "'+n+'"'):t===405&&(s="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new Ud(t||500,s,new Error(l),!0)}function Em(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Yr(n))return{result:n,idx:e}}}function l_(t){let e=typeof t=="string"?Zn(t):t;return si($e({},e,{hash:""}))}function _T(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Gr(t){return t.type===Ue.deferred}function Hi(t){return t.type===Ue.error}function Yr(t){return(t&&t.type)===Ue.redirect}function ET(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function wT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function TT(t){return uT.has(t.toLowerCase())}function fn(t){return aT.has(t.toLowerCase())}async function wm(t,e,n,r,i,o){for(let s=0;s<n.length;s++){let l=n[s],u=e[s];if(!u)continue;let h=t.find(p=>p.route.id===u.route.id),f=h!=null&&!a_(h,u)&&(o&&o[u.route.id])!==void 0;if(Gr(l)&&(i||f)){let p=r[s];ue(p,"Expected an AbortSignal for revalidating fetcher deferred result"),await u_(l,p,i).then(g=>{g&&(n[s]=g||n[s])})}}}async function u_(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Ue.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Ue.error,error:i}}return{type:Ue.data,data:t.deferredData.data}}}function zd(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Sh(t,e){let n=typeof e=="string"?Zn(e).search:e.search;if(t[t.length-1].route.index&&zd(n||""))return t[t.length-1];let r=n_(t);return r[r.length-1]}function Tm(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function yc(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ST(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Xo(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function IT(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ar(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function RT(t,e){try{let n=t.sessionStorage.getItem(s_);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function AT(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(s_,JSON.stringify(n))}catch(r){so(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.22.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function js(){return js=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},js.apply(this,arguments)}const pu=j.createContext(null),c_=j.createContext(null),di=j.createContext(null),mu=j.createContext(null),fi=j.createContext({outlet:null,matches:[],isDataRoute:!1}),h_=j.createContext(null);function CT(t,e){let{relative:n}=e===void 0?{}:e;na()||ue(!1);let{basename:r,navigator:i}=j.useContext(di),{hash:o,pathname:s,search:l}=f_(t,{relative:n}),u=s;return r!=="/"&&(u=s==="/"?r:Hn([r,s])),i.createHref({pathname:u,search:l,hash:o})}function na(){return j.useContext(mu)!=null}function gu(){return na()||ue(!1),j.useContext(mu).location}function d_(t){j.useContext(di).static||j.useLayoutEffect(t)}function PT(){let{isDataRoute:t}=j.useContext(fi);return t?BT():kT()}function kT(){na()||ue(!1);let t=j.useContext(pu),{basename:e,future:n,navigator:r}=j.useContext(di),{matches:i}=j.useContext(fi),{pathname:o}=gu(),s=JSON.stringify(jd(i,n.v7_relativeSplatPath)),l=j.useRef(!1);return d_(()=>{l.current=!0}),j.useCallback(function(h,f){if(f===void 0&&(f={}),!l.current)return;if(typeof h=="number"){r.go(h);return}let p=Bd(h,JSON.parse(s),o,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Hn([e,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[e,r,s,o,t])}function f_(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=j.useContext(di),{matches:i}=j.useContext(fi),{pathname:o}=gu(),s=JSON.stringify(jd(i,r.v7_relativeSplatPath));return j.useMemo(()=>Bd(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function xT(t,e,n,r){na()||ue(!1);let{navigator:i}=j.useContext(di),{matches:o}=j.useContext(fi),s=o[o.length-1],l=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let h=gu(),f;if(e){var p;let x=typeof e=="string"?Zn(e):e;u==="/"||(p=x.pathname)!=null&&p.startsWith(u)||ue(!1),f=x}else f=h;let g=f.pathname||"/",R=g;if(u!=="/"){let x=u.replace(/^\//,"").split("/");R="/"+g.replace(/^\//,"").split("/").slice(x.length).join("/")}let C=$i(t,{pathname:R}),k=LT(C&&C.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Hn([u,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:Hn([u,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,r);return e&&k?j.createElement(mu.Provider,{value:{location:js({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:We.Pop}},k):k}function DT(){let t=jT(),e=r_(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:i},n):null,null)}const NT=j.createElement(DT,null);class VT extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?j.createElement(fi.Provider,{value:this.props.routeContext},j.createElement(h_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function MT(t){let{routeContext:e,match:n,children:r}=t,i=j.useContext(pu);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(fi.Provider,{value:e},r)}function LT(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let s=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let f=s.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id]));f>=0||ue(!1),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:g,errors:R}=n,C=p.route.loader&&g[p.route.id]===void 0&&(!R||R[p.route.id]===void 0);if(p.route.lazy||C){u=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((f,p,g)=>{let R,C=!1,k=null,x=null;n&&(R=l&&p.route.id?l[p.route.id]:void 0,k=p.route.errorElement||NT,u&&(h<0&&g===0?(UT("route-fallback",!1),C=!0,x=null):h===g&&(C=!0,x=p.route.hydrateFallbackElement||null)));let w=e.concat(s.slice(0,g+1)),E=()=>{let I;return R?I=k:C?I=x:p.route.Component?I=j.createElement(p.route.Component,null):p.route.element?I=p.route.element:I=f,j.createElement(MT,{match:p,routeContext:{outlet:f,matches:w,isDataRoute:n!=null},children:I})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?j.createElement(VT,{location:n.location,revalidation:n.revalidation,component:k,error:R,children:E(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):E()},null)}var p_=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(p_||{}),jl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(jl||{});function OT(t){let e=j.useContext(pu);return e||ue(!1),e}function FT(t){let e=j.useContext(c_);return e||ue(!1),e}function bT(t){let e=j.useContext(fi);return e||ue(!1),e}function m_(t){let e=bT(),n=e.matches[e.matches.length-1];return n.route.id||ue(!1),n.route.id}function jT(){var t;let e=j.useContext(h_),n=FT(jl.UseRouteError),r=m_(jl.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function BT(){let{router:t}=OT(p_.UseNavigateStable),e=m_(jl.UseNavigateStable),n=j.useRef(!1);return d_(()=>{n.current=!0}),j.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,js({fromRouteId:e},o)))},[t,e])}const Sm={};function UT(t,e,n){!e&&!Sm[t]&&(Sm[t]=!0)}function zT(t){let{basename:e="/",children:n=null,location:r,navigationType:i=We.Pop,navigator:o,static:s=!1,future:l}=t;na()&&ue(!1);let u=e.replace(/^\/*/,"/"),h=j.useMemo(()=>({basename:u,navigator:o,static:s,future:js({v7_relativeSplatPath:!1},l)}),[u,l,o,s]);typeof r=="string"&&(r=Zn(r));let{pathname:f="/",search:p="",hash:g="",state:R=null,key:C="default"}=r,k=j.useMemo(()=>{let x=vo(f,u);return x==null?null:{location:{pathname:x,search:p,hash:g,state:R,key:C},navigationType:i}},[u,f,p,g,R,C,i]);return k==null?null:j.createElement(di.Provider,{value:h},j.createElement(mu.Provider,{children:n,value:k}))}new Promise(()=>{});function $T(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:j.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:j.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:j.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.22.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bs(){return Bs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bs.apply(this,arguments)}function HT(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function WT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function KT(t,e){return t.button===0&&(!e||e==="_self")&&!WT(t)}const qT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],QT="6";try{window.__reactRouterVersion=QT}catch{}function GT(t,e){return pT({basename:e==null?void 0:e.basename,future:Bs({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:F1({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||YT(),routes:t,mapRouteProperties:$T,window:e==null?void 0:e.window}).initialize()}function YT(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Bs({},e,{errors:XT(e.errors)})),e}function XT(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Ud(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const JT=j.createContext({isTransitioning:!1}),ZT=j.createContext(new Map),eS="startTransition",Im=RE[eS],tS="flushSync",Rm=O1[tS];function nS(t){Im?Im(t):t()}function Jo(t){Rm?Rm(t):t()}let rS=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function iS(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=j.useState(n.state),[s,l]=j.useState(),[u,h]=j.useState({isTransitioning:!1}),[f,p]=j.useState(),[g,R]=j.useState(),[C,k]=j.useState(),x=j.useRef(new Map),{v7_startTransition:w}=r||{},E=j.useCallback(v=>{w?nS(v):v()},[w]),I=j.useCallback((v,y)=>{let{deletedFetchers:_,unstable_flushSync:S,unstable_viewTransitionOpts:A}=y;_.forEach(T=>x.current.delete(T)),v.fetchers.forEach((T,je)=>{T.data!==void 0&&x.current.set(je,T.data)});let D=n.window==null||typeof n.window.document.startViewTransition!="function";if(!A||D){S?Jo(()=>o(v)):E(()=>o(v));return}if(S){Jo(()=>{g&&(f&&f.resolve(),g.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:A.currentLocation,nextLocation:A.nextLocation})});let T=n.window.document.startViewTransition(()=>{Jo(()=>o(v))});T.finished.finally(()=>{Jo(()=>{p(void 0),R(void 0),l(void 0),h({isTransitioning:!1})})}),Jo(()=>R(T));return}g?(f&&f.resolve(),g.skipTransition(),k({state:v,currentLocation:A.currentLocation,nextLocation:A.nextLocation})):(l(v),h({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}))},[n.window,g,f,x,E]);j.useLayoutEffect(()=>n.subscribe(I),[n,I]),j.useEffect(()=>{u.isTransitioning&&!u.flushSync&&p(new rS)},[u]),j.useEffect(()=>{if(f&&s&&n.window){let v=s,y=f.promise,_=n.window.document.startViewTransition(async()=>{E(()=>o(v)),await y});_.finished.finally(()=>{p(void 0),R(void 0),l(void 0),h({isTransitioning:!1})}),R(_)}},[E,s,f,n.window]),j.useEffect(()=>{f&&s&&i.location.key===s.location.key&&f.resolve()},[f,g,i.location,s]),j.useEffect(()=>{!u.isTransitioning&&C&&(l(C.state),h({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}),k(void 0))},[u.isTransitioning,C]),j.useEffect(()=>{},[]);let O=j.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:v=>n.navigate(v),push:(v,y,_)=>n.navigate(v,{state:y,preventScrollReset:_==null?void 0:_.preventScrollReset}),replace:(v,y,_)=>n.navigate(v,{replace:!0,state:y,preventScrollReset:_==null?void 0:_.preventScrollReset})}),[n]),$=n.basename||"/",P=j.useMemo(()=>({router:n,navigator:O,static:!1,basename:$}),[n,O,$]);return j.createElement(j.Fragment,null,j.createElement(pu.Provider,{value:P},j.createElement(c_.Provider,{value:i},j.createElement(ZT.Provider,{value:x.current},j.createElement(JT.Provider,{value:u},j.createElement(zT,{basename:$,location:i.location,navigationType:i.historyAction,navigator:O,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?j.createElement(oS,{routes:n.routes,future:n.future,state:i}):e))))),null)}function oS(t){let{routes:e,future:n,state:r}=t;return xT(e,void 0,r,n)}const sS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ur=j.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:l,target:u,to:h,preventScrollReset:f,unstable_viewTransition:p}=e,g=HT(e,qT),{basename:R}=j.useContext(di),C,k=!1;if(typeof h=="string"&&aS.test(h)&&(C=h,sS))try{let I=new URL(window.location.href),O=h.startsWith("//")?new URL(I.protocol+h):new URL(h),$=vo(O.pathname,R);O.origin===I.origin&&$!=null?h=$+O.search+O.hash:k=!0}catch{}let x=CT(h,{relative:i}),w=lS(h,{replace:s,state:l,target:u,preventScrollReset:f,relative:i,unstable_viewTransition:p});function E(I){r&&r(I),I.defaultPrevented||w(I)}return j.createElement("a",Bs({},g,{href:C||x,onClick:k||o?r:E,ref:n,target:u}))});var Am;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Am||(Am={}));var Cm;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Cm||(Cm={}));function lS(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:l}=e===void 0?{}:e,u=PT(),h=gu(),f=f_(t,{relative:s});return j.useCallback(p=>{if(KT(p,n)){p.preventDefault();let g=r!==void 0?r:si(h)===si(f);u(t,{replace:g,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:l})}},[h,u,f,r,i,n,t,o,s,l])}const uS="_App_qq0g3_1",cS="_AppHeader_qq0g3_7",Pm={App:uS,AppHeader:cS},hS="_Background_1bobj_1",dS="_BackgroundMond_1bobj_14",fS="_BackgroundLiyue_1bobj_27",pS="_BackgroundIna_1bobj_40",mS="_BackgroundSum_1bobj_53",gS="_BackgroundFon_1bobj_66",yS="_BackgroundNat_1bobj_79",pi={Background:hS,BackgroundMond:dS,BackgroundLiyue:fS,BackgroundIna:pS,BackgroundSum:mS,BackgroundFon:gS,BackgroundNat:yS};function vS(){return F.jsx("div",{className:pi.Background})}const _S="_ButtonsColumn_xz8t6_2",ES="_ButtonsRow_xz8t6_9",wS="_Button_xz8t6_2",TS="_ElectroSigil_xz8t6_29",SS="_GeoSigil_xz8t6_33",IS="_AnemoSigil_xz8t6_37",RS="_HydroSigil_xz8t6_41",AS="_CryoSigil_xz8t6_45",CS="_PyroSigil_xz8t6_49",PS="_Neuv_xz8t6_53",kS="_Wanderer_xz8t6_57",xS="_Ayaka_xz8t6_61",DS="_Jean_xz8t6_65",NS="_Sucrose_xz8t6_69",VS="_Shenhe_xz8t6_73",MS="_Arataki_xz8t6_77",LS="_Kaeya_xz8t6_81",_e={ButtonsColumn:_S,ButtonsRow:ES,Button:wS,ElectroSigil:TS,GeoSigil:SS,AnemoSigil:IS,HydroSigil:RS,CryoSigil:AS,PyroSigil:CS,Neuv:PS,Wanderer:kS,Ayaka:xS,Jean:DS,Sucrose:NS,Shenhe:VS,Arataki:MS,Kaeya:LS},km="/assets/Raiden-DCympLwg.wav",xm="/assets/Order-CNHaDMFy.wav",Dm="/assets/xiao-CoSE7XI5.wav",Nm="/assets/pace-B9JwXf21.wav",Vm="/assets/home-CZ3mk4n5.wav",Mm="/assets/retribution-DYTGzp2B.wav",Lm="/assets/chat-B-AtWz9G.wav",Om="/assets/Sharp-DzdZewjK.wav",Fm="/assets/soRude-BInYPP0H.wav",bm="/assets/one-DaelXO8N.wav",jm="/assets/test6308-JUs0I_0y.wav",Bm="/assets/solo-DnLxZFos.wav",Um="/assets/numero-CpsdzMlM.wav",zm="/assets/frostbite-Ddtv9rGS.wav";function OS(){j.useEffect(()=>{const e=n=>{n.key==="w"||n.key==="W"?t(xm):n.key==="q"||n.key==="Q"?t(km):n.key==="e"||n.key==="E"?t(Dm):n.key==="r"||n.key==="R"?t(Nm):n.key==="t"||n.key==="T"?t(Vm):n.key==="y"||n.key==="Y"?t(Mm):n.key==="u"||n.key==="U"?t(Lm):n.key==="i"||n.key==="I"?t(Om):n.key==="o"||n.key==="O"?t(Fm):n.key==="p"||n.key==="P"?t(bm):n.key==="a"||n.key==="A"?t(jm):n.key==="s"||n.key==="S"?t(Bm):n.key==="d"||n.key==="D"?t(Um):(n.key==="f"||n.key==="F")&&t(zm)};return document.addEventListener("keypress",e),()=>{document.removeEventListener("keypress",e)}},[]);const t=e=>{new Audio(e).play()};return F.jsxs("div",{className:_e.ButtonsColumn,children:[F.jsxs("div",{className:_e.ButtonsRow,children:[F.jsx("div",{className:`${_e.Button} ${_e.ElectroSigil}`,onClick:()=>t(km)}),F.jsx("div",{className:`${_e.Button} ${_e.GeoSigil}`,onClick:()=>t(xm)}),F.jsx("div",{className:`${_e.Button} ${_e.AnemoSigil}`,onClick:()=>t(Dm)}),F.jsx("div",{className:`${_e.Button} ${_e.HydroSigil}`,onClick:()=>t(Nm)}),F.jsx("div",{className:`${_e.Button} ${_e.CryoSigil}`,onClick:()=>t(Vm)}),F.jsx("div",{className:`${_e.Button} ${_e.PyroSigil}`,onClick:()=>t(Mm)})]}),F.jsxs("div",{className:_e.ButtonsRow,children:[F.jsx("div",{className:`${_e.Button} ${_e.Neuv}`,onClick:()=>t(Lm)}),F.jsx("div",{className:`${_e.Button} ${_e.Wanderer}`,onClick:()=>t(Om)}),F.jsx("div",{className:`${_e.Button} ${_e.Ayaka}`,onClick:()=>t(Fm)}),F.jsx("div",{className:`${_e.Button} ${_e.Jean}`,onClick:()=>t(bm)}),F.jsx("div",{className:`${_e.Button} ${_e.Sucrose}`,onClick:()=>t(jm)}),F.jsx("div",{className:`${_e.Button} ${_e.Shenhe}`,onClick:()=>t(Bm)})]}),F.jsxs("div",{className:_e.ButtonsRow,children:[F.jsx("div",{className:`${_e.Button} ${_e.Arataki}`,onClick:()=>t(Um)}),F.jsx("div",{className:`${_e.Button} ${_e.Kaeya}`,onClick:()=>t(zm)})]})]})}const FS="/assets/sillychurl-Bu32SBhk.wav",bS="/assets/crimes-BwI7DXih.wav",jS="_Hutao_k3icl_2",BS="_Chevreuse_k3icl_3",US="_fadeOut_k3icl_1",zS="_Open_k3icl_15",Ha={Hutao:jS,Chevreuse:BS,fadeOut:US,Open:zS};function $S(){const t=j.useRef(null),e=j.useRef(null),n=j.useCallback((r,i)=>{new Audio(i).play(),r.classList.add(Ha.Open),r.addEventListener("animationend",()=>{r.classList.remove(Ha.Open)},{once:!0})},[]);return j.useEffect(()=>{const r=i=>{if(i.key==="h"||i.key==="H"){if(!t.current)return;n(t.current,FS)}if(i.key===","||i.key==="."){if(!e.current)return;n(e.current,bS)}};return document.addEventListener("keypress",r),()=>{document.removeEventListener("keypress",r)}},[n]),F.jsxs(F.Fragment,{children:[F.jsx("div",{ref:t,className:Ha.Hutao}),F.jsx("div",{ref:e,className:Ha.Chevreuse})]})}const HS="_NavBar_fo63q_5",WS="_container_fo63q_21",KS="_button_fo63q_26",qS="_link_fo63q_43",It={NavBar:HS,container:WS,button:KS,link:qS};function mi(){return F.jsx("div",{className:It.NavBar,children:F.jsxs("div",{className:It.container,children:[F.jsx("button",{className:It.button,children:F.jsx(Ur,{className:It.link,to:"/",children:"Zhongli Shrine"})}),F.jsx("button",{className:It.button,children:F.jsx(Ur,{className:It.link,to:"/Mondstadt",children:"Mondstadt"})}),F.jsx("button",{className:It.button,children:F.jsx(Ur,{className:It.link,to:"/Liyue",children:"Liyue"})}),F.jsx("button",{className:It.button,children:F.jsx(Ur,{className:It.link,to:"/Inazuma",children:"Inazuma"})}),F.jsx("button",{className:It.button,children:F.jsx(Ur,{className:It.link,to:"/Sumeru",children:"Sumeru"})}),F.jsx("button",{className:It.button,children:F.jsx(Ur,{className:It.link,to:"/Fontaine",children:"Fontaine"})}),F.jsx("button",{className:It.button,children:F.jsx(Ur,{className:It.link,to:"/Natlan",children:"Natlan"})})]})})}const vc={"search-bar-container":"_search-bar-container_16orx_2","search-input":"_search-input_16orx_7","search-button":"_search-button_16orx_17"};function QS(){const[t,e]=j.useState(""),n=r=>{r.key==="Enter"&&e("")};return F.jsxs("div",{className:vc["search-bar-container"],children:[F.jsx("input",{type:"text",value:t,onChange:r=>e(r.target.value),onKeyPress:n,placeholder:"Search...",className:vc["search-input"]}),F.jsx("button",{onClick:()=>e(""),className:vc["search-button"],children:"Clear"})]})}const Wa=["The Anemo Archon is a bit too undisciplined for me. If I were a god, I would not have allowed my realm to look so unorganized and ragged.","Back in the age when the gods still walked upon the earth, the deity whom we now worship as Rex Lapis was but one among many.","Today, of course, Wolvendom is presided over by the Great Wolf King of the North, and the ominous atmosphere that emanates from inside the forest is sufficient to deter most sober-headed visitors from approaching the area.","To be, or not to be, that is the question.",'Thus the people of Sangonomiya named their island Watatsumi, meaning "god of the sea," for the Great Serpent was their god.',"A consultant of the Wangsheng Funeral Parlor, he is later revealed to be the Geo Archon, Morax, who has decided to experience the world from the perspective of a mortal.","This is an age of gods and monsters. I wish not for dominion; yet I cannot watch the common folk suffer. "];function GS(){const[t,e]=j.useState(Wa[Math.floor(Math.random()*Wa.length)]);return j.useEffect(()=>{const n=setInterval(()=>{const r=Math.floor(Math.random()*Wa.length);e(Wa[r])},2e4);return()=>clearInterval(n)},[]),F.jsx("div",{children:F.jsx("p",{children:t})})}function YS(){return F.jsxs("div",{children:[F.jsx(mi,{}),F.jsxs("div",{className:Pm.App,children:[F.jsxs("header",{className:Pm.AppHeader,children:[F.jsx("h1",{children:"Zhongli Piano"}),F.jsx(QS,{}),F.jsx("p",{children:"ZhongliType"}),F.jsx(GS,{}),F.jsx(OS,{})]}),F.jsx("div",{children:F.jsx(vS,{})}),F.jsx($S,{})]})]})}function XS(){return F.jsx("div",{className:pi.BackgroundMond})}const JS="/assets/albedoIcon-CtBeEYwW.jpg",ZS="/assets/amberIcon-BLRdI3xN.jpg",eI="/assets/barbaraIcon-CuKhF20X.jpg",tI="/assets/bennettIcon-BM5U83h1.jpg",nI="/assets/dilucIcon-OJ4zIhFp.jpg",rI="/assets/dionaIcon-CnNTrFx2.jpg",iI="/assets/eulaIcon-D8q0J2l9.jpg",oI="/assets/fischlIcon-De7W8QE7.jpg",sI="/assets/jeanIcon-BEJOim7k.jpg",aI="/assets/kaeyaIcon-vAXQario.jpg",lI="/assets/kleeIcon-fvHYKib4.jpg",uI="/assets/lisaIcon-vpCkCpr0.jpg",cI="/assets/mikaIcon-CAYxUUmb.jpg",hI="/assets/monaIcon-BU4g48w1.jpg",dI="/assets/noelleIcon-D9HRd6B2.jpg",fI="/assets/razorIcon-TkRH1OJK.jpg",pI="/assets/rosariaIcon-DpsVc9JC.jpg",mI="/assets/sucroseIcon-BtBfDMGt.jpg",gI="/assets/ventiIcon-DzHKc_EX.jpg",yI="_Mond_1qy4k_1",vI="_MondHeader_1qy4k_7",_I="_mondstadtPicture_1qy4k_31",EI="_MondBox_1qy4k_37",wI="_MondColumn_1qy4k_46",TI="_MondRow_1qy4k_53",SI="_Mond2Box_1qy4k_61",Hr={Mond:yI,MondHeader:vI,mondstadtPicture:_I,MondBox:EI,MondColumn:wI,MondRow:TI,Mond2Box:SI},II=({character:t})=>{let e;switch(t.toLowerCase()){case"albedo":e=JS;break;case"amber":e=ZS;break;case"barbara":e=eI;break;case"bennett":e=tI;break;case"diluc":e=nI;break;case"diona":e=rI;break;case"eula":e=iI;break;case"fischl":e=oI;break;case"jean":e=sI;break;case"kaeya":e=aI;break;case"klee":e=lI;break;case"lisa":e=uI;break;case"mika":e=cI;break;case"mona":e=hI;break;case"noelle":e=dI;break;case"razor":e=fI;break;case"rosaria":e=pI;break;case"sucrose":e=mI;break;case"venti":e=gI;break;default:e=null}return F.jsx("div",{className:Hr.mondstadtPicture,children:e&&F.jsx("img",{src:e,alt:t})})};function RI(){const t=[{name:"Albedo",description:"Albedo, known as the Kreideprinz, is the Chief Alchemist and Captain of the Investigation Team of the Knights of Favonius.",birthday:"September 13th"},{name:"Amber",description:"Amber, the Outrider for the Knights of Favonius, fearlessly patrols the wilds of Mondstadt, safeguarding its borders from any threats that may arise.",birthday:"August 10th"},{name:"Barbara",description:"Barbara, a devoted deaconess of the Church of Favonius, uses her healing powers to bring comfort and relief to those in need.",birthday:"July 5th"},{name:"Bennett",description:"Bennett, an adventurous member of the Adventurers' Guild, embarks on daring quests to uncover treasure and defeat monsters.",birthday:"February 29th"},{name:"Diluc",description:"Diluc Ragnvindr, the enigmatic owner of the Dawn Winery, is a formidable warrior and skilled tactician.",birthday:"April 30th"},{name:"Diona",description:"Diona, a skilled bartender and expert mixologist, runs the popular tavern Cat's Tail in Mondstadt.",birthday:"January 18th"},{name:"Eula",description:"Eula Lawrence, the Spindrift Knight of Mondstadt, is a formidable warrior known for her icy demeanor and lightning-fast strikes.",birthday:"October 25th"},{name:"Fischl",description:"Fischl, the enigmatic investigator of the Adventurers' Guild, is known for her unique perspective on the world.",birthday:"May 27th"},{name:"Jean",description:"Jean Gunnhildr, the Acting Grandmaster of Mondstadt, is a steadfast leader and tireless protector of the city.",birthday:"March 14th"},{name:"Kaeya",description:"Kaeya Alberich, the Cavalry Captain of the Knights of Favonius, is a charming and enigmatic figure with a mysterious past.",birthday:"November 30th"},{name:"Klee",description:"Klee, a lively adventurer from Mondstadt, is known for her love of explosives and boundless enthusiasm.",birthday:"July 27th"},{name:"Lisa",description:"Lisa Minci, the knowledgeable librarian of the Knights of Favonius, is a skilled mage and scholar.",birthday:"June 9th"},{name:"Mika",description:"Mika, the talented blacksmith of Mondstadt, is renowned for crafting powerful weapons for the Knights of Favonius.",birthday:"August 11th"},{name:"Mona",description:"Mona Megistus, the enigmatic astrologer of Mondstadt, possesses immense knowledge of astrology and elemental magic.",birthday:"August 31st"},{name:"Noelle",description:"Noelle, the diligent maid of Mondstadt, dreams of becoming a knight and protecting others with her strength.",birthday:"March 21st"},{name:"Razor",description:"Razor, a solitary wolf-boy from Mondstadt, communicates with the wolves of Wolvendom and wields a claymore in battle.",birthday:"September 9th"},{name:"Rosaria",description:"Rosaria, the mysterious nun of Mondstadt, patrols the streets of the city at night and has a sharp tongue.",birthday:"January 24th"},{name:"Sucrose",description:"Sucrose, the shy alchemist of Mondstadt, is always engrossed in her experiments to uncover the secrets of the world.",birthday:"November 26th"},{name:"Venti",description:"Venti, the bard of Mondstadt and the current Barbatos, one of The Seven, is known for his mischievous personality and love for alcohol.",birthday:"June 16th"}];return F.jsxs("div",{children:[F.jsx(mi,{}),F.jsxs("div",{className:Hr.Mond,children:[F.jsxs("header",{className:Hr.MondHeader,children:[F.jsx("h1",{children:"Knights of Favonius"}),F.jsx("div",{className:Hr.MondBox,children:F.jsx("div",{className:Hr.MondColumn,children:t.map((e,n)=>F.jsxs("div",{className:Hr.MondRow,children:[F.jsx(II,{character:e.name}),F.jsxs("div",{className:Hr.Mond2Box,children:[F.jsx("p",{children:e.description}),F.jsxs("p",{style:{marginTop:"10px"},children:["Birthday: ",e.birthday]})]})]},n))})})]}),F.jsx("div",{children:F.jsx(XS,{})})]})]})}function AI(){return F.jsx("div",{className:pi.BackgroundLiyue})}const CI="_Liyue_wdag8_1",PI="_LiyueHeader_wdag8_7",$m={Liyue:CI,LiyueHeader:PI},kI="_container_17tla_1",xI="_ZhongliInput_17tla_7",DI="_ZhongliShirtButton_17tla_7",NI="_card_17tla_60",Ka={container:kI,ZhongliInput:xI,ZhongliShirtButton:DI,card:NI};var Hm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},VI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],l=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},y_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,l=s?t[i+1]:0,u=i+2<t.length,h=u?t[i+2]:0,f=o>>2,p=(o&3)<<4|l>>4;let g=(l&15)<<2|h>>6,R=h&63;u||(R=64,s||(g=64)),r.push(n[f],n[p],n[g],n[R])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(g_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):VI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||h==null||p==null)throw new MI;const g=o<<2|l>>4;if(r.push(g),h!==64){const R=l<<4&240|h>>2;if(r.push(R),p!==64){const C=h<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class MI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LI=function(t){const e=g_(t);return y_.encodeByteArray(e,!0)},Bl=function(t){return LI(t).replace(/\./g,"")},OI=function(t){try{return y_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=()=>FI().__FIREBASE_DEFAULTS__,jI=()=>{if(typeof process>"u"||typeof Hm>"u")return;const t=Hm.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},BI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&OI(t[1]);return e&&JSON.parse(e)},$d=()=>{try{return bI()||jI()||BI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},UI=t=>{var e,n;return(n=(e=$d())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},zI=t=>{const e=UI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},v_=()=>{var t;return(t=$d())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Bl(JSON.stringify(n)),Bl(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KI(){var t;const e=(t=$d())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qI(){return!KI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QI(){try{return typeof indexedDB=="object"}catch{return!1}}function GI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="FirebaseError";class _o extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=YI,Object.setPrototypeOf(this,_o.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,__.prototype.create)}}class __{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?XI(o,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new _o(i,l,r)}}function XI(t,e){return t.replace(JI,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const JI=/\{\$([^}]+)}/g;function Ih(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Wm(o)&&Wm(s)){if(!Ih(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Wm(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(t){return t&&t._delegate?t._delegate:t}class zs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $I;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tR(e))try{this.getOrInitializeService({instanceIdentifier:Wr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Wr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wr){return this.instances.has(e)}getOptions(e=Wr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:eR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wr){return this.component?this.component.multipleInstances?e:Wr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eR(t){return t===Wr?void 0:t}function tR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ZI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ge||(ge={}));const rR={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},iR=ge.INFO,oR={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},sR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=oR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class E_{constructor(e){this.name=e,this._logLevel=iR,this._logHandler=sR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const aR=(t,e)=>e.some(n=>t instanceof n);let Km,qm;function lR(){return Km||(Km=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uR(){return qm||(qm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const w_=new WeakMap,Rh=new WeakMap,T_=new WeakMap,_c=new WeakMap,Hd=new WeakMap;function cR(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Sr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&w_.set(n,t)}).catch(()=>{}),Hd.set(e,t),e}function hR(t){if(Rh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Rh.set(t,e)}let Ah={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||T_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dR(t){Ah=t(Ah)}function fR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ec(this),e,...n);return T_.set(r,e.sort?e.sort():[e]),Sr(r)}:uR().includes(t)?function(...e){return t.apply(Ec(this),e),Sr(w_.get(this))}:function(...e){return Sr(t.apply(Ec(this),e))}}function pR(t){return typeof t=="function"?fR(t):(t instanceof IDBTransaction&&hR(t),aR(t,lR())?new Proxy(t,Ah):t)}function Sr(t){if(t instanceof IDBRequest)return cR(t);if(_c.has(t))return _c.get(t);const e=pR(t);return e!==t&&(_c.set(t,e),Hd.set(e,t)),e}const Ec=t=>Hd.get(t);function mR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),l=Sr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Sr(s.result),u.oldVersion,u.newVersion,Sr(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const gR=["get","getKey","getAll","getAllKeys","count"],yR=["put","add","delete","clear"],wc=new Map;function Qm(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wc.get(e))return wc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=yR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||gR.includes(n)))return;const o=async function(s,...l){const u=this.transaction(s,i?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&u.done]))[0]};return wc.set(e,o),o}dR(t=>({...t,get:(e,n,r)=>Qm(e,n)||t.get(e,n,r),has:(e,n)=>!!Qm(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_R(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _R(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ch="@firebase/app",Gm="0.10.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn=new E_("@firebase/app"),ER="@firebase/app-compat",wR="@firebase/analytics-compat",TR="@firebase/analytics",SR="@firebase/app-check-compat",IR="@firebase/app-check",RR="@firebase/auth",AR="@firebase/auth-compat",CR="@firebase/database",PR="@firebase/data-connect",kR="@firebase/database-compat",xR="@firebase/functions",DR="@firebase/functions-compat",NR="@firebase/installations",VR="@firebase/installations-compat",MR="@firebase/messaging",LR="@firebase/messaging-compat",OR="@firebase/performance",FR="@firebase/performance-compat",bR="@firebase/remote-config",jR="@firebase/remote-config-compat",BR="@firebase/storage",UR="@firebase/storage-compat",zR="@firebase/firestore",$R="@firebase/vertexai-preview",HR="@firebase/firestore-compat",WR="firebase",KR="10.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph="[DEFAULT]",qR={[Ch]:"fire-core",[ER]:"fire-core-compat",[TR]:"fire-analytics",[wR]:"fire-analytics-compat",[IR]:"fire-app-check",[SR]:"fire-app-check-compat",[RR]:"fire-auth",[AR]:"fire-auth-compat",[CR]:"fire-rtdb",[PR]:"fire-data-connect",[kR]:"fire-rtdb-compat",[xR]:"fire-fn",[DR]:"fire-fn-compat",[NR]:"fire-iid",[VR]:"fire-iid-compat",[MR]:"fire-fcm",[LR]:"fire-fcm-compat",[OR]:"fire-perf",[FR]:"fire-perf-compat",[bR]:"fire-rc",[jR]:"fire-rc-compat",[BR]:"fire-gcs",[UR]:"fire-gcs-compat",[zR]:"fire-fst",[HR]:"fire-fst-compat",[$R]:"fire-vertex","fire-js":"fire-js",[WR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul=new Map,QR=new Map,kh=new Map;function Ym(t,e){try{t.container.addComponent(e)}catch(n){Gn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zl(t){const e=t.name;if(kh.has(e))return Gn.debug(`There were multiple attempts to register component ${e}.`),!1;kh.set(e,t);for(const n of Ul.values())Ym(n,t);for(const n of QR.values())Ym(n,t);return!0}function GR(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ir=new __("app","Firebase",YR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=KR;function S_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ph,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ir.create("bad-app-name",{appName:String(i)});if(n||(n=v_()),!n)throw Ir.create("no-options");const o=Ul.get(i);if(o){if(Ih(n,o.options)&&Ih(r,o.config))return o;throw Ir.create("duplicate-app",{appName:i})}const s=new nR(i);for(const u of kh.values())s.addComponent(u);const l=new XR(n,r,s);return Ul.set(i,l),l}function ZR(t=Ph){const e=Ul.get(t);if(!e&&t===Ph&&v_())return S_();if(!e)throw Ir.create("no-app",{appName:t});return e}function Xi(t,e,n){var r;let i=(r=qR[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gn.warn(l.join(" "));return}zl(new zs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="firebase-heartbeat-database",tA=1,$s="firebase-heartbeat-store";let Tc=null;function I_(){return Tc||(Tc=mR(eA,tA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($s)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ir.create("idb-open",{originalErrorMessage:t.message})})),Tc}async function nA(t){try{const n=(await I_()).transaction($s),r=await n.objectStore($s).get(R_(t));return await n.done,r}catch(e){if(e instanceof _o)Gn.warn(e.message);else{const n=Ir.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gn.warn(n.message)}}}async function Xm(t,e){try{const r=(await I_()).transaction($s,"readwrite");await r.objectStore($s).put(e,R_(t)),await r.done}catch(n){if(n instanceof _o)Gn.warn(n.message);else{const r=Ir.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gn.warn(r.message)}}}function R_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=1024,iA=30*24*60*60*1e3;class oA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Jm();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const l=new Date(s.date).valueOf();return Date.now()-l<=iA}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Gn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Jm(),{heartbeatsToSend:r,unsentEntries:i}=sA(this._heartbeatsCache.heartbeats),o=Bl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Gn.warn(n),""}}}function Jm(){return new Date().toISOString().substring(0,10)}function sA(t,e=rA){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Zm(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Zm(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class aA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QI()?GI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Xm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Xm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Zm(t){return Bl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(t){zl(new zs("platform-logger",e=>new vR(e),"PRIVATE")),zl(new zs("heartbeat",e=>new oA(e),"PRIVATE")),Xi(Ch,Gm,t),Xi(Ch,Gm,"esm2017"),Xi("fire-js","")}lA("");var eg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ei,A_;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(v,y){function _(){}_.prototype=y.prototype,v.D=y.prototype,v.prototype=new _,v.prototype.constructor=v,v.C=function(S,A,D){for(var T=Array(arguments.length-2),je=2;je<arguments.length;je++)T[je-2]=arguments[je];return y.prototype[A].apply(S,T)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(v,y,_){_||(_=0);var S=Array(16);if(typeof y=="string")for(var A=0;16>A;++A)S[A]=y.charCodeAt(_++)|y.charCodeAt(_++)<<8|y.charCodeAt(_++)<<16|y.charCodeAt(_++)<<24;else for(A=0;16>A;++A)S[A]=y[_++]|y[_++]<<8|y[_++]<<16|y[_++]<<24;y=v.g[0],_=v.g[1],A=v.g[2];var D=v.g[3],T=y+(D^_&(A^D))+S[0]+3614090360&4294967295;y=_+(T<<7&4294967295|T>>>25),T=D+(A^y&(_^A))+S[1]+3905402710&4294967295,D=y+(T<<12&4294967295|T>>>20),T=A+(_^D&(y^_))+S[2]+606105819&4294967295,A=D+(T<<17&4294967295|T>>>15),T=_+(y^A&(D^y))+S[3]+3250441966&4294967295,_=A+(T<<22&4294967295|T>>>10),T=y+(D^_&(A^D))+S[4]+4118548399&4294967295,y=_+(T<<7&4294967295|T>>>25),T=D+(A^y&(_^A))+S[5]+1200080426&4294967295,D=y+(T<<12&4294967295|T>>>20),T=A+(_^D&(y^_))+S[6]+2821735955&4294967295,A=D+(T<<17&4294967295|T>>>15),T=_+(y^A&(D^y))+S[7]+4249261313&4294967295,_=A+(T<<22&4294967295|T>>>10),T=y+(D^_&(A^D))+S[8]+1770035416&4294967295,y=_+(T<<7&4294967295|T>>>25),T=D+(A^y&(_^A))+S[9]+2336552879&4294967295,D=y+(T<<12&4294967295|T>>>20),T=A+(_^D&(y^_))+S[10]+4294925233&4294967295,A=D+(T<<17&4294967295|T>>>15),T=_+(y^A&(D^y))+S[11]+2304563134&4294967295,_=A+(T<<22&4294967295|T>>>10),T=y+(D^_&(A^D))+S[12]+1804603682&4294967295,y=_+(T<<7&4294967295|T>>>25),T=D+(A^y&(_^A))+S[13]+4254626195&4294967295,D=y+(T<<12&4294967295|T>>>20),T=A+(_^D&(y^_))+S[14]+2792965006&4294967295,A=D+(T<<17&4294967295|T>>>15),T=_+(y^A&(D^y))+S[15]+1236535329&4294967295,_=A+(T<<22&4294967295|T>>>10),T=y+(A^D&(_^A))+S[1]+4129170786&4294967295,y=_+(T<<5&4294967295|T>>>27),T=D+(_^A&(y^_))+S[6]+3225465664&4294967295,D=y+(T<<9&4294967295|T>>>23),T=A+(y^_&(D^y))+S[11]+643717713&4294967295,A=D+(T<<14&4294967295|T>>>18),T=_+(D^y&(A^D))+S[0]+3921069994&4294967295,_=A+(T<<20&4294967295|T>>>12),T=y+(A^D&(_^A))+S[5]+3593408605&4294967295,y=_+(T<<5&4294967295|T>>>27),T=D+(_^A&(y^_))+S[10]+38016083&4294967295,D=y+(T<<9&4294967295|T>>>23),T=A+(y^_&(D^y))+S[15]+3634488961&4294967295,A=D+(T<<14&4294967295|T>>>18),T=_+(D^y&(A^D))+S[4]+3889429448&4294967295,_=A+(T<<20&4294967295|T>>>12),T=y+(A^D&(_^A))+S[9]+568446438&4294967295,y=_+(T<<5&4294967295|T>>>27),T=D+(_^A&(y^_))+S[14]+3275163606&4294967295,D=y+(T<<9&4294967295|T>>>23),T=A+(y^_&(D^y))+S[3]+4107603335&4294967295,A=D+(T<<14&4294967295|T>>>18),T=_+(D^y&(A^D))+S[8]+1163531501&4294967295,_=A+(T<<20&4294967295|T>>>12),T=y+(A^D&(_^A))+S[13]+2850285829&4294967295,y=_+(T<<5&4294967295|T>>>27),T=D+(_^A&(y^_))+S[2]+4243563512&4294967295,D=y+(T<<9&4294967295|T>>>23),T=A+(y^_&(D^y))+S[7]+1735328473&4294967295,A=D+(T<<14&4294967295|T>>>18),T=_+(D^y&(A^D))+S[12]+2368359562&4294967295,_=A+(T<<20&4294967295|T>>>12),T=y+(_^A^D)+S[5]+4294588738&4294967295,y=_+(T<<4&4294967295|T>>>28),T=D+(y^_^A)+S[8]+2272392833&4294967295,D=y+(T<<11&4294967295|T>>>21),T=A+(D^y^_)+S[11]+1839030562&4294967295,A=D+(T<<16&4294967295|T>>>16),T=_+(A^D^y)+S[14]+4259657740&4294967295,_=A+(T<<23&4294967295|T>>>9),T=y+(_^A^D)+S[1]+2763975236&4294967295,y=_+(T<<4&4294967295|T>>>28),T=D+(y^_^A)+S[4]+1272893353&4294967295,D=y+(T<<11&4294967295|T>>>21),T=A+(D^y^_)+S[7]+4139469664&4294967295,A=D+(T<<16&4294967295|T>>>16),T=_+(A^D^y)+S[10]+3200236656&4294967295,_=A+(T<<23&4294967295|T>>>9),T=y+(_^A^D)+S[13]+681279174&4294967295,y=_+(T<<4&4294967295|T>>>28),T=D+(y^_^A)+S[0]+3936430074&4294967295,D=y+(T<<11&4294967295|T>>>21),T=A+(D^y^_)+S[3]+3572445317&4294967295,A=D+(T<<16&4294967295|T>>>16),T=_+(A^D^y)+S[6]+76029189&4294967295,_=A+(T<<23&4294967295|T>>>9),T=y+(_^A^D)+S[9]+3654602809&4294967295,y=_+(T<<4&4294967295|T>>>28),T=D+(y^_^A)+S[12]+3873151461&4294967295,D=y+(T<<11&4294967295|T>>>21),T=A+(D^y^_)+S[15]+530742520&4294967295,A=D+(T<<16&4294967295|T>>>16),T=_+(A^D^y)+S[2]+3299628645&4294967295,_=A+(T<<23&4294967295|T>>>9),T=y+(A^(_|~D))+S[0]+4096336452&4294967295,y=_+(T<<6&4294967295|T>>>26),T=D+(_^(y|~A))+S[7]+1126891415&4294967295,D=y+(T<<10&4294967295|T>>>22),T=A+(y^(D|~_))+S[14]+2878612391&4294967295,A=D+(T<<15&4294967295|T>>>17),T=_+(D^(A|~y))+S[5]+4237533241&4294967295,_=A+(T<<21&4294967295|T>>>11),T=y+(A^(_|~D))+S[12]+1700485571&4294967295,y=_+(T<<6&4294967295|T>>>26),T=D+(_^(y|~A))+S[3]+2399980690&4294967295,D=y+(T<<10&4294967295|T>>>22),T=A+(y^(D|~_))+S[10]+4293915773&4294967295,A=D+(T<<15&4294967295|T>>>17),T=_+(D^(A|~y))+S[1]+2240044497&4294967295,_=A+(T<<21&4294967295|T>>>11),T=y+(A^(_|~D))+S[8]+1873313359&4294967295,y=_+(T<<6&4294967295|T>>>26),T=D+(_^(y|~A))+S[15]+4264355552&4294967295,D=y+(T<<10&4294967295|T>>>22),T=A+(y^(D|~_))+S[6]+2734768916&4294967295,A=D+(T<<15&4294967295|T>>>17),T=_+(D^(A|~y))+S[13]+1309151649&4294967295,_=A+(T<<21&4294967295|T>>>11),T=y+(A^(_|~D))+S[4]+4149444226&4294967295,y=_+(T<<6&4294967295|T>>>26),T=D+(_^(y|~A))+S[11]+3174756917&4294967295,D=y+(T<<10&4294967295|T>>>22),T=A+(y^(D|~_))+S[2]+718787259&4294967295,A=D+(T<<15&4294967295|T>>>17),T=_+(D^(A|~y))+S[9]+3951481745&4294967295,v.g[0]=v.g[0]+y&4294967295,v.g[1]=v.g[1]+(A+(T<<21&4294967295|T>>>11))&4294967295,v.g[2]=v.g[2]+A&4294967295,v.g[3]=v.g[3]+D&4294967295}r.prototype.u=function(v,y){y===void 0&&(y=v.length);for(var _=y-this.blockSize,S=this.B,A=this.h,D=0;D<y;){if(A==0)for(;D<=_;)i(this,v,D),D+=this.blockSize;if(typeof v=="string"){for(;D<y;)if(S[A++]=v.charCodeAt(D++),A==this.blockSize){i(this,S),A=0;break}}else for(;D<y;)if(S[A++]=v[D++],A==this.blockSize){i(this,S),A=0;break}}this.h=A,this.o+=y},r.prototype.v=function(){var v=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);v[0]=128;for(var y=1;y<v.length-8;++y)v[y]=0;var _=8*this.o;for(y=v.length-8;y<v.length;++y)v[y]=_&255,_/=256;for(this.u(v),v=Array(16),y=_=0;4>y;++y)for(var S=0;32>S;S+=8)v[_++]=this.g[y]>>>S&255;return v};function o(v,y){var _=l;return Object.prototype.hasOwnProperty.call(_,v)?_[v]:_[v]=y(v)}function s(v,y){this.h=y;for(var _=[],S=!0,A=v.length-1;0<=A;A--){var D=v[A]|0;S&&D==y||(_[A]=D,S=!1)}this.g=_}var l={};function u(v){return-128<=v&&128>v?o(v,function(y){return new s([y|0],0>y?-1:0)}):new s([v|0],0>v?-1:0)}function h(v){if(isNaN(v)||!isFinite(v))return p;if(0>v)return x(h(-v));for(var y=[],_=1,S=0;v>=_;S++)y[S]=v/_|0,_*=4294967296;return new s(y,0)}function f(v,y){if(v.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(v.charAt(0)=="-")return x(f(v.substring(1),y));if(0<=v.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=h(Math.pow(y,8)),S=p,A=0;A<v.length;A+=8){var D=Math.min(8,v.length-A),T=parseInt(v.substring(A,A+D),y);8>D?(D=h(Math.pow(y,D)),S=S.j(D).add(h(T))):(S=S.j(_),S=S.add(h(T)))}return S}var p=u(0),g=u(1),R=u(16777216);t=s.prototype,t.m=function(){if(k(this))return-x(this).m();for(var v=0,y=1,_=0;_<this.g.length;_++){var S=this.i(_);v+=(0<=S?S:4294967296+S)*y,y*=4294967296}return v},t.toString=function(v){if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(C(this))return"0";if(k(this))return"-"+x(this).toString(v);for(var y=h(Math.pow(v,6)),_=this,S="";;){var A=O(_,y).g;_=w(_,A.j(y));var D=((0<_.g.length?_.g[0]:_.h)>>>0).toString(v);if(_=A,C(_))return D+S;for(;6>D.length;)D="0"+D;S=D+S}},t.i=function(v){return 0>v?0:v<this.g.length?this.g[v]:this.h};function C(v){if(v.h!=0)return!1;for(var y=0;y<v.g.length;y++)if(v.g[y]!=0)return!1;return!0}function k(v){return v.h==-1}t.l=function(v){return v=w(this,v),k(v)?-1:C(v)?0:1};function x(v){for(var y=v.g.length,_=[],S=0;S<y;S++)_[S]=~v.g[S];return new s(_,~v.h).add(g)}t.abs=function(){return k(this)?x(this):this},t.add=function(v){for(var y=Math.max(this.g.length,v.g.length),_=[],S=0,A=0;A<=y;A++){var D=S+(this.i(A)&65535)+(v.i(A)&65535),T=(D>>>16)+(this.i(A)>>>16)+(v.i(A)>>>16);S=T>>>16,D&=65535,T&=65535,_[A]=T<<16|D}return new s(_,_[_.length-1]&-2147483648?-1:0)};function w(v,y){return v.add(x(y))}t.j=function(v){if(C(this)||C(v))return p;if(k(this))return k(v)?x(this).j(x(v)):x(x(this).j(v));if(k(v))return x(this.j(x(v)));if(0>this.l(R)&&0>v.l(R))return h(this.m()*v.m());for(var y=this.g.length+v.g.length,_=[],S=0;S<2*y;S++)_[S]=0;for(S=0;S<this.g.length;S++)for(var A=0;A<v.g.length;A++){var D=this.i(S)>>>16,T=this.i(S)&65535,je=v.i(A)>>>16,Qt=v.i(A)&65535;_[2*S+2*A]+=T*Qt,E(_,2*S+2*A),_[2*S+2*A+1]+=D*Qt,E(_,2*S+2*A+1),_[2*S+2*A+1]+=T*je,E(_,2*S+2*A+1),_[2*S+2*A+2]+=D*je,E(_,2*S+2*A+2)}for(S=0;S<y;S++)_[S]=_[2*S+1]<<16|_[2*S];for(S=y;S<2*y;S++)_[S]=0;return new s(_,0)};function E(v,y){for(;(v[y]&65535)!=v[y];)v[y+1]+=v[y]>>>16,v[y]&=65535,y++}function I(v,y){this.g=v,this.h=y}function O(v,y){if(C(y))throw Error("division by zero");if(C(v))return new I(p,p);if(k(v))return y=O(x(v),y),new I(x(y.g),x(y.h));if(k(y))return y=O(v,x(y)),new I(x(y.g),y.h);if(30<v.g.length){if(k(v)||k(y))throw Error("slowDivide_ only works with positive integers.");for(var _=g,S=y;0>=S.l(v);)_=$(_),S=$(S);var A=P(_,1),D=P(S,1);for(S=P(S,2),_=P(_,2);!C(S);){var T=D.add(S);0>=T.l(v)&&(A=A.add(_),D=T),S=P(S,1),_=P(_,1)}return y=w(v,A.j(y)),new I(A,y)}for(A=p;0<=v.l(y);){for(_=Math.max(1,Math.floor(v.m()/y.m())),S=Math.ceil(Math.log(_)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),D=h(_),T=D.j(y);k(T)||0<T.l(v);)_-=S,D=h(_),T=D.j(y);C(D)&&(D=g),A=A.add(D),v=w(v,T)}return new I(A,v)}t.A=function(v){return O(this,v).h},t.and=function(v){for(var y=Math.max(this.g.length,v.g.length),_=[],S=0;S<y;S++)_[S]=this.i(S)&v.i(S);return new s(_,this.h&v.h)},t.or=function(v){for(var y=Math.max(this.g.length,v.g.length),_=[],S=0;S<y;S++)_[S]=this.i(S)|v.i(S);return new s(_,this.h|v.h)},t.xor=function(v){for(var y=Math.max(this.g.length,v.g.length),_=[],S=0;S<y;S++)_[S]=this.i(S)^v.i(S);return new s(_,this.h^v.h)};function $(v){for(var y=v.g.length+1,_=[],S=0;S<y;S++)_[S]=v.i(S)<<1|v.i(S-1)>>>31;return new s(_,v.h)}function P(v,y){var _=y>>5;y%=32;for(var S=v.g.length-_,A=[],D=0;D<S;D++)A[D]=0<y?v.i(D+_)>>>y|v.i(D+_+1)<<32-y:v.i(D+_);return new s(A,v.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,A_=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=h,s.fromString=f,ei=s}).apply(typeof eg<"u"?eg:typeof self<"u"?self:typeof window<"u"?window:{});var qa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var C_,is,P_,cl,xh,k_,x_,D_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,c,d){return a==Array.prototype||a==Object.prototype||(a[c]=d.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof qa=="object"&&qa];for(var c=0;c<a.length;++c){var d=a[c];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=n(this);function i(a,c){if(c)e:{var d=r;a=a.split(".");for(var m=0;m<a.length-1;m++){var V=a[m];if(!(V in d))break e;d=d[V]}a=a[a.length-1],m=d[a],c=c(m),c!=m&&c!=null&&e(d,a,{configurable:!0,writable:!0,value:c})}}function o(a,c){a instanceof String&&(a+="");var d=0,m=!1,V={next:function(){if(!m&&d<a.length){var L=d++;return{value:c(L,a[L]),done:!1}}return m=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(a){return a||function(){return o(this,function(c,d){return d})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function u(a){var c=typeof a;return c=c!="object"?c:a?Array.isArray(a)?"array":c:"null",c=="array"||c=="object"&&typeof a.length=="number"}function h(a){var c=typeof a;return c=="object"&&a!=null||c=="function"}function f(a,c,d){return a.call.apply(a.bind,arguments)}function p(a,c,d){if(!a)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,m),a.apply(c,V)}}return function(){return a.apply(c,arguments)}}function g(a,c,d){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,g.apply(null,arguments)}function R(a,c){var d=Array.prototype.slice.call(arguments,1);return function(){var m=d.slice();return m.push.apply(m,arguments),a.apply(this,m)}}function C(a,c){function d(){}d.prototype=c.prototype,a.aa=c.prototype,a.prototype=new d,a.prototype.constructor=a,a.Qb=function(m,V,L){for(var H=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)H[Ce-2]=arguments[Ce];return c.prototype[V].apply(m,H)}}function k(a){const c=a.length;if(0<c){const d=Array(c);for(let m=0;m<c;m++)d[m]=a[m];return d}return[]}function x(a,c){for(let d=1;d<arguments.length;d++){const m=arguments[d];if(u(m)){const V=a.length||0,L=m.length||0;a.length=V+L;for(let H=0;H<L;H++)a[V+H]=m[H]}else a.push(m)}}class w{constructor(c,d){this.i=c,this.j=d,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function E(a){return/^[\s\xa0]*$/.test(a)}function I(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function O(a){return O[" "](a),a}O[" "]=function(){};var $=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function P(a,c,d){for(const m in a)c.call(d,a[m],m,a)}function v(a,c){for(const d in a)c.call(void 0,a[d],d,a)}function y(a){const c={};for(const d in a)c[d]=a[d];return c}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(a,c){let d,m;for(let V=1;V<arguments.length;V++){m=arguments[V];for(d in m)a[d]=m[d];for(let L=0;L<_.length;L++)d=_[L],Object.prototype.hasOwnProperty.call(m,d)&&(a[d]=m[d])}}function A(a){var c=1;a=a.split(":");const d=[];for(;0<c&&a.length;)d.push(a.shift()),c--;return a.length&&d.push(a.join(":")),d}function D(a){l.setTimeout(()=>{throw a},0)}function T(){var a=te;let c=null;return a.g&&(c=a.g,a.g=a.g.next,a.g||(a.h=null),c.next=null),c}class je{constructor(){this.h=this.g=null}add(c,d){const m=Qt.get();m.set(c,d),this.h?this.h.next=m:this.g=m,this.h=m}}var Qt=new w(()=>new En,a=>a.reset());class En{constructor(){this.next=this.g=this.h=null}set(c,d){this.h=c,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,K=!1,te=new je,ne=()=>{const a=l.Promise.resolve(void 0);Te=()=>{a.then(me)}};var me=()=>{for(var a;a=T();){try{a.h.call(a.g)}catch(d){D(d)}var c=Qt;c.j(a),100>c.h&&(c.h++,a.next=c.g,c.g=a)}K=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ae(a,c){this.type=a,this.g=this.target=c,this.defaultPrevented=!1}Ae.prototype.h=function(){this.defaultPrevented=!0};var Je=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,c=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const d=()=>{};l.addEventListener("test",d,c),l.removeEventListener("test",d,c)}catch{}return a}();function lt(a,c){if(Ae.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var d=this.type=a.type,m=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=c,c=a.relatedTarget){if($){e:{try{O(c.nodeName);var V=!0;break e}catch{}V=!1}V||(c=null)}}else d=="mouseover"?c=a.fromElement:d=="mouseout"&&(c=a.toElement);this.relatedTarget=c,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:ut[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&lt.aa.h.call(this)}}C(lt,Ae);var ut={2:"touch",3:"pen",4:"mouse"};lt.prototype.h=function(){lt.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Mt="closure_listenable_"+(1e6*Math.random()|0),xu=0;function Du(a,c,d,m,V){this.listener=a,this.proxy=null,this.src=c,this.type=d,this.capture=!!m,this.ha=V,this.key=++xu,this.da=this.fa=!1}function vi(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function it(a){this.src=a,this.g={},this.h=0}it.prototype.add=function(a,c,d,m,V){var L=a.toString();a=this.g[L],a||(a=this.g[L]=[],this.h++);var H=_i(a,c,m,V);return-1<H?(c=a[H],d||(c.fa=!1)):(c=new Du(c,this.src,L,!!m,V),c.fa=d,a.push(c)),c};function Nn(a,c){var d=c.type;if(d in a.g){var m=a.g[d],V=Array.prototype.indexOf.call(m,c,void 0),L;(L=0<=V)&&Array.prototype.splice.call(m,V,1),L&&(vi(c),a.g[d].length==0&&(delete a.g[d],a.h--))}}function _i(a,c,d,m){for(var V=0;V<a.length;++V){var L=a[V];if(!L.da&&L.listener==c&&L.capture==!!d&&L.ha==m)return V}return-1}var Io="closure_lm_"+(1e6*Math.random()|0),ln={};function ua(a,c,d,m,V){if(m&&m.once)return ha(a,c,d,m,V);if(Array.isArray(c)){for(var L=0;L<c.length;L++)ua(a,c[L],d,m,V);return null}return d=Ei(d),a&&a[Mt]?a.K(c,d,h(m)?!!m.capture:!!m,V):ca(a,c,d,!1,m,V)}function ca(a,c,d,m,V,L){if(!c)throw Error("Invalid event type");var H=h(V)?!!V.capture:!!V,Ce=Gt(a);if(Ce||(a[Io]=Ce=new it(a)),d=Ce.add(c,d,m,H,L),d.proxy)return d;if(m=Nu(),d.proxy=m,m.src=a,m.listener=d,a.addEventListener)Je||(V=H),V===void 0&&(V=!1),a.addEventListener(c.toString(),m,V);else if(a.attachEvent)a.attachEvent(Ro(c.toString()),m);else if(a.addListener&&a.removeListener)a.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return d}function Nu(){function a(d){return c.call(a.src,a.listener,d)}const c=Ao;return a}function ha(a,c,d,m,V){if(Array.isArray(c)){for(var L=0;L<c.length;L++)ha(a,c[L],d,m,V);return null}return d=Ei(d),a&&a[Mt]?a.L(c,d,h(m)?!!m.capture:!!m,V):ca(a,c,d,!0,m,V)}function da(a,c,d,m,V){if(Array.isArray(c))for(var L=0;L<c.length;L++)da(a,c[L],d,m,V);else m=h(m)?!!m.capture:!!m,d=Ei(d),a&&a[Mt]?(a=a.i,c=String(c).toString(),c in a.g&&(L=a.g[c],d=_i(L,d,m,V),-1<d&&(vi(L[d]),Array.prototype.splice.call(L,d,1),L.length==0&&(delete a.g[c],a.h--)))):a&&(a=Gt(a))&&(c=a.g[c.toString()],a=-1,c&&(a=_i(c,d,m,V)),(d=-1<a?c[a]:null)&&Vn(d))}function Vn(a){if(typeof a!="number"&&a&&!a.da){var c=a.src;if(c&&c[Mt])Nn(c.i,a);else{var d=a.type,m=a.proxy;c.removeEventListener?c.removeEventListener(d,m,a.capture):c.detachEvent?c.detachEvent(Ro(d),m):c.addListener&&c.removeListener&&c.removeListener(m),(d=Gt(c))?(Nn(d,a),d.h==0&&(d.src=null,c[Io]=null)):vi(a)}}}function Ro(a){return a in ln?ln[a]:ln[a]="on"+a}function Ao(a,c){if(a.da)a=!0;else{c=new lt(c,this);var d=a.listener,m=a.ha||a.src;a.fa&&Vn(a),a=d.call(m,c)}return a}function Gt(a){return a=a[Io],a instanceof it?a:null}var Mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ei(a){return typeof a=="function"?a:(a[Mn]||(a[Mn]=function(c){return a.handleEvent(c)}),a[Mn])}function He(){de.call(this),this.i=new it(this),this.M=this,this.F=null}C(He,de),He.prototype[Mt]=!0,He.prototype.removeEventListener=function(a,c,d,m){da(this,a,c,d,m)};function ct(a,c){var d,m=a.F;if(m)for(d=[];m;m=m.F)d.push(m);if(a=a.M,m=c.type||c,typeof c=="string")c=new Ae(c,a);else if(c instanceof Ae)c.target=c.target||a;else{var V=c;c=new Ae(m,a),S(c,V)}if(V=!0,d)for(var L=d.length-1;0<=L;L--){var H=c.g=d[L];V=Bt(H,m,!0,c)&&V}if(H=c.g=a,V=Bt(H,m,!0,c)&&V,V=Bt(H,m,!1,c)&&V,d)for(L=0;L<d.length;L++)H=c.g=d[L],V=Bt(H,m,!1,c)&&V}He.prototype.N=function(){if(He.aa.N.call(this),this.i){var a=this.i,c;for(c in a.g){for(var d=a.g[c],m=0;m<d.length;m++)vi(d[m]);delete a.g[c],a.h--}}this.F=null},He.prototype.K=function(a,c,d,m){return this.i.add(String(a),c,!1,d,m)},He.prototype.L=function(a,c,d,m){return this.i.add(String(a),c,!0,d,m)};function Bt(a,c,d,m){if(c=a.i.g[String(c)],!c)return!0;c=c.concat();for(var V=!0,L=0;L<c.length;++L){var H=c[L];if(H&&!H.da&&H.capture==d){var Ce=H.listener,ht=H.ha||H.src;H.fa&&Nn(a.i,H),V=Ce.call(ht,m)!==!1&&V}}return V&&!m.defaultPrevented}function Co(a,c,d){if(typeof a=="function")d&&(a=g(a,d));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(a,c||0)}function Po(a){a.g=Co(()=>{a.g=null,a.i&&(a.i=!1,Po(a))},a.l);const c=a.h;a.h=null,a.m.apply(null,c)}class fa extends de{constructor(c,d){super(),this.m=c,this.l=d,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:Po(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lr(a){de.call(this),this.h=a,this.g={}}C(Lr,de);var ko=[];function Or(a){P(a.g,function(c,d){this.g.hasOwnProperty(d)&&Vn(c)},a),a.g={}}Lr.prototype.N=function(){Lr.aa.N.call(this),Or(this)},Lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wi=l.JSON.stringify,xo=l.JSON.parse,Vu=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Ti(){}Ti.prototype.h=null;function pa(a){return a.h||(a.h=a.i())}function Do(){}var Fr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function N(){Ae.call(this,"d")}C(N,Ae);function M(){Ae.call(this,"c")}C(M,Ae);var b={},W=null;function G(){return W=W||new He}b.La="serverreachability";function ae(a){Ae.call(this,b.La,a)}C(ae,Ae);function J(a){const c=G();ct(c,new ae(c))}b.STAT_EVENT="statevent";function Z(a,c){Ae.call(this,b.STAT_EVENT,a),this.stat=c}C(Z,Ae);function q(a){const c=G();ct(c,new Z(c,a))}b.Ma="timingevent";function le(a,c){Ae.call(this,b.Ma,a),this.size=c}C(le,Ae);function Ne(a,c){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},c)}function re(){this.g=!0}re.prototype.xa=function(){this.g=!1};function Re(a,c,d,m,V,L){a.info(function(){if(a.g)if(L)for(var H="",Ce=L.split("&"),ht=0;ht<Ce.length;ht++){var ve=Ce[ht].split("=");if(1<ve.length){var Et=ve[0];ve=ve[1];var wt=Et.split("_");H=2<=wt.length&&wt[1]=="type"?H+(Et+"="+ve+"&"):H+(Et+"=redacted&")}}else H=null;else H=L;return"XMLHTTP REQ ("+m+") [attempt "+V+"]: "+c+`
`+d+`
`+H})}function Ze(a,c,d,m,V,L,H){a.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+V+"]: "+c+`
`+d+`
`+L+" "+H})}function Qe(a,c,d,m){a.info(function(){return"XMLHTTP TEXT ("+c+"): "+er(a,d)+(m?" "+m:"")})}function Ge(a,c){a.info(function(){return"TIMEOUT: "+c})}re.prototype.info=function(){};function er(a,c){if(!a.g)return c;if(!c)return null;try{var d=JSON.parse(c);if(d){for(a=0;a<d.length;a++)if(Array.isArray(d[a])){var m=d[a];if(!(2>m.length)){var V=m[1];if(Array.isArray(V)&&!(1>V.length)){var L=V[0];if(L!="noop"&&L!="stop"&&L!="close")for(var H=1;H<V.length;H++)V[H]=""}}}}return wi(d)}catch{return c}}var tr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ln={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yt;function Xt(){}C(Xt,Ti),Xt.prototype.g=function(){return new XMLHttpRequest},Xt.prototype.i=function(){return{}},Yt=new Xt;function Jt(a,c,d,m){this.j=a,this.i=c,this.l=d,this.R=m||1,this.U=new Lr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nr}function nr(){this.i=null,this.g="",this.h=!1}var Si={},wn={};function rr(a,c,d){a.L=1,a.v=va(Fn(c)),a.m=d,a.P=!0,fe(a,null)}function fe(a,c){a.F=Date.now(),On(a),a.A=Fn(a.v);var d=a.A,m=a.R;Array.isArray(m)||(m=[String(m)]),Nf(d.i,"t",m),a.C=0,d=a.j.J,a.h=new nr,a.g=Yf(a.j,d?c:null,!a.m),0<a.O&&(a.M=new fa(g(a.Y,a,a.g),a.O)),c=a.U,d=a.g,m=a.ca;var V="readystatechange";Array.isArray(V)||(V&&(ko[0]=V.toString()),V=ko);for(var L=0;L<V.length;L++){var H=ua(d,V[L],m||c.handleEvent,!1,c.h||c);if(!H)break;c.g[H.key]=H}c=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,c)):(a.u="GET",a.g.ea(a.A,a.u,null,c)),J(),Re(a.i,a.u,a.A,a.l,a.R,a.m)}Jt.prototype.ca=function(a){a=a.target;const c=this.M;c&&bn(a)==3?c.j():this.Y(a)},Jt.prototype.Y=function(a){try{if(a==this.g)e:{const wt=bn(this.g);var c=this.g.Ba();const Ai=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||jf(this.g)))){this.J||wt!=4||c==7||(c==8||0>=Ai?J(3):J(2)),Mu(this);var d=this.g.Z();this.X=d;t:if(we(this)){var m=jf(this.g);a="";var V=m.length,L=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){br(this),No(this);var H="";break t}this.h.i=new l.TextDecoder}for(c=0;c<V;c++)this.h.h=!0,a+=this.h.i.decode(m[c],{stream:!(L&&c==V-1)});m.length=0,this.h.g+=a,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=d==200,Ze(this.i,this.u,this.A,this.l,this.R,wt,d),this.o){if(this.T&&!this.K){t:{if(this.g){var Ce,ht=this.g;if((Ce=ht.g?ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(Ce)){var ve=Ce;break t}}ve=null}if(d=ve)Qe(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Lu(this,d);else{this.o=!1,this.s=3,q(12),br(this),No(this);break e}}if(this.P){d=!0;let un;for(;!this.J&&this.C<H.length;)if(un=_t(this,H),un==wn){wt==4&&(this.s=4,q(14),d=!1),Qe(this.i,this.l,null,"[Incomplete Response]");break}else if(un==Si){this.s=4,q(15),Qe(this.i,this.l,H,"[Invalid Chunk]"),d=!1;break}else Qe(this.i,this.l,un,null),Lu(this,un);if(we(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||H.length!=0||this.h.h||(this.s=1,q(16),d=!1),this.o=this.o&&d,!d)Qe(this.i,this.l,H,"[Invalid Chunked Response]"),br(this),No(this);else if(0<H.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),Uu(Et),Et.M=!0,q(11))}}else Qe(this.i,this.l,H,null),Lu(this,H);wt==4&&br(this),this.o&&!this.J&&(wt==4?Kf(this.j,this):(this.o=!1,On(this)))}else lE(this.g),d==400&&0<H.indexOf("Unknown SID")?(this.s=3,q(12)):(this.s=0,q(13)),br(this),No(this)}}}catch{}finally{}};function we(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function _t(a,c){var d=a.C,m=c.indexOf(`
`,d);return m==-1?wn:(d=Number(c.substring(d,m)),isNaN(d)?Si:(m+=1,m+d>c.length?wn:(c=c.slice(m,m+d),a.C=m+d,c)))}Jt.prototype.cancel=function(){this.J=!0,br(this)};function On(a){a.S=Date.now()+a.I,ma(a,a.I)}function ma(a,c){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Ne(g(a.ba,a),c)}function Mu(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Jt.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(Ge(this.i,this.A),this.L!=2&&(J(),q(17)),br(this),this.s=2,No(this)):ma(this,this.S-a)};function No(a){a.j.G==0||a.J||Kf(a.j,a)}function br(a){Mu(a);var c=a.M;c&&typeof c.ma=="function"&&c.ma(),a.M=null,Or(a.U),a.g&&(c=a.g,a.g=null,c.abort(),c.ma())}function Lu(a,c){try{var d=a.j;if(d.G!=0&&(d.g==a||Ou(d.h,a))){if(!a.K&&Ou(d.h,a)&&d.G==3){try{var m=d.Da.g.parse(c)}catch{m=null}if(Array.isArray(m)&&m.length==3){var V=m;if(V[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<a.F)Ia(d),Ta(d);else break e;Bu(d),q(18)}}else d.za=V[1],0<d.za-d.T&&37500>V[2]&&d.F&&d.v==0&&!d.C&&(d.C=Ne(g(d.Za,d),6e3));if(1>=Sf(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else Br(d,11)}else if((a.K||d.g==a)&&Ia(d),!E(c))for(V=d.Da.g.parse(c),c=0;c<V.length;c++){let ve=V[c];if(d.T=ve[0],ve=ve[1],d.G==2)if(ve[0]=="c"){d.K=ve[1],d.ia=ve[2];const Et=ve[3];Et!=null&&(d.la=Et,d.j.info("VER="+d.la));const wt=ve[4];wt!=null&&(d.Aa=wt,d.j.info("SVER="+d.Aa));const Ai=ve[5];Ai!=null&&typeof Ai=="number"&&0<Ai&&(m=1.5*Ai,d.L=m,d.j.info("backChannelRequestTimeoutMs_="+m)),m=d;const un=a.g;if(un){const Aa=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Aa){var L=m.h;L.g||Aa.indexOf("spdy")==-1&&Aa.indexOf("quic")==-1&&Aa.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Fu(L,L.h),L.h=null))}if(m.D){const zu=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;zu&&(m.ya=zu,ke(m.I,m.D,zu))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-a.F,d.j.info("Handshake RTT: "+d.R+"ms")),m=d;var H=a;if(m.qa=Gf(m,m.J?m.ia:null,m.W),H.K){If(m.h,H);var Ce=H,ht=m.L;ht&&(Ce.I=ht),Ce.B&&(Mu(Ce),On(Ce)),m.g=H}else Hf(m);0<d.i.length&&Sa(d)}else ve[0]!="stop"&&ve[0]!="close"||Br(d,7);else d.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?Br(d,7):ju(d):ve[0]!="noop"&&d.l&&d.l.ta(ve),d.v=0)}}J(4)}catch{}}var K0=class{constructor(a,c){this.g=a,this.map=c}};function wf(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Tf(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Sf(a){return a.h?1:a.g?a.g.size:0}function Ou(a,c){return a.h?a.h==c:a.g?a.g.has(c):!1}function Fu(a,c){a.g?a.g.add(c):a.h=c}function If(a,c){a.h&&a.h==c?a.h=null:a.g&&a.g.has(c)&&a.g.delete(c)}wf.prototype.cancel=function(){if(this.i=Rf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Rf(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let c=a.i;for(const d of a.g.values())c=c.concat(d.D);return c}return k(a.i)}function q0(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var c=[],d=a.length,m=0;m<d;m++)c.push(a[m]);return c}c=[],d=0;for(m in a)c[d++]=a[m];return c}function Q0(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var c=[];a=a.length;for(var d=0;d<a;d++)c.push(d);return c}c=[],d=0;for(const m in a)c[d++]=m;return c}}}function Af(a,c){if(a.forEach&&typeof a.forEach=="function")a.forEach(c,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,c,void 0);else for(var d=Q0(a),m=q0(a),V=m.length,L=0;L<V;L++)c.call(void 0,m[L],d&&d[L],a)}var Cf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function G0(a,c){if(a){a=a.split("&");for(var d=0;d<a.length;d++){var m=a[d].indexOf("="),V=null;if(0<=m){var L=a[d].substring(0,m);V=a[d].substring(m+1)}else L=a[d];c(L,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function jr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof jr){this.h=a.h,ga(this,a.j),this.o=a.o,this.g=a.g,ya(this,a.s),this.l=a.l;var c=a.i,d=new Lo;d.i=c.i,c.g&&(d.g=new Map(c.g),d.h=c.h),Pf(this,d),this.m=a.m}else a&&(c=String(a).match(Cf))?(this.h=!1,ga(this,c[1]||"",!0),this.o=Vo(c[2]||""),this.g=Vo(c[3]||"",!0),ya(this,c[4]),this.l=Vo(c[5]||"",!0),Pf(this,c[6]||"",!0),this.m=Vo(c[7]||"")):(this.h=!1,this.i=new Lo(null,this.h))}jr.prototype.toString=function(){var a=[],c=this.j;c&&a.push(Mo(c,kf,!0),":");var d=this.g;return(d||c=="file")&&(a.push("//"),(c=this.o)&&a.push(Mo(c,kf,!0),"@"),a.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&a.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&a.push("/"),a.push(Mo(d,d.charAt(0)=="/"?J0:X0,!0))),(d=this.i.toString())&&a.push("?",d),(d=this.m)&&a.push("#",Mo(d,eE)),a.join("")};function Fn(a){return new jr(a)}function ga(a,c,d){a.j=d?Vo(c,!0):c,a.j&&(a.j=a.j.replace(/:$/,""))}function ya(a,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);a.s=c}else a.s=null}function Pf(a,c,d){c instanceof Lo?(a.i=c,tE(a.i,a.h)):(d||(c=Mo(c,Z0)),a.i=new Lo(c,a.h))}function ke(a,c,d){a.i.set(c,d)}function va(a){return ke(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Vo(a,c){return a?c?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Mo(a,c,d){return typeof a=="string"?(a=encodeURI(a).replace(c,Y0),d&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Y0(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var kf=/[#\/\?@]/g,X0=/[#\?:]/g,J0=/[#\?]/g,Z0=/[#\?@]/g,eE=/#/g;function Lo(a,c){this.h=this.g=null,this.i=a||null,this.j=!!c}function ir(a){a.g||(a.g=new Map,a.h=0,a.i&&G0(a.i,function(c,d){a.add(decodeURIComponent(c.replace(/\+/g," ")),d)}))}t=Lo.prototype,t.add=function(a,c){ir(this),this.i=null,a=Ii(this,a);var d=this.g.get(a);return d||this.g.set(a,d=[]),d.push(c),this.h+=1,this};function xf(a,c){ir(a),c=Ii(a,c),a.g.has(c)&&(a.i=null,a.h-=a.g.get(c).length,a.g.delete(c))}function Df(a,c){return ir(a),c=Ii(a,c),a.g.has(c)}t.forEach=function(a,c){ir(this),this.g.forEach(function(d,m){d.forEach(function(V){a.call(c,V,m,this)},this)},this)},t.na=function(){ir(this);const a=Array.from(this.g.values()),c=Array.from(this.g.keys()),d=[];for(let m=0;m<c.length;m++){const V=a[m];for(let L=0;L<V.length;L++)d.push(c[m])}return d},t.V=function(a){ir(this);let c=[];if(typeof a=="string")Df(this,a)&&(c=c.concat(this.g.get(Ii(this,a))));else{a=Array.from(this.g.values());for(let d=0;d<a.length;d++)c=c.concat(a[d])}return c},t.set=function(a,c){return ir(this),this.i=null,a=Ii(this,a),Df(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[c]),this.h+=1,this},t.get=function(a,c){return a?(a=this.V(a),0<a.length?String(a[0]):c):c};function Nf(a,c,d){xf(a,c),0<d.length&&(a.i=null,a.g.set(Ii(a,c),k(d)),a.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],c=Array.from(this.g.keys());for(var d=0;d<c.length;d++){var m=c[d];const L=encodeURIComponent(String(m)),H=this.V(m);for(m=0;m<H.length;m++){var V=L;H[m]!==""&&(V+="="+encodeURIComponent(String(H[m]))),a.push(V)}}return this.i=a.join("&")};function Ii(a,c){return c=String(c),a.j&&(c=c.toLowerCase()),c}function tE(a,c){c&&!a.j&&(ir(a),a.i=null,a.g.forEach(function(d,m){var V=m.toLowerCase();m!=V&&(xf(this,m),Nf(this,V,d))},a)),a.j=c}function nE(a,c){const d=new re;if(l.Image){const m=new Image;m.onload=R(or,d,"TestLoadImage: loaded",!0,c,m),m.onerror=R(or,d,"TestLoadImage: error",!1,c,m),m.onabort=R(or,d,"TestLoadImage: abort",!1,c,m),m.ontimeout=R(or,d,"TestLoadImage: timeout",!1,c,m),l.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=a}else c(!1)}function rE(a,c){const d=new re,m=new AbortController,V=setTimeout(()=>{m.abort(),or(d,"TestPingServer: timeout",!1,c)},1e4);fetch(a,{signal:m.signal}).then(L=>{clearTimeout(V),L.ok?or(d,"TestPingServer: ok",!0,c):or(d,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(V),or(d,"TestPingServer: error",!1,c)})}function or(a,c,d,m,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),m(d)}catch{}}function iE(){this.g=new Vu}function oE(a,c,d){const m=d||"";try{Af(a,function(V,L){let H=V;h(V)&&(H=wi(V)),c.push(m+L+"="+encodeURIComponent(H))})}catch(V){throw c.push(m+"type="+encodeURIComponent("_badmap")),V}}function _a(a){this.l=a.Ub||null,this.j=a.eb||!1}C(_a,Ti),_a.prototype.g=function(){return new Ea(this.l,this.j)},_a.prototype.i=function(a){return function(){return a}}({});function Ea(a,c){He.call(this),this.D=a,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Ea,He),t=Ea.prototype,t.open=function(a,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=c,this.readyState=1,Fo(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(c.body=a),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Oo(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Fo(this)),this.g&&(this.readyState=3,Fo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vf(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vf(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var c=a.value?a.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!a.done}))&&(this.response=this.responseText+=c)}a.done?Oo(this):Fo(this),this.readyState==3&&Vf(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Oo(this))},t.Qa=function(a){this.g&&(this.response=a,Oo(this))},t.ga=function(){this.g&&Oo(this)};function Oo(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Fo(a)}t.setRequestHeader=function(a,c){this.u.append(a,c)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],c=this.h.entries();for(var d=c.next();!d.done;)d=d.value,a.push(d[0]+": "+d[1]),d=c.next();return a.join(`\r
`)};function Fo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Ea.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Mf(a){let c="";return P(a,function(d,m){c+=m,c+=":",c+=d,c+=`\r
`}),c}function bu(a,c,d){e:{for(m in d){var m=!1;break e}m=!0}m||(d=Mf(d),typeof a=="string"?d!=null&&encodeURIComponent(String(d)):ke(a,c,d))}function Be(a){He.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Be,He);var sE=/^https?$/i,aE=["POST","PUT"];t=Be.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,c,d,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);c=c?c.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yt.g(),this.v=this.o?pa(this.o):pa(Yt),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(c,String(a),!0),this.B=!1}catch(L){Lf(this,L);return}if(a=d||"",d=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var V in m)d.set(V,m[V]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(const L of m.keys())d.set(L,m.get(L));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(d.keys()).find(L=>L.toLowerCase()=="content-type"),V=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(aE,c,void 0))||m||V||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,H]of d)this.g.setRequestHeader(L,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bf(this),this.u=!0,this.g.send(a),this.u=!1}catch(L){Lf(this,L)}};function Lf(a,c){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=c,a.m=5,Of(a),wa(a)}function Of(a){a.A||(a.A=!0,ct(a,"complete"),ct(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ct(this,"complete"),ct(this,"abort"),wa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wa(this,!0)),Be.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ff(this):this.bb())},t.bb=function(){Ff(this)};function Ff(a){if(a.h&&typeof s<"u"&&(!a.v[1]||bn(a)!=4||a.Z()!=2)){if(a.u&&bn(a)==4)Co(a.Ea,0,a);else if(ct(a,"readystatechange"),bn(a)==4){a.h=!1;try{const H=a.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var d;if(!(d=c)){var m;if(m=H===0){var V=String(a.D).match(Cf)[1]||null;!V&&l.self&&l.self.location&&(V=l.self.location.protocol.slice(0,-1)),m=!sE.test(V?V.toLowerCase():"")}d=m}if(d)ct(a,"complete"),ct(a,"success");else{a.m=6;try{var L=2<bn(a)?a.g.statusText:""}catch{L=""}a.l=L+" ["+a.Z()+"]",Of(a)}}finally{wa(a)}}}}function wa(a,c){if(a.g){bf(a);const d=a.g,m=a.v[0]?()=>{}:null;a.g=null,a.v=null,c||ct(a,"ready");try{d.onreadystatechange=m}catch{}}}function bf(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function bn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var c=this.g.responseText;return a&&c.indexOf(a)==0&&(c=c.substring(a.length)),xo(c)}};function jf(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function lE(a){const c={};a=(a.g&&2<=bn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<a.length;m++){if(E(a[m]))continue;var d=A(a[m]);const V=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const L=c[V]||[];c[V]=L,L.push(d)}v(c,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bo(a,c,d){return d&&d.internalChannelParams&&d.internalChannelParams[a]||c}function Bf(a){this.Aa=0,this.i=[],this.j=new re,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bo("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bo("baseRetryDelayMs",5e3,a),this.cb=bo("retryDelaySeedMs",1e4,a),this.Wa=bo("forwardChannelMaxRetries",2,a),this.wa=bo("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new wf(a&&a.concurrentRequestLimit),this.Da=new iE,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Bf.prototype,t.la=8,t.G=1,t.connect=function(a,c,d,m){q(0),this.W=a,this.H=c||{},d&&m!==void 0&&(this.H.OSID=d,this.H.OAID=m),this.F=this.X,this.I=Gf(this,null,this.W),Sa(this)};function ju(a){if(Uf(a),a.G==3){var c=a.U++,d=Fn(a.I);if(ke(d,"SID",a.K),ke(d,"RID",c),ke(d,"TYPE","terminate"),jo(a,d),c=new Jt(a,a.j,c),c.L=2,c.v=va(Fn(d)),d=!1,l.navigator&&l.navigator.sendBeacon)try{d=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!d&&l.Image&&(new Image().src=c.v,d=!0),d||(c.g=Yf(c.j,null),c.g.ea(c.v)),c.F=Date.now(),On(c)}Qf(a)}function Ta(a){a.g&&(Uu(a),a.g.cancel(),a.g=null)}function Uf(a){Ta(a),a.u&&(l.clearTimeout(a.u),a.u=null),Ia(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Sa(a){if(!Tf(a.h)&&!a.s){a.s=!0;var c=a.Ga;Te||ne(),K||(Te(),K=!0),te.add(c,a),a.B=0}}function uE(a,c){return Sf(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=c.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Ne(g(a.Ga,a,c),qf(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const V=new Jt(this,this.j,a);let L=this.o;if(this.S&&(L?(L=y(L),S(L,this.S)):L=this.S),this.m!==null||this.O||(V.H=L,L=null),this.P)e:{for(var c=0,d=0;d<this.i.length;d++){t:{var m=this.i[d];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(c+=m,4096<c){c=d;break e}if(c===4096||d===this.i.length-1){c=d+1;break e}}c=1e3}else c=1e3;c=$f(this,V,c),d=Fn(this.I),ke(d,"RID",a),ke(d,"CVER",22),this.D&&ke(d,"X-HTTP-Session-Id",this.D),jo(this,d),L&&(this.O?c="headers="+encodeURIComponent(String(Mf(L)))+"&"+c:this.m&&bu(d,this.m,L)),Fu(this.h,V),this.Ua&&ke(d,"TYPE","init"),this.P?(ke(d,"$req",c),ke(d,"SID","null"),V.T=!0,rr(V,d,null)):rr(V,d,c),this.G=2}}else this.G==3&&(a?zf(this,a):this.i.length==0||Tf(this.h)||zf(this))};function zf(a,c){var d;c?d=c.l:d=a.U++;const m=Fn(a.I);ke(m,"SID",a.K),ke(m,"RID",d),ke(m,"AID",a.T),jo(a,m),a.m&&a.o&&bu(m,a.m,a.o),d=new Jt(a,a.j,d,a.B+1),a.m===null&&(d.H=a.o),c&&(a.i=c.D.concat(a.i)),c=$f(a,d,1e3),d.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Fu(a.h,d),rr(d,m,c)}function jo(a,c){a.H&&P(a.H,function(d,m){ke(c,m,d)}),a.l&&Af({},function(d,m){ke(c,m,d)})}function $f(a,c,d){d=Math.min(a.i.length,d);var m=a.l?g(a.l.Na,a.l,a):null;e:{var V=a.i;let L=-1;for(;;){const H=["count="+d];L==-1?0<d?(L=V[0].g,H.push("ofs="+L)):L=0:H.push("ofs="+L);let Ce=!0;for(let ht=0;ht<d;ht++){let ve=V[ht].g;const Et=V[ht].map;if(ve-=L,0>ve)L=Math.max(0,V[ht].g-100),Ce=!1;else try{oE(Et,H,"req"+ve+"_")}catch{m&&m(Et)}}if(Ce){m=H.join("&");break e}}}return a=a.i.splice(0,d),c.D=a,m}function Hf(a){if(!a.g&&!a.u){a.Y=1;var c=a.Fa;Te||ne(),K||(Te(),K=!0),te.add(c,a),a.v=0}}function Bu(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Ne(g(a.Fa,a),qf(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Wf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Ne(g(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,q(10),Ta(this),Wf(this))};function Uu(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Wf(a){a.g=new Jt(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var c=Fn(a.qa);ke(c,"RID","rpc"),ke(c,"SID",a.K),ke(c,"AID",a.T),ke(c,"CI",a.F?"0":"1"),!a.F&&a.ja&&ke(c,"TO",a.ja),ke(c,"TYPE","xmlhttp"),jo(a,c),a.m&&a.o&&bu(c,a.m,a.o),a.L&&(a.g.I=a.L);var d=a.g;a=a.ia,d.L=1,d.v=va(Fn(c)),d.m=null,d.P=!0,fe(d,a)}t.Za=function(){this.C!=null&&(this.C=null,Ta(this),Bu(this),q(19))};function Ia(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Kf(a,c){var d=null;if(a.g==c){Ia(a),Uu(a),a.g=null;var m=2}else if(Ou(a.h,c))d=c.D,If(a.h,c),m=1;else return;if(a.G!=0){if(c.o)if(m==1){d=c.m?c.m.length:0,c=Date.now()-c.F;var V=a.B;m=G(),ct(m,new le(m,d)),Sa(a)}else Hf(a);else if(V=c.s,V==3||V==0&&0<c.X||!(m==1&&uE(a,c)||m==2&&Bu(a)))switch(d&&0<d.length&&(c=a.h,c.i=c.i.concat(d)),V){case 1:Br(a,5);break;case 4:Br(a,10);break;case 3:Br(a,6);break;default:Br(a,2)}}}function qf(a,c){let d=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(d*=2),d*c}function Br(a,c){if(a.j.info("Error code "+c),c==2){var d=g(a.fb,a),m=a.Xa;const V=!m;m=new jr(m||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||ga(m,"https"),va(m),V?nE(m.toString(),d):rE(m.toString(),d)}else q(2);a.G=0,a.l&&a.l.sa(c),Qf(a),Uf(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),q(2)):(this.j.info("Failed to ping google.com"),q(1))};function Qf(a){if(a.G=0,a.ka=[],a.l){const c=Rf(a.h);(c.length!=0||a.i.length!=0)&&(x(a.ka,c),x(a.ka,a.i),a.h.i.length=0,k(a.i),a.i.length=0),a.l.ra()}}function Gf(a,c,d){var m=d instanceof jr?Fn(d):new jr(d);if(m.g!="")c&&(m.g=c+"."+m.g),ya(m,m.s);else{var V=l.location;m=V.protocol,c=c?c+"."+V.hostname:V.hostname,V=+V.port;var L=new jr(null);m&&ga(L,m),c&&(L.g=c),V&&ya(L,V),d&&(L.l=d),m=L}return d=a.D,c=a.ya,d&&c&&ke(m,d,c),ke(m,"VER",a.la),jo(a,m),m}function Yf(a,c,d){if(c&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=a.Ca&&!a.pa?new Be(new _a({eb:d})):new Be(a.pa),c.Ha(a.J),c}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xf(){}t=Xf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ra(){}Ra.prototype.g=function(a,c){return new Ut(a,c)};function Ut(a,c){He.call(this),this.g=new Bf(c),this.l=a,this.h=c&&c.messageUrlParams||null,a=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(a?a["X-WebChannel-Content-Type"]=c.messageContentType:a={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(a?a["X-WebChannel-Client-Profile"]=c.va:a={"X-WebChannel-Client-Profile":c.va}),this.g.S=a,(a=c&&c.Sb)&&!E(a)&&(this.g.m=a),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!E(c)&&(this.g.D=c,a=this.h,a!==null&&c in a&&(a=this.h,c in a&&delete a[c])),this.j=new Ri(this)}C(Ut,He),Ut.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ut.prototype.close=function(){ju(this.g)},Ut.prototype.o=function(a){var c=this.g;if(typeof a=="string"){var d={};d.__data__=a,a=d}else this.u&&(d={},d.__data__=wi(a),a=d);c.i.push(new K0(c.Ya++,a)),c.G==3&&Sa(c)},Ut.prototype.N=function(){this.g.l=null,delete this.j,ju(this.g),delete this.g,Ut.aa.N.call(this)};function Jf(a){N.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var c=a.__sm__;if(c){e:{for(const d in c){a=d;break e}a=void 0}(this.i=a)&&(a=this.i,c=c!==null&&a in c?c[a]:void 0),this.data=c}else this.data=a}C(Jf,N);function Zf(){M.call(this),this.status=1}C(Zf,M);function Ri(a){this.g=a}C(Ri,Xf),Ri.prototype.ua=function(){ct(this.g,"a")},Ri.prototype.ta=function(a){ct(this.g,new Jf(a))},Ri.prototype.sa=function(a){ct(this.g,new Zf)},Ri.prototype.ra=function(){ct(this.g,"b")},Ra.prototype.createWebChannel=Ra.prototype.g,Ut.prototype.send=Ut.prototype.o,Ut.prototype.open=Ut.prototype.m,Ut.prototype.close=Ut.prototype.close,D_=function(){return new Ra},x_=function(){return G()},k_=b,xh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},tr.NO_ERROR=0,tr.TIMEOUT=8,tr.HTTP_ERROR=6,cl=tr,Ln.COMPLETE="complete",P_=Ln,Do.EventType=Fr,Fr.OPEN="a",Fr.CLOSE="b",Fr.ERROR="c",Fr.MESSAGE="d",He.prototype.listen=He.prototype.K,is=Do,Be.prototype.listenOnce=Be.prototype.L,Be.prototype.getLastError=Be.prototype.Ka,Be.prototype.getLastErrorCode=Be.prototype.Ba,Be.prototype.getStatus=Be.prototype.Z,Be.prototype.getResponseJson=Be.prototype.Oa,Be.prototype.getResponseText=Be.prototype.oa,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Ha,C_=Be}).apply(typeof qa<"u"?qa:typeof self<"u"?self:typeof window<"u"?window:{});const tg="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}At.UNAUTHENTICATED=new At(null),At.GOOGLE_CREDENTIALS=new At("google-credentials-uid"),At.FIRST_PARTY=new At("first-party-uid"),At.MOCK_USER=new At("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=new E_("@firebase/firestore");function Zo(){return ai.logLevel}function Y(t,...e){if(ai.logLevel<=ge.DEBUG){const n=e.map(Wd);ai.debug(`Firestore (${Eo}): ${t}`,...n)}}function Yn(t,...e){if(ai.logLevel<=ge.ERROR){const n=e.map(Wd);ai.error(`Firestore (${Eo}): ${t}`,...n)}}function ao(t,...e){if(ai.logLevel<=ge.WARN){const n=e.map(Wd);ai.warn(`Firestore (${Eo}): ${t}`,...n)}}function Wd(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t="Unexpected state"){const e=`FIRESTORE (${Eo}) INTERNAL ASSERTION FAILED: `+t;throw Yn(e),new Error(e)}function Ie(t,e){t||ie()}function se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends _o{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(At.UNAUTHENTICATED))}shutdown(){}}class cA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class hA{constructor(e){this.t=e,this.currentUser=At.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ie(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new Rr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Rr,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Rr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string"),new N_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string"),new At(e)}}class dA{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=At.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class fA{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new dA(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(At.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ie(this.o===void 0);const r=o=>{o.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Y("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ie(typeof n.token=="string"),this.R=n.token,new pA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=gA(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Ee(t,e){return t<e?-1:t>e?1:0}function lo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new rt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new oe(e)}static min(){return new oe(new rt(0,0))}static max(){return new oe(new rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n,r){n===void 0?n=0:n>e.length&&ie(),r===void 0?r=e.length-n:r>e.length-n&&ie(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Hs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Me extends Hs{construct(e,n,r){return new Me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const yA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pt extends Hs{construct(e,n,r){return new pt(e,n,r)}static isValidIdentifier(e){return yA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new pt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new X(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new X(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new X(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(o(),i++)}if(o(),s)throw new X(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pt(n)}static emptyPath(){return new pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(Me.fromString(e))}static fromName(e){return new ee(Me.fromString(e).popFirst(5))}static empty(){return new ee(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new Me(e.slice()))}}function vA(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=oe.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new kr(i,ee.empty(),e)}function _A(t){return new kr(t.readTime,t.key,-1)}class kr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new kr(oe.min(),ee.empty(),-1)}static max(){return new kr(oe.max(),ee.empty(),-1)}}function EA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:Ee(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ra(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==wA)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,o=0,s=!1;e.forEach(l=>{++i,l.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const o=e.length,s=new Array(o);let l=0;for(let u=0;u<o;u++){const h=u;n(e[h]).next(f=>{s[h]=f,++l,l===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new B((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function SA(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ia(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Kd.oe=-1;function yu(t){return t==null}function $l(t){return t===0&&1/t==-1/0}function IA(t){return typeof t=="number"&&Number.isInteger(t)&&!$l(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function wo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function M_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e,n){this.comparator=e,this.root=n||ft.EMPTY}insert(e,n){return new be(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ft.BLACK,null,null))}remove(e){return new be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qa(this.root,e,this.comparator,!0)}}class Qa{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ft{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??ft.RED,this.left=i??ft.EMPTY,this.right=o??ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new ft(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ft.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ie();const e=this.left.check();if(e!==this.right.check())throw ie();return e+(this.isRed()?0:1)}}ft.EMPTY=null,ft.RED=!0,ft.BLACK=!1;ft.EMPTY=new class{constructor(){this.size=0}get key(){throw ie()}get value(){throw ie()}get color(){throw ie()}get left(){throw ie()}get right(){throw ie()}copy(e,n,r,i,o){return this}insert(e,n,r){return new ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.comparator=e,this.data=new be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rg(this.data.getIterator())}getIteratorFrom(e){return new rg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new gt(this.comparator);return n.data=e,n}}class rg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(pt.comparator)}static empty(){return new mn([])}unionWith(e){let n=new gt(pt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return lo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new L_("Invalid base64 string: "+o):o}}(e);return new vt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vt.EMPTY_BYTE_STRING=new vt("");const RA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xr(t){if(Ie(!!t),typeof t=="string"){let e=0;const n=RA.exec(t);if(Ie(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ke(t.seconds),nanos:Ke(t.nanos)}}function Ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function li(t){return typeof t=="string"?vt.fromBase64String(t):vt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Qd(t){const e=t.mapValue.fields.__previous_value__;return qd(e)?Qd(e):e}function Ws(t){const e=xr(t.mapValue.fields.__local_write_time__.timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,n,r,i,o,s,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h}}class Ks{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ks("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ks&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ui(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qd(t)?4:PA(t)?9007199254740991:CA(t)?10:11:ie()}function xn(t,e){if(t===e)return!0;const n=ui(t);if(n!==ui(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ws(t).isEqual(Ws(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=xr(i.timestampValue),l=xr(o.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return li(i.bytesValue).isEqual(li(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ke(i.geoPointValue.latitude)===Ke(o.geoPointValue.latitude)&&Ke(i.geoPointValue.longitude)===Ke(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ke(i.integerValue)===Ke(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Ke(i.doubleValue),l=Ke(o.doubleValue);return s===l?$l(s)===$l(l):isNaN(s)&&isNaN(l)}return!1}(t,e);case 9:return lo(t.arrayValue.values||[],e.arrayValue.values||[],xn);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},l=o.mapValue.fields||{};if(ng(s)!==ng(l))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(l[u]===void 0||!xn(s[u],l[u])))return!1;return!0}(t,e);default:return ie()}}function qs(t,e){return(t.values||[]).find(n=>xn(n,e))!==void 0}function uo(t,e){if(t===e)return 0;const n=ui(t),r=ui(e);if(n!==r)return Ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(o,s){const l=Ke(o.integerValue||o.doubleValue),u=Ke(s.integerValue||s.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return ig(t.timestampValue,e.timestampValue);case 4:return ig(Ws(t),Ws(e));case 5:return Ee(t.stringValue,e.stringValue);case 6:return function(o,s){const l=li(o),u=li(s);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const l=o.split("/"),u=s.split("/");for(let h=0;h<l.length&&h<u.length;h++){const f=Ee(l[h],u[h]);if(f!==0)return f}return Ee(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const l=Ee(Ke(o.latitude),Ke(s.latitude));return l!==0?l:Ee(Ke(o.longitude),Ke(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return og(t.arrayValue,e.arrayValue);case 10:return function(o,s){var l,u,h,f;const p=o.fields||{},g=s.fields||{},R=(l=p.value)===null||l===void 0?void 0:l.arrayValue,C=(u=g.value)===null||u===void 0?void 0:u.arrayValue,k=Ee(((h=R==null?void 0:R.values)===null||h===void 0?void 0:h.length)||0,((f=C==null?void 0:C.values)===null||f===void 0?void 0:f.length)||0);return k!==0?k:og(R,C)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Ga.mapValue&&s===Ga.mapValue)return 0;if(o===Ga.mapValue)return 1;if(s===Ga.mapValue)return-1;const l=o.fields||{},u=Object.keys(l),h=s.fields||{},f=Object.keys(h);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const g=Ee(u[p],f[p]);if(g!==0)return g;const R=uo(l[u[p]],h[f[p]]);if(R!==0)return R}return Ee(u.length,f.length)}(t.mapValue,e.mapValue);default:throw ie()}}function ig(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ee(t,e);const n=xr(t),r=xr(e),i=Ee(n.seconds,r.seconds);return i!==0?i:Ee(n.nanos,r.nanos)}function og(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=uo(n[i],r[i]);if(o)return o}return Ee(n.length,r.length)}function co(t){return Dh(t)}function Dh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=xr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return li(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Dh(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Dh(n.fields[s])}`;return i+"}"}(t.mapValue):ie()}function Nh(t){return!!t&&"integerValue"in t}function Gd(t){return!!t&&"arrayValue"in t}function sg(t){return!!t&&"nullValue"in t}function ag(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function hl(t){return!!t&&"mapValue"in t}function CA(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ys(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return wo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ys(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ys(t.arrayValue.values[n]);return e}return Object.assign({},t)}function PA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!hl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ys(n)}setAll(e){let n=pt.emptyPath(),r={},i=[];e.forEach((s,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=ys(s):i.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());hl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];hl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){wo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new nn(ys(this.value))}}function O_(t){const e=[];return wo(t.fields,(n,r)=>{const i=new pt([n]);if(hl(r)){const o=O_(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n,r,i,o,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=l}static newInvalidDocument(e){return new Pt(e,0,oe.min(),oe.min(),oe.min(),nn.empty(),0)}static newFoundDocument(e,n,r,i){return new Pt(e,1,n,oe.min(),r,i,0)}static newNoDocument(e,n){return new Pt(e,2,n,oe.min(),oe.min(),nn.empty(),0)}static newUnknownDocument(e,n){return new Pt(e,3,n,oe.min(),oe.min(),nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n){this.position=e,this.inclusive=n}}function lg(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ee.comparator(ee.fromName(s.referenceValue),n.key):r=uo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function ug(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n="asc"){this.field=e,this.dir=n}}function kA(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{}class tt extends F_{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new DA(e,n,r):n==="array-contains"?new MA(e,r):n==="in"?new LA(e,r):n==="not-in"?new OA(e,r):n==="array-contains-any"?new FA(e,r):new tt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new NA(e,r):new VA(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(uo(n,this.value)):n!==null&&ui(this.value)===ui(n)&&this.matchesComparison(uo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dn extends F_{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Dn(e,n)}matches(e){return b_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function b_(t){return t.op==="and"}function j_(t){return xA(t)&&b_(t)}function xA(t){for(const e of t.filters)if(e instanceof Dn)return!1;return!0}function Vh(t){if(t instanceof tt)return t.field.canonicalString()+t.op.toString()+co(t.value);if(j_(t))return t.filters.map(e=>Vh(e)).join(",");{const e=t.filters.map(n=>Vh(n)).join(",");return`${t.op}(${e})`}}function B_(t,e){return t instanceof tt?function(r,i){return i instanceof tt&&r.op===i.op&&r.field.isEqual(i.field)&&xn(r.value,i.value)}(t,e):t instanceof Dn?function(r,i){return i instanceof Dn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,l)=>o&&B_(s,i.filters[l]),!0):!1}(t,e):void ie()}function U_(t){return t instanceof tt?function(n){return`${n.field.canonicalString()} ${n.op} ${co(n.value)}`}(t):t instanceof Dn?function(n){return n.op.toString()+" {"+n.getFilters().map(U_).join(" ,")+"}"}(t):"Filter"}class DA extends tt{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class NA extends tt{constructor(e,n){super(e,"in",n),this.keys=z_("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class VA extends tt{constructor(e,n){super(e,"not-in",n),this.keys=z_("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function z_(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class MA extends tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gd(n)&&qs(n.arrayValue,this.value)}}class LA extends tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qs(this.value.arrayValue,n)}}class OA extends tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(qs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!qs(this.value.arrayValue,n)}}class FA extends tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>qs(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,n=null,r=[],i=[],o=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=l,this.ue=null}}function cg(t,e=null,n=[],r=[],i=null,o=null,s=null){return new bA(t,e,n,r,i,o,s)}function Yd(t){const e=se(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Vh(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),yu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>co(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>co(r)).join(",")),e.ue=n}return e.ue}function Xd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kA(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!B_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ug(t.startAt,e.startAt)&&ug(t.endAt,e.endAt)}function Mh(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n=null,r=[],i=[],o=null,s="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function jA(t,e,n,r,i,o,s,l){return new vu(t,e,n,r,i,o,s,l)}function $_(t){return new vu(t)}function hg(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function BA(t){return t.collectionGroup!==null}function vs(t){const e=se(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new gt(pt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Wl(o,r))}),n.has(pt.keyField().canonicalString())||e.ce.push(new Wl(pt.keyField(),r))}return e.ce}function Cn(t){const e=se(t);return e.le||(e.le=UA(e,vs(t))),e.le}function UA(t,e){if(t.limitType==="F")return cg(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Wl(i.field,o)});const n=t.endAt?new Hl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hl(t.startAt.position,t.startAt.inclusive):null;return cg(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Lh(t,e,n){return new vu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _u(t,e){return Xd(Cn(t),Cn(e))&&t.limitType===e.limitType}function H_(t){return`${Yd(Cn(t))}|lt:${t.limitType}`}function Pi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>U_(i)).join(", ")}]`),yu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>co(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>co(i)).join(",")),`Target(${r})`}(Cn(t))}; limitType=${t.limitType})`}function Eu(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ee.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of vs(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,l,u){const h=lg(s,l,u);return s.inclusive?h<=0:h<0}(r.startAt,vs(r),i)||r.endAt&&!function(s,l,u){const h=lg(s,l,u);return s.inclusive?h>=0:h>0}(r.endAt,vs(r),i))}(t,e)}function zA(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function W_(t){return(e,n)=>{let r=!1;for(const i of vs(t)){const o=$A(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function $A(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(o,s,l){const u=s.data.field(o),h=l.data.field(o);return u!==null&&h!==null?uo(u,h):ie()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){wo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return M_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=new be(ee.comparator);function Xn(){return HA}const K_=new be(ee.comparator);function os(...t){let e=K_;for(const n of t)e=e.insert(n.key,n);return e}function q_(t){let e=K_;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Xr(){return _s()}function Q_(){return _s()}function _s(){return new To(t=>t.toString(),(t,e)=>t.isEqual(e))}const WA=new be(ee.comparator),KA=new gt(ee.comparator);function ce(...t){let e=KA;for(const n of t)e=e.add(n);return e}const qA=new gt(Ee);function QA(){return qA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$l(e)?"-0":e}}function G_(t){return{integerValue:""+t}}function GA(t,e){return IA(e)?G_(e):Jd(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(){this._=void 0}}function YA(t,e,n){return t instanceof Kl?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&qd(o)&&(o=Qd(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Qs?X_(t,e):t instanceof Gs?J_(t,e):function(i,o){const s=Y_(i,o),l=dg(s)+dg(i.Pe);return Nh(s)&&Nh(i.Pe)?G_(l):Jd(i.serializer,l)}(t,e)}function XA(t,e,n){return t instanceof Qs?X_(t,e):t instanceof Gs?J_(t,e):n}function Y_(t,e){return t instanceof ql?function(r){return Nh(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Kl extends wu{}class Qs extends wu{constructor(e){super(),this.elements=e}}function X_(t,e){const n=Z_(e);for(const r of t.elements)n.some(i=>xn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Gs extends wu{constructor(e){super(),this.elements=e}}function J_(t,e){let n=Z_(e);for(const r of t.elements)n=n.filter(i=>!xn(i,r));return{arrayValue:{values:n}}}class ql extends wu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function dg(t){return Ke(t.integerValue||t.doubleValue)}function Z_(t){return Gd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function JA(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Qs&&i instanceof Qs||r instanceof Gs&&i instanceof Gs?lo(r.elements,i.elements,xn):r instanceof ql&&i instanceof ql?xn(r.Pe,i.Pe):r instanceof Kl&&i instanceof Kl}(t.transform,e.transform)}class ZA{constructor(e,n){this.version=e,this.transformResults=n}}class Pn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pn}static exists(e){return new Pn(void 0,e)}static updateTime(e){return new Pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Tu{}function e0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Zd(t.key,Pn.none()):new oa(t.key,t.data,Pn.none());{const n=t.data,r=nn.empty();let i=new gt(pt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new gi(t.key,r,new mn(i.toArray()),Pn.none())}}function eC(t,e,n){t instanceof oa?function(i,o,s){const l=i.value.clone(),u=pg(i.fieldTransforms,o,s.transformResults);l.setAll(u),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):t instanceof gi?function(i,o,s){if(!dl(i.precondition,o))return void o.convertToUnknownDocument(s.version);const l=pg(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(t0(i)),u.setAll(l),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Es(t,e,n,r){return t instanceof oa?function(o,s,l,u){if(!dl(o.precondition,s))return l;const h=o.value.clone(),f=mg(o.fieldTransforms,u,s);return h.setAll(f),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof gi?function(o,s,l,u){if(!dl(o.precondition,s))return l;const h=mg(o.fieldTransforms,u,s),f=s.data;return f.setAll(t0(o)),f.setAll(h),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,l){return dl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(t,e,n)}function tC(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=Y_(r.transform,i||null);o!=null&&(n===null&&(n=nn.empty()),n.set(r.field,o))}return n||null}function fg(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&lo(r,i,(o,s)=>JA(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class oa extends Tu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class gi extends Tu{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function t0(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function pg(t,e,n){const r=new Map;Ie(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,l=e.data.field(o.field);r.set(o.field,XA(s,l,n[i]))}return r}function mg(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,YA(o,s,e))}return r}class Zd extends Tu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nC extends Tu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&eC(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Es(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Es(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Q_();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let l=this.applyToLocalView(s,o.mutatedFields);l=n.has(i.key)?null:l;const u=e0(s,l);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ce())}isEqual(e){return this.batchId===e.batchId&&lo(this.mutations,e.mutations,(n,r)=>fg(n,r))&&lo(this.baseMutations,e.baseMutations,(n,r)=>fg(n,r))}}class ef{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ie(e.mutations.length===r.length);let i=function(){return WA}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new ef(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye,pe;function sC(t){switch(t){default:return ie();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function n0(t){if(t===void 0)return Yn("GRPC error has no .code"),U.UNKNOWN;switch(t){case Ye.OK:return U.OK;case Ye.CANCELLED:return U.CANCELLED;case Ye.UNKNOWN:return U.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return U.INTERNAL;case Ye.UNAVAILABLE:return U.UNAVAILABLE;case Ye.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Ye.NOT_FOUND:return U.NOT_FOUND;case Ye.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Ye.ABORTED:return U.ABORTED;case Ye.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Ye.DATA_LOSS:return U.DATA_LOSS;default:return ie()}}(pe=Ye||(Ye={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=new ei([4294967295,4294967295],0);function gg(t){const e=aC().encode(t),n=new A_;return n.update(e),new Uint8Array(n.digest())}function yg(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ei([n,r],0),new ei([i,o],0)]}class tf{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ss(`Invalid padding: ${n}`);if(r<0)throw new ss(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ss(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ss(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ei.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ei.fromNumber(r)));return i.compare(lC)===1&&(i=new ei([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=gg(e),[r,i]=yg(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new tf(o,i,n);return r.forEach(l=>s.insert(l)),s}insert(e){if(this.Ie===0)return;const n=gg(e),[r,i]=yg(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ss extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,sa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Su(oe.min(),i,new be(Ee),Xn(),ce())}}class sa{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new sa(r,n,ce(),ce(),ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class r0{constructor(e,n){this.targetId=e,this.me=n}}class i0{constructor(e,n,r=vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class vg{constructor(){this.fe=0,this.ge=Eg(),this.pe=vt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ce(),n=ce(),r=ce();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ie()}}),new sa(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Eg()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ie(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class uC{constructor(e){this.Le=e,this.Be=new Map,this.ke=Xn(),this.qe=_g(),this.Qe=new be(Ee)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Mh(o))if(r===0){const s=new ee(o.path);this.Ue(n,s,Pt.newNoDocument(s,oe.min()))}else Ie(r===1);else{const s=this.Ye(n);if(s!==r){const l=this.Ze(e),u=l?this.Xe(l,e,s):1;if(u!==0){this.je(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,l;try{s=li(r).toUint8Array()}catch(u){if(u instanceof L_)return ao("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new tf(s,i,o)}catch(u){return ao(u instanceof ss?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const l=this.Je(s);if(l){if(o.current&&Mh(l.target)){const u=new ee(l.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Pt.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=ce();this.qe.forEach((o,s)=>{let l=!0;s.forEachWhile(u=>{const h=this.Je(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Su(e,n,this.Qe,this.ke,r);return this.ke=Xn(),this.qe=_g(),this.Qe=new be(Ee),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new vg,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new gt(Ee),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new vg),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function _g(){return new be(ee.comparator)}function Eg(){return new be(ee.comparator)}const cC={asc:"ASCENDING",desc:"DESCENDING"},hC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dC={and:"AND",or:"OR"};class fC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Oh(t,e){return t.useProto3Json||yu(e)?e:{value:e}}function Ql(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function o0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pC(t,e){return Ql(t,e.toTimestamp())}function kn(t){return Ie(!!t),oe.fromTimestamp(function(n){const r=xr(n);return new rt(r.seconds,r.nanos)}(t))}function nf(t,e){return Fh(t,e).canonicalString()}function Fh(t,e){const n=function(i){return new Me(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function s0(t){const e=Me.fromString(t);return Ie(h0(e)),e}function bh(t,e){return nf(t.databaseId,e.path)}function Sc(t,e){const n=s0(e);if(n.get(1)!==t.databaseId.projectId)throw new X(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(l0(n))}function a0(t,e){return nf(t.databaseId,e)}function mC(t){const e=s0(t);return e.length===4?Me.emptyPath():l0(e)}function jh(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function l0(t){return Ie(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function wg(t,e,n){return{name:bh(t,e),fields:n.value.mapValue.fields}}function gC(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(h,f){return h.useProto3Json?(Ie(f===void 0||typeof f=="string"),vt.fromBase64String(f||"")):(Ie(f===void 0||f instanceof Buffer||f instanceof Uint8Array),vt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(h){const f=h.code===void 0?U.UNKNOWN:n0(h.code);return new X(f,h.message||"")}(s);n=new i0(r,i,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Sc(t,r.document.name),o=kn(r.document.updateTime),s=r.document.createTime?kn(r.document.createTime):oe.min(),l=new nn({mapValue:{fields:r.document.fields}}),u=Pt.newFoundDocument(i,o,s,l),h=r.targetIds||[],f=r.removedTargetIds||[];n=new fl(h,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Sc(t,r.document),o=r.readTime?kn(r.readTime):oe.min(),s=Pt.newNoDocument(i,o),l=r.removedTargetIds||[];n=new fl([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Sc(t,r.document),o=r.removedTargetIds||[];n=new fl([],o,i,null)}else{if(!("filter"in e))return ie();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new oC(i,o),l=r.targetId;n=new r0(l,s)}}return n}function yC(t,e){let n;if(e instanceof oa)n={update:wg(t,e.key,e.value)};else if(e instanceof Zd)n={delete:bh(t,e.key)};else if(e instanceof gi)n={update:wg(t,e.key,e.data),updateMask:AC(e.fieldMask)};else{if(!(e instanceof nC))return ie();n={verify:bh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const l=s.transform;if(l instanceof Kl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Qs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Gs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ql)return{fieldPath:s.field.canonicalString(),increment:l.Pe};throw ie()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:pC(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ie()}(t,e.precondition)),n}function vC(t,e){return t&&t.length>0?(Ie(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?kn(i.updateTime):kn(o);return s.isEqual(oe.min())&&(s=kn(o)),new ZA(s,i.transformResults||[])}(n,e))):[]}function _C(t,e){return{documents:[a0(t,e.path)]}}function EC(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=a0(t,i);const o=function(h){if(h.length!==0)return c0(Dn.create(h,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(h){if(h.length!==0)return h.map(f=>function(g){return{field:ki(g.field),direction:SC(g.dir)}}(f))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=Oh(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:n,parent:i}}function wC(t){let e=mC(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ie(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(p){const g=u0(p);return g instanceof Dn&&j_(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(g=>function(C){return new Wl(xi(C.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(p){let g;return g=typeof p=="object"?p.value:p,yu(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){const g=!!p.before,R=p.values||[];return new Hl(R,g)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const g=!p.before,R=p.values||[];return new Hl(R,g)}(n.endAt)),jA(e,i,s,o,l,"F",u,h)}function TC(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function u0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=xi(n.unaryFilter.field);return tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=xi(n.unaryFilter.field);return tt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=xi(n.unaryFilter.field);return tt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=xi(n.unaryFilter.field);return tt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ie()}}(t):t.fieldFilter!==void 0?function(n){return tt.create(xi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ie()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Dn.create(n.compositeFilter.filters.map(r=>u0(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ie()}}(n.compositeFilter.op))}(t):ie()}function SC(t){return cC[t]}function IC(t){return hC[t]}function RC(t){return dC[t]}function ki(t){return{fieldPath:t.canonicalString()}}function xi(t){return pt.fromServerFormat(t.fieldPath)}function c0(t){return t instanceof tt?function(n){if(n.op==="=="){if(ag(n.value))return{unaryFilter:{field:ki(n.field),op:"IS_NAN"}};if(sg(n.value))return{unaryFilter:{field:ki(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ag(n.value))return{unaryFilter:{field:ki(n.field),op:"IS_NOT_NAN"}};if(sg(n.value))return{unaryFilter:{field:ki(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ki(n.field),op:IC(n.op),value:n.value}}}(t):t instanceof Dn?function(n){const r=n.getFilters().map(i=>c0(i));return r.length===1?r[0]:{compositeFilter:{op:RC(n.op),filters:r}}}(t):ie()}function AC(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function h0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,n,r,i,o=oe.min(),s=oe.min(),l=vt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new pr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.ct=e}}function PC(t){const e=wC({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Lh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(){this.un=new xC}addToCollectionParentIndex(e,n){return this.un.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(kr.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(kr.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class xC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new gt(Me.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new gt(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ho(0)}static kn(){return new ho(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(){this.changes=new To(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Es(r.mutation,i,mn.empty(),rt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ce()){const i=Xr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=os();return o.forEach((l,u)=>{s=s.insert(l,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Xr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,l)=>{n.set(s,l)})})}computeViews(e,n,r,i){let o=Xn();const s=_s(),l=function(){return _s()}();return n.forEach((u,h)=>{const f=r.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof gi)?o=o.insert(h.key,h):f!==void 0?(s.set(h.key,f.mutation.getFieldMask()),Es(f.mutation,h,f.mutation.getFieldMask(),rt.now())):s.set(h.key,mn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((h,f)=>s.set(h,f)),n.forEach((h,f)=>{var p;return l.set(h,new NC(f,(p=s.get(h))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=_s();let i=new be((s,l)=>s-l),o=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const l of s)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let f=r.get(u)||mn.empty();f=l.applyToLocalView(h,f),r.set(u,f);const p=(i.get(l.batchId)||ce()).add(u);i=i.insert(l.batchId,p)})}).next(()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,f=u.value,p=Q_();f.forEach(g=>{if(!o.has(g)){const R=e0(n.get(g),r.get(g));R!==null&&p.set(g,R),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,h,p))}return B.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):BA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):B.resolve(Xr());let l=-1,u=o;return s.next(h=>B.forEach(h,(f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),o.get(f)?B.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{u=u.insert(f,g)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,u,h,ce())).next(f=>({batchId:l,changes:q_(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let i=os();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=os();return this.indexManager.getCollectionParents(e,o).next(l=>B.forEach(l,u=>{const h=function(p,g){return new vu(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(f=>{f.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,h)=>{const f=h.getKey();s.get(f)===null&&(s=s.insert(f,Pt.newInvalidDocument(f)))});let l=os();return s.forEach((u,h)=>{const f=o.get(u);f!==void 0&&Es(f.mutation,h,mn.empty(),rt.now()),Eu(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return B.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:kn(i.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:PC(i.bundledQuery),readTime:kn(i.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(){this.overlays=new be(ee.comparator),this.Ir=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Xr();return B.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=Xr(),o=n.length+1,s=new ee(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new be((h,f)=>h-f);const s=this.overlays.getIterator();for(;s.hasNext();){const h=s.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let f=o.get(h.largestBatchId);f===null&&(f=Xr(),o=o.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const l=Xr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,f)=>l.set(h,f)),!(l.size()>=i)););return B.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new iC(n,r));let o=this.Ir.get(n);o===void 0&&(o=ce(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(){this.sessionToken=vt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(){this.Tr=new gt(ot.Er),this.dr=new gt(ot.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new ot(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ot(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ee(new Me([])),r=new ot(n,e),i=new ot(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ee(new Me([])),r=new ot(n,e),i=new ot(n,e+1);let o=ce();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new ot(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ot{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ee.comparator(e.key,n.key)||Ee(e.wr,n.wr)}static Ar(e,n){return Ee(e.wr,n.wr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new gt(ot.Er)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new rC(o,n,r,i);this.mutationQueue.push(s);for(const l of i)this.br=this.br.add(new ot(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return B.resolve(s)}lookupMutationBatch(e,n){return B.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return B.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ot(n,0),i=new ot(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const l=this.Dr(s.wr);o.push(l)}),B.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new gt(Ee);return n.forEach(i=>{const o=new ot(i,0),s=new ot(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],l=>{r=r.add(l.wr)})}),B.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ee.isDocumentKey(o)||(o=o.child(""));const s=new ot(new ee(o),0);let l=new gt(Ee);return this.br.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(u.wr)),!0)},s),B.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ie(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return B.forEach(n.mutations,i=>{const o=new ot(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new ot(n,0),i=this.br.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){this.Mr=e,this.docs=function(){return new be(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Pt.newInvalidDocument(n))}getEntries(e,n){let r=Xn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Pt.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Xn();const s=n.path,l=new ee(s.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:f}}=u.getNext();if(!s.isPrefixOf(h.path))break;h.path.length>s.length+1||EA(_A(f),r)<=0||(i.has(f.key)||Eu(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return B.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ie()}Or(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new jC(this)}getSize(e){return B.resolve(this.size)}}class jC extends DC{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.persistence=e,this.Nr=new To(n=>Yd(n),Xd),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new rf,this.targetCount=0,this.kr=ho.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),B.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ho(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Kn(n),B.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),B.waitFor(o).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),B.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Kd(0),this.Kr=!1,this.Kr=!0,this.$r=new OC,this.referenceDelegate=e(this),this.Ur=new BC(this),this.indexManager=new kC,this.remoteDocumentCache=function(i){return new bC(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new CC(n),this.Gr=new MC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new LC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new FC(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const i=new zC(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return B.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class zC extends TA{constructor(e){super(),this.currentSequenceNumber=e}}class of{constructor(e){this.persistence=e,this.Jr=new rf,this.Yr=null}static Zr(e){return new of(e)}get Xr(){if(this.Yr)return this.Yr;throw ie()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),B.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Xr,r=>{const i=ee.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,oe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return B.or([()=>B.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ce(),i=ce();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new sf(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return qI()?8:SA(WI())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new $C;return this.Xi(e,n,s).next(l=>{if(o.result=l,this.zi)return this.es(e,n,s,l.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Zo()<=ge.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",Pi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),B.resolve()):(Zo()<=ge.DEBUG&&Y("QueryEngine","Query:",Pi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Zo()<=ge.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",Pi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cn(n))):B.resolve())}Yi(e,n){if(hg(n))return B.resolve(null);let r=Cn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Lh(n,null,"F"),r=Cn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ce(...o);return this.Ji.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const h=this.ts(n,l);return this.ns(n,h,s,u.readTime)?this.Yi(e,Lh(n,null,"F")):this.rs(e,h,n,u)}))})))}Zi(e,n,r,i){return hg(n)||i.isEqual(oe.min())?B.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?B.resolve(null):(Zo()<=ge.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Pi(n)),this.rs(e,s,n,vA(i,-1)).next(l=>l))})}ts(e,n){let r=new gt(W_(e));return n.forEach((i,o)=>{Eu(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Zo()<=ge.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Pi(n)),this.Ji.getDocumentsMatchingQuery(e,n,kr.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new be(Ee),this._s=new To(o=>Yd(o),Xd),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VC(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function KC(t,e,n,r){return new WC(t,e,n,r)}async function d0(t,e){const n=se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],l=[];let u=ce();for(const h of i){s.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}for(const h of o){l.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(h=>({hs:h,removedBatchIds:s,addedBatchIds:l}))})})}function qC(t,e){const n=se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,u,h,f){const p=h.batch,g=p.keys();let R=B.resolve();return g.forEach(C=>{R=R.next(()=>f.getEntry(u,C)).next(k=>{const x=h.docVersions.get(C);Ie(x!==null),k.version.compareTo(x)<0&&(p.applyToRemoteDocument(k,h),k.isValidDocument()&&(k.setReadTime(h.commitVersion),f.addEntry(k)))})}),R.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=ce();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function f0(t){const e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function QC(t,e){const n=se(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const l=[];e.targetChanges.forEach((f,p)=>{const g=i.get(p);if(!g)return;l.push(n.Ur.removeMatchingKeys(o,f.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,f.addedDocuments,p)));let R=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?R=R.withResumeToken(vt.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):f.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(f.resumeToken,r)),i=i.insert(p,R),function(k,x,w){return k.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(g,R,f)&&l.push(n.Ur.updateTargetData(o,R))});let u=Xn(),h=ce();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),l.push(GC(o,s,e.documentUpdates).next(f=>{u=f.Ps,h=f.Is})),!r.isEqual(oe.min())){const f=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(f)}return B.waitFor(l).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,h)).next(()=>u)}).then(o=>(n.os=i,o))}function GC(t,e,n){let r=ce(),i=ce();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Xn();return n.forEach((l,u)=>{const h=o.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(oe.min())?(e.removeEntry(l,u.readTime),s=s.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),s=s.insert(l,u)):Y("LocalStore","Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function YC(t,e){const n=se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function XC(t,e){const n=se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,B.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new pr(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Bh(t,e,n){const r=se(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ia(s))throw s;Y("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Tg(t,e,n){const r=se(t);let i=oe.min(),o=ce();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,h,f){const p=se(u),g=p._s.get(f);return g!==void 0?B.resolve(p.os.get(g)):p.Ur.getTargetData(h,f)}(r,s,Cn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,l.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:oe.min(),n?o:ce())).next(l=>(JC(r,zA(e),l),{documents:l,Ts:o})))}function JC(t,e,n){let r=t.us.get(e)||oe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class Sg{constructor(){this.activeTargetIds=QA()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZC{constructor(){this.so=new Sg,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Sg,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Y("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Y("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ya=null;function Ic(){return Ya===null?Ya=function(){return 268435456+Math.round(2147483648*Math.random())}():Ya++,"0x"+Ya.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt="WebChannelConnection";class rP extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const l=Ic(),u=this.xo(n,r.toUriEncodedString());Y("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,o,s),this.No(n,u,h,i).then(f=>(Y("RestConnection",`Received RPC '${n}' ${l}: `,f),f),f=>{throw ao("RestConnection",`RPC '${n}' ${l} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,o,s,l){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Eo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=tP[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=Ic();return new Promise((s,l)=>{const u=new C_;u.setWithCredentials(!0),u.listenOnce(P_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case cl.NO_ERROR:const f=u.getResponseJson();Y(Rt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case cl.TIMEOUT:Y(Rt,`RPC '${e}' ${o} timed out`),l(new X(U.DEADLINE_EXCEEDED,"Request time out"));break;case cl.HTTP_ERROR:const p=u.getStatus();if(Y(Rt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const R=g==null?void 0:g.error;if(R&&R.status&&R.message){const C=function(x){const w=x.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(w)>=0?w:U.UNKNOWN}(R.status);l(new X(C,R.message))}else l(new X(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new X(U.UNAVAILABLE,"Connection failed."));break;default:ie()}}finally{Y(Rt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);Y(Rt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",h,r,15)})}Bo(e,n,r){const i=Ic(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=D_(),l=x_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=o.join("");Y(Rt,`Creating RPC '${e}' stream ${i}: ${f}`,u);const p=s.createWebChannel(f,u);let g=!1,R=!1;const C=new nP({Io:x=>{R?Y(Rt,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(g||(Y(Rt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),Y(Rt,`RPC '${e}' stream ${i} sending:`,x),p.send(x))},To:()=>p.close()}),k=(x,w,E)=>{x.listen(w,I=>{try{E(I)}catch(O){setTimeout(()=>{throw O},0)}})};return k(p,is.EventType.OPEN,()=>{R||(Y(Rt,`RPC '${e}' stream ${i} transport opened.`),C.yo())}),k(p,is.EventType.CLOSE,()=>{R||(R=!0,Y(Rt,`RPC '${e}' stream ${i} transport closed`),C.So())}),k(p,is.EventType.ERROR,x=>{R||(R=!0,ao(Rt,`RPC '${e}' stream ${i} transport errored:`,x),C.So(new X(U.UNAVAILABLE,"The operation could not be completed")))}),k(p,is.EventType.MESSAGE,x=>{var w;if(!R){const E=x.data[0];Ie(!!E);const I=E,O=I.error||((w=I[0])===null||w===void 0?void 0:w.error);if(O){Y(Rt,`RPC '${e}' stream ${i} received error:`,O);const $=O.status;let P=function(_){const S=Ye[_];if(S!==void 0)return n0(S)}($),v=O.message;P===void 0&&(P=U.INTERNAL,v="Unknown error status: "+$+" with message "+O.message),R=!0,C.So(new X(P,v)),p.close()}else Y(Rt,`RPC '${e}' stream ${i} received:`,E),C.bo(E)}}),k(l,k_.STAT_EVENT,x=>{x.stat===xh.PROXY?Y(Rt,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===xh.NOPROXY&&Y(Rt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.wo()},0),C}}function Rc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(t){return new fC(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,n,r,i,o,s,l,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new p0(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Yn(n.toString()),Yn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new X(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Y("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Y("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iP extends m0{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=gC(this.serializer,e),r=function(o){if(!("targetChange"in o))return oe.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?oe.min():s.readTime?kn(s.readTime):oe.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=jh(this.serializer),n.addTarget=function(o,s){let l;const u=s.target;if(l=Mh(u)?{documents:_C(o,u)}:{query:EC(o,u)._t},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=o0(o,s.resumeToken);const h=Oh(o,s.expectedCount);h!==null&&(l.expectedCount=h)}else if(s.snapshotVersion.compareTo(oe.min())>0){l.readTime=Ql(o,s.snapshotVersion.toTimestamp());const h=Oh(o,s.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=TC(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=jh(this.serializer),n.removeTarget=e,this.a_(n)}}class oP extends m0{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ie(!!e.streamToken),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ie(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=vC(e.writeResults,e.commitTime),r=kn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=jh(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>yC(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new X(U.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Fh(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(U.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Lo(e,Fh(n,r),i,s,l,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(U.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class aP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Yn(n),this.D_=!1):Y("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{yi(this)&&(Y("RemoteStore","Restarting streams for network reachability change."),await async function(u){const h=se(u);h.L_.add(4),await aa(h),h.q_.set("Unknown"),h.L_.delete(4),await Ru(h)}(this))})}),this.q_=new aP(r,i)}}async function Ru(t){if(yi(t))for(const e of t.B_)await e(!0)}async function aa(t){for(const e of t.B_)await e(!1)}function g0(t,e){const n=se(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),cf(n)?uf(n):So(n).r_()&&lf(n,e))}function af(t,e){const n=se(t),r=So(n);n.N_.delete(e),r.r_()&&y0(n,e),n.N_.size===0&&(r.r_()?r.o_():yi(n)&&n.q_.set("Unknown"))}function lf(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}So(t).A_(e)}function y0(t,e){t.Q_.xe(e),So(t).R_(e)}function uf(t){t.Q_=new uC({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),So(t).start(),t.q_.v_()}function cf(t){return yi(t)&&!So(t).n_()&&t.N_.size>0}function yi(t){return se(t).L_.size===0}function v0(t){t.Q_=void 0}async function uP(t){t.q_.set("Online")}async function cP(t){t.N_.forEach((e,n)=>{lf(t,e)})}async function hP(t,e){v0(t),cf(t)?(t.q_.M_(e),uf(t)):t.q_.set("Unknown")}async function dP(t,e,n){if(t.q_.set("Online"),e instanceof i0&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const l of o.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.N_.delete(l),i.Q_.removeTarget(l))}(t,e)}catch(r){Y("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Gl(t,r)}else if(e instanceof fl?t.Q_.Ke(e):e instanceof r0?t.Q_.He(e):t.Q_.We(e),!n.isEqual(oe.min()))try{const r=await f0(t.localStore);n.compareTo(r)>=0&&await function(o,s){const l=o.Q_.rt(s);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const f=o.N_.get(h);f&&o.N_.set(h,f.withResumeToken(u.resumeToken,s))}}),l.targetMismatches.forEach((u,h)=>{const f=o.N_.get(u);if(!f)return;o.N_.set(u,f.withResumeToken(vt.EMPTY_BYTE_STRING,f.snapshotVersion)),y0(o,u);const p=new pr(f.target,u,h,f.sequenceNumber);lf(o,p)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Y("RemoteStore","Failed to raise snapshot:",r),await Gl(t,r)}}async function Gl(t,e,n){if(!ia(e))throw e;t.L_.add(1),await aa(t),t.q_.set("Offline"),n||(n=()=>f0(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Ru(t)})}function _0(t,e){return e().catch(n=>Gl(t,n,e))}async function Au(t){const e=se(t),n=Dr(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;fP(e);)try{const i=await YC(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,pP(e,i)}catch(i){await Gl(e,i)}E0(e)&&w0(e)}function fP(t){return yi(t)&&t.O_.length<10}function pP(t,e){t.O_.push(e);const n=Dr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function E0(t){return yi(t)&&!Dr(t).n_()&&t.O_.length>0}function w0(t){Dr(t).start()}async function mP(t){Dr(t).p_()}async function gP(t){const e=Dr(t);for(const n of t.O_)e.m_(n.mutations)}async function yP(t,e,n){const r=t.O_.shift(),i=ef.from(r,e,n);await _0(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Au(t)}async function vP(t,e){e&&Dr(t).V_&&await async function(r,i){if(function(s){return sC(s)&&s!==U.ABORTED}(i.code)){const o=r.O_.shift();Dr(r).s_(),await _0(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Au(r)}}(t,e),E0(t)&&w0(t)}async function Rg(t,e){const n=se(t);n.asyncQueue.verifyOperationInProgress(),Y("RemoteStore","RemoteStore received new credentials");const r=yi(n);n.L_.add(3),await aa(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Ru(n)}async function _P(t,e){const n=se(t);e?(n.L_.delete(2),await Ru(n)):e||(n.L_.add(2),await aa(n),n.q_.set("Unknown"))}function So(t){return t.K_||(t.K_=function(n,r,i){const o=se(n);return o.w_(),new iP(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:uP.bind(null,t),Ro:cP.bind(null,t),mo:hP.bind(null,t),d_:dP.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),cf(t)?uf(t):t.q_.set("Unknown")):(await t.K_.stop(),v0(t))})),t.K_}function Dr(t){return t.U_||(t.U_=function(n,r,i){const o=se(n);return o.w_(),new oP(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:mP.bind(null,t),mo:vP.bind(null,t),f_:gP.bind(null,t),g_:yP.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Au(t)):(await t.U_.stop(),t.O_.length>0&&(Y("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,l=new hf(e,n,s,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function df(t,e){if(Yn("AsyncQueue",`${e}: ${t}`),ia(t))return new X(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=os(),this.sortedSet=new be(this.comparator)}static emptySet(e){return new Ji(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ji)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ji;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(){this.W_=new be(ee.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ie():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class fo{constructor(e,n,r,i,o,s,l,u,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(l=>{s.push({type:0,doc:l})}),new fo(e,n,Ji.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_u(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class wP{constructor(){this.queries=Cg(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=se(n),o=i.queries;i.queries=Cg(),o.forEach((s,l)=>{for(const u of l.j_)u.onError(r)})})(this,new X(U.ABORTED,"Firestore shutting down"))}}function Cg(){return new To(t=>H_(t),_u)}async function TP(t,e){const n=se(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new EP,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const l=df(s,`Initialization of query '${Pi(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&ff(n)}async function SP(t,e){const n=se(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function IP(t,e){const n=se(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const l of s.j_)l.X_(i)&&(r=!0);s.z_=i}}r&&ff(n)}function RP(t,e,n){const r=se(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function ff(t){t.Y_.forEach(e=>{e.next()})}var Uh,Pg;(Pg=Uh||(Uh={})).ea="default",Pg.Cache="cache";class AP{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new fo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Uh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e){this.key=e}}class S0{constructor(e){this.key=e}}class CP{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ce(),this.mutatedKeys=ce(),this.Aa=W_(e),this.Ra=new Ji(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Ag,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{const g=i.get(f),R=Eu(this.query,p)?p:null,C=!!g&&this.mutatedKeys.has(g.key),k=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let x=!1;g&&R?g.data.isEqual(R.data)?C!==k&&(r.track({type:3,doc:R}),x=!0):this.ga(g,R)||(r.track({type:2,doc:R}),x=!0,(u&&this.Aa(R,u)>0||h&&this.Aa(R,h)<0)&&(l=!0)):!g&&R?(r.track({type:0,doc:R}),x=!0):g&&!R&&(r.track({type:1,doc:g}),x=!0,(u||h)&&(l=!0)),x&&(R?(s=s.add(R),o=k?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{Ra:s,fa:r,ns:l,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((f,p)=>function(R,C){const k=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie()}};return k(R)-k(C)}(f.type,p.type)||this.Aa(f.doc,p.doc)),this.pa(r),i=i!=null&&i;const l=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,h=u!==this.Ea;return this.Ea=u,s.length!==0||h?{snapshot:new fo(this.query,e.Ra,o,s,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Ag,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ce(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new S0(r))}),this.da.forEach(r=>{e.has(r)||n.push(new T0(r))}),n}ba(e){this.Ta=e.Ts,this.da=ce();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return fo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class PP{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class kP{constructor(e){this.key=e,this.va=!1}}class xP{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new To(l=>H_(l),_u),this.Ma=new Map,this.xa=new Set,this.Oa=new be(ee.comparator),this.Na=new Map,this.La=new rf,this.Ba={},this.ka=new Map,this.qa=ho.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function DP(t,e,n=!0){const r=k0(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await I0(r,e,n,!0),i}async function NP(t,e){const n=k0(t);await I0(n,e,!0,!1)}async function I0(t,e,n,r){const i=await XC(t.localStore,Cn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let l;return r&&(l=await VP(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&g0(t.remoteStore,i),l}async function VP(t,e,n,r,i){t.Ka=(p,g,R)=>async function(k,x,w,E){let I=x.view.ma(w);I.ns&&(I=await Tg(k.localStore,x.query,!1).then(({documents:v})=>x.view.ma(v,I)));const O=E&&E.targetChanges.get(x.targetId),$=E&&E.targetMismatches.get(x.targetId)!=null,P=x.view.applyChanges(I,k.isPrimaryClient,O,$);return xg(k,x.targetId,P.wa),P.snapshot}(t,p,g,R);const o=await Tg(t.localStore,e,!0),s=new CP(e,o.Ts),l=s.ma(o.documents),u=sa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=s.applyChanges(l,t.isPrimaryClient,u);xg(t,n,h.wa);const f=new PP(e,n,s);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),h.snapshot}async function MP(t,e,n){const r=se(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!_u(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Bh(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&af(r.remoteStore,i.targetId),zh(r,i.targetId)}).catch(ra)):(zh(r,i.targetId),await Bh(r.localStore,i.targetId,!0))}async function LP(t,e){const n=se(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),af(n.remoteStore,r.targetId))}async function OP(t,e,n){const r=$P(t);try{const i=await function(s,l){const u=se(s),h=rt.now(),f=l.reduce((R,C)=>R.add(C.key),ce());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",R=>{let C=Xn(),k=ce();return u.cs.getEntries(R,f).next(x=>{C=x,C.forEach((w,E)=>{E.isValidDocument()||(k=k.add(w))})}).next(()=>u.localDocuments.getOverlayedDocuments(R,C)).next(x=>{p=x;const w=[];for(const E of l){const I=tC(E,p.get(E.key).overlayedDocument);I!=null&&w.push(new gi(E.key,I,O_(I.value.mapValue),Pn.exists(!0)))}return u.mutationQueue.addMutationBatch(R,h,w,l)}).next(x=>{g=x;const w=x.applyToLocalDocumentSet(p,k);return u.documentOverlayCache.saveOverlays(R,x.batchId,w)})}).then(()=>({batchId:g.batchId,changes:q_(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,l,u){let h=s.Ba[s.currentUser.toKey()];h||(h=new be(Ee)),h=h.insert(l,u),s.Ba[s.currentUser.toKey()]=h}(r,i.batchId,n),await la(r,i.changes),await Au(r.remoteStore)}catch(i){const o=df(i,"Failed to persist write");n.reject(o)}}async function R0(t,e){const n=se(t);try{const r=await QC(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(Ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Ie(s.va):i.removedDocuments.size>0&&(Ie(s.va),s.va=!1))}),await la(n,r,e)}catch(r){await ra(r)}}function kg(t,e,n){const r=se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const l=s.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(s,l){const u=se(s);u.onlineState=l;let h=!1;u.queries.forEach((f,p)=>{for(const g of p.j_)g.Z_(l)&&(h=!0)}),h&&ff(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function FP(t,e,n){const r=se(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new be(ee.comparator);s=s.insert(o,Pt.newNoDocument(o,oe.min()));const l=ce().add(o),u=new Su(oe.min(),new Map,new be(Ee),s,l);await R0(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),pf(r)}else await Bh(r.localStore,e,!1).then(()=>zh(r,e,n)).catch(ra)}async function bP(t,e){const n=se(t),r=e.batch.batchId;try{const i=await qC(n.localStore,e);C0(n,r,null),A0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await la(n,i)}catch(i){await ra(i)}}async function jP(t,e,n){const r=se(t);try{const i=await function(s,l){const u=se(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return u.mutationQueue.lookupMutationBatch(h,l).next(p=>(Ie(p!==null),f=p.keys(),u.mutationQueue.removeMutationBatch(h,p))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>u.localDocuments.getDocuments(h,f))})}(r.localStore,e);C0(r,e,n),A0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await la(r,i)}catch(i){await ra(i)}}function A0(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function C0(t,e,n){const r=se(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function zh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||P0(t,r)})}function P0(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(af(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),pf(t))}function xg(t,e,n){for(const r of n)r instanceof T0?(t.La.addReference(r.key,e),BP(t,r)):r instanceof S0?(Y("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||P0(t,r.key)):ie()}function BP(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Y("SyncEngine","New document in limbo: "+n),t.xa.add(r),pf(t))}function pf(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ee(Me.fromString(e)),r=t.qa.next();t.Na.set(r,new kP(n)),t.Oa=t.Oa.insert(n,r),g0(t.remoteStore,new pr(Cn($_(n.path)),r,"TargetPurposeLimboResolution",Kd.oe))}}async function la(t,e,n){const r=se(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((l,u)=>{s.push(r.Ka(u,e,n).then(h=>{var f;if((h||n)&&r.isPrimaryClient){const p=h?!h.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(h){i.push(h);const p=sf.Wi(u.targetId,h);o.push(p)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(u,h){const f=se(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>B.forEach(h,g=>B.forEach(g.$i,R=>f.persistence.referenceDelegate.addReference(p,g.targetId,R)).next(()=>B.forEach(g.Ui,R=>f.persistence.referenceDelegate.removeReference(p,g.targetId,R)))))}catch(p){if(!ia(p))throw p;Y("LocalStore","Failed to update sequence numbers: "+p)}for(const p of h){const g=p.targetId;if(!p.fromCache){const R=f.os.get(g),C=R.snapshotVersion,k=R.withLastLimboFreeSnapshotVersion(C);f.os=f.os.insert(g,k)}}}(r.localStore,o))}async function UP(t,e){const n=se(t);if(!n.currentUser.isEqual(e)){Y("SyncEngine","User change. New user:",e.toKey());const r=await d0(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(l=>{l.forEach(u=>{u.reject(new X(U.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await la(n,r.hs)}}function zP(t,e){const n=se(t),r=n.Na.get(e);if(r&&r.va)return ce().add(r.key);{let i=ce();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const l=n.Fa.get(s);i=i.unionWith(l.view.Va)}return i}}function k0(t){const e=se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=R0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FP.bind(null,e),e.Ca.d_=IP.bind(null,e.eventManager),e.Ca.$a=RP.bind(null,e.eventManager),e}function $P(t){const e=se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jP.bind(null,e),e}class Yl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Iu(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return KC(this.persistence,new HC,e.initialUser,this.serializer)}Ga(e){return new UC(of.Zr,this.serializer)}Wa(e){return new ZC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yl.provider={build:()=>new Yl};class $h{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kg(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=UP.bind(null,this.syncEngine),await _P(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new wP}()}createDatastore(e){const n=Iu(e.databaseInfo.databaseId),r=function(o){return new rP(o)}(e.databaseInfo);return function(o,s,l,u){return new sP(o,s,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,l){return new lP(r,i,o,s,l)}(this.localStore,this.datastore,e.asyncQueue,n=>kg(this.syncEngine,n,0),function(){return Ig.D()?new Ig:new eP}())}createSyncEngine(e,n){return function(i,o,s,l,u,h,f){const p=new xP(i,o,s,l,u,h);return f&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=se(i);Y("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await aa(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}$h.provider={build:()=>new $h};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Yn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=At.UNAUTHENTICATED,this.clientId=V_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{Y("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Y("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=df(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ac(t,e){t.asyncQueue.verifyOperationInProgress(),Y("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await d0(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Dg(t,e){t.asyncQueue.verifyOperationInProgress();const n=await KP(t);Y("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Rg(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Rg(e.remoteStore,i)),t._onlineComponents=e}async function KP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ac(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ao("Error using user provided cache. Falling back to memory cache: "+n),await Ac(t,new Yl)}}else Y("FirestoreClient","Using default OfflineComponentProvider"),await Ac(t,new Yl);return t._offlineComponents}async function x0(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y("FirestoreClient","Using user provided OnlineComponentProvider"),await Dg(t,t._uninitializedComponentsProvider._online)):(Y("FirestoreClient","Using default OnlineComponentProvider"),await Dg(t,new $h))),t._onlineComponents}function qP(t){return x0(t).then(e=>e.syncEngine)}async function QP(t){const e=await x0(t),n=e.eventManager;return n.onListen=DP.bind(null,e.syncEngine),n.onUnlisten=MP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=NP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LP.bind(null,e.syncEngine),n}function GP(t,e,n={}){const r=new Rr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,l,u,h){const f=new HP({next:g=>{f.Za(),s.enqueueAndForget(()=>SP(o,p)),g.fromCache&&u.source==="server"?h.reject(new X(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),p=new AP(l,f,{includeMetadataChanges:!0,_a:!0});return TP(o,p)}(await QP(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(t,e,n){if(!n)throw new X(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function YP(t,e,n,r){if(e===!0&&r===!0)throw new X(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Vg(t){if(!ee.isDocumentKey(t))throw new X(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Mg(t){if(ee.isDocumentKey(t))throw new X(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie()}function Ys(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mf(t);throw new X(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=D0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new X(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new X(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new X(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lg(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new uA;switch(r.type){case"firstParty":return new fA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Ng.get(n);r&&(Y("ComponentProvider","Removing Datastore"),Ng.delete(n),r.terminate())}(this),Promise.resolve()}}function XP(t,e,n,r={}){var i;const o=(t=Ys(t,Cu))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=At.MOCK_USER;else{l=HI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new X(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new At(h)}t._authCredentials=new cA(new N_(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Pu(this.firestore,e,this._query)}}class vn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class Ar extends Pu{constructor(e,n,r){super(e,n,$_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new ee(e))}withConverter(e){return new Ar(this.firestore,e,this._path)}}function V0(t,e,...n){if(t=Us(t),N0("collection","path",e),t instanceof Cu){const r=Me.fromString(e,...n);return Mg(r),new Ar(t,null,r)}{if(!(t instanceof vn||t instanceof Ar))throw new X(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return Mg(r),new Ar(t.firestore,null,r)}}function M0(t,e,...n){if(t=Us(t),arguments.length===1&&(e=V_.newId()),N0("doc","path",e),t instanceof Cu){const r=Me.fromString(e,...n);return Vg(r),new vn(t,null,new ee(r))}{if(!(t instanceof vn||t instanceof Ar))throw new X(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return Vg(r),new vn(t.firestore,t instanceof Ar?t.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new p0(this,"async_queue_retry"),this.Vu=()=>{const r=Rc();r&&Y("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Rc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Rc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Rr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ia(e))throw e;Y("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),l}(r);throw Yn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=hf.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ie()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class ku extends Cu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Og,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Og(e),this._firestoreClient=void 0,await e}}}function JP(t,e){const n=typeof t=="object"?t:ZR(),r=typeof t=="string"?t:e||"(default)",i=GR(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=zI("firestore");o&&XP(i,...o)}return i}function L0(t){if(t._terminated)throw new X(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||ZP(t),t._firestoreClient}function ZP(t){var e,n,r;const i=t._freezeSettings(),o=function(l,u,h,f){return new AA(l,u,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,D0(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new WP(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this._byteString=e}static fromBase64String(e){try{return new po(vt.fromBase64String(e))}catch(n){throw new X(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new po(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek=/^__.*__$/;class tk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new gi(e,this.data,this.fieldMask,n,this.fieldTransforms):new oa(e,this.data,n,this.fieldTransforms)}}function F0(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie()}}class _f{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new _f(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Xl(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(F0(this.Cu)&&ek.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class nk{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Iu(e)}Qu(e,n,r,i=!1){return new _f({Cu:e,methodName:n,qu:r,path:pt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rk(t){const e=t._freezeSettings(),n=Iu(t._databaseId);return new nk(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ik(t,e,n,r,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);U0("Data must be an object, but it was:",s,r);const l=j0(r,s);let u,h;if(o.merge)u=new mn(s.fieldMask),h=s.fieldTransforms;else if(o.mergeFields){const f=[];for(const p of o.mergeFields){const g=ok(e,p,n);if(!s.contains(g))throw new X(U.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);ak(f,g)||f.push(g)}u=new mn(f),h=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,h=s.fieldTransforms;return new tk(new nn(l),u,h)}function b0(t,e){if(B0(t=Us(t)))return U0("Unsupported field value:",e,t),j0(t,e);if(t instanceof O0)return function(r,i){if(!F0(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const l of r){let u=b0(l,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Us(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return GA(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=rt.fromDate(r);return{timestampValue:Ql(i.serializer,o)}}if(r instanceof rt){const o=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ql(i.serializer,o)}}if(r instanceof yf)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof po)return{bytesValue:o0(i.serializer,r._byteString)};if(r instanceof vn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:nf(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof vf)return function(s,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw l.Bu("VectorValues must only contain numeric values.");return Jd(l.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${mf(r)}`)}(t,e)}function j0(t,e){const n={};return M_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wo(t,(r,i)=>{const o=b0(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function B0(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof yf||t instanceof po||t instanceof vn||t instanceof O0||t instanceof vf)}function U0(t,e,n){if(!B0(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=mf(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function ok(t,e,n){if((e=Us(e))instanceof gf)return e._internalPath;if(typeof e=="string")return z0(t,e);throw Xl("Field path arguments must be of type string or ",t,!1,void 0,n)}const sk=new RegExp("[~\\*/\\[\\]]");function z0(t,e,n){if(e.search(sk)>=0)throw Xl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gf(...e.split("."))._internalPath}catch{throw Xl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xl(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new X(U.INVALID_ARGUMENT,l+t+u)}function ak(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(H0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lk extends $0{data(){return super.data()}}function H0(t,e){return typeof e=="string"?z0(t,e):e instanceof gf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ck{convertValue(e,n="none"){switch(ui(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(li(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return wo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ke(s.doubleValue));return new vf(o)}convertGeoPoint(e){return new yf(Ke(e.latitude),Ke(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Qd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ws(e));default:return null}}convertTimestamp(e){const n=xr(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Me.fromString(e);Ie(h0(r));const i=new Ks(r.get(1),r.get(3)),o=new ee(r.popFirst(5));return i.isEqual(n)||Yn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dk extends $0{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new pl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(H0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class pl extends dk{data(e={}){return super.data(e)}}class fk{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Xa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new pl(this._firestore,this._userDataWriter,r.key,r,new Xa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>{const u=new pl(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Xa(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const u=new pl(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Xa(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,f=-1;return l.type!==0&&(h=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),f=s.indexOf(l.doc.key)),{type:pk(l.type),doc:u,oldIndex:h,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function pk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie()}}class mk extends ck{constructor(e){super(),this.firestore=e}convertBytes(e){return new po(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,n)}}function gk(t){t=Ys(t,Pu);const e=Ys(t.firestore,ku),n=L0(e),r=new mk(e);return uk(t._query),GP(n,t._query).then(i=>new fk(e,r,t,i))}function yk(t){return W0(Ys(t.firestore,ku),[new Zd(t._key,Pn.none())])}function vk(t,e){const n=Ys(t.firestore,ku),r=M0(t),i=hk(t.converter,e);return W0(n,[ik(rk(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Pn.exists(!1))]).then(()=>r)}function W0(t,e){return function(r,i){const o=new Rr;return r.asyncQueue.enqueueAndForget(async()=>OP(await qP(r),i,o)),o.promise}(L0(t),e)}(function(e,n=!0){(function(i){Eo=i})(JR),zl(new zs("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),l=new ku(new hA(r.getProvider("auth-internal")),new mA(r.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new X(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ks(h.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),Xi(tg,"4.7.3",e),Xi(tg,"4.7.3","esm2017")})();var _k="firebase",Ek="10.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xi(_k,Ek,"app");const wk={apiKey:"AIzaSyB6fUYX5YGBsYoa5EhsJ5wv9Xi0tov5Iy8",authDomain:"zhongli-1d924.firebaseapp.com",projectId:"zhongli-1d924",storageBucket:"zhongli-1d924.appspot.com",messagingSenderId:"968114366314",appId:"1:968114366314:web:5781b247e76559a0bde713",measurementId:"G-LYHP3NYCSE"},Tk=S_(wk),Ef=JP(Tk),Sk=async t=>{try{const e=await vk(V0(Ef,"users"),t);return console.log("Document written with ID: ",e.id),e.id}catch(e){return console.error("Error adding document: ",e),""}},Ik=async()=>(await gk(V0(Ef,"users"))).docs.map(n=>({id:n.id,...n.data()})),Rk=async t=>{try{const e=M0(Ef,"users",t);await yk(e),console.log(`User with ID: ${t} deleted successfully.`)}catch(e){console.error("Error deleting user: ",e)}};function Ak(t,e){return Math.random()*(e-t+1)+t}function Ck(){const[t,e]=j.useState(""),[n,r]=j.useState(""),[i,o]=j.useState([]),[s,l]=j.useState(1),[u,h]=j.useState([]),f=async()=>{const g=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,R=/^[A-Za-z\s]+$/,C=[];if(t.length===0&&n.length===0&&C.push("YOU HAVE BROKEN EVERY CONTRACT POSSIBLE CONTRACT"),t.length===0&&C.push("YOU HAVE BROKEN THE NAME CONTRACT"),n.length===0&&C.push("YOU HAVE BROKEN THE NON-EMPTY EMAIL CONTRACT"),g.test(n)||C.push("YOU HAVE BROKEN THE BRO CAN'T WRITE A PROPER EMAIL CONTRACT"),R.test(t)||C.push("YOU HAVE BROKEN THE OUR NAMES ONLY HAVE LETTERS AND SPACES CONTRACT"),C.length!==0){h(C);return}const k=await Sk({name:t,email:n});o(x=>{const w=[...x];return w.push({id:k,name:t,email:n}),w}),e(""),r("")};j.useEffect(()=>{Ik().then(g=>{o(g)})},[]),j.useEffect(()=>{l(Ak(.9,1.1)),h([])},[t,n]);const p=g=>{Rk(g),o(R=>{const C=[...R],k=C.findIndex(({id:x})=>x===g);return C.splice(k,1),C})};return F.jsxs("div",{className:Ka.card,style:{transform:`scale(${s})`},children:[F.jsx("h3",{children:"Order Guides You!"}),F.jsx("input",{className:Ka.ZhongliInput,value:t,onChange:g=>e(g.target.value),placeholder:"name"}),F.jsx("input",{className:Ka.ZhongliInput,value:n,onChange:g=>r(g.target.value),placeholder:"email"}),F.jsx("button",{className:Ka.ZhongliShirtButton,onClick:f,children:"Join The Shrine"}),u.length!==0&&u.map((g,R)=>F.jsx("div",{style:{color:"orange"},children:g},R)),i.map((g,R)=>F.jsxs("div",{children:["Name: ",g.name," | Email: ",g.email," ",F.jsx("button",{onClick:()=>p(g.id),children:"Delete"})]},R))]})}function Pk(){return F.jsxs("div",{children:[F.jsx(mi,{}),F.jsxs("div",{className:$m.Liyue,children:[F.jsxs("header",{className:$m.LiyueHeader,children:[F.jsx("h1",{children:"I Will Have Order"}),F.jsx(Ck,{})]}),F.jsx("div",{children:F.jsx(AI,{})})]})]})}function kk(){return F.jsx("div",{className:pi.BackgroundIna})}const xk="_Inazuma_395xo_1",Dk="_InazumaHeader_395xo_7",Fg={Inazuma:xk,InazumaHeader:Dk};function Nk(){return F.jsxs("div",{children:[F.jsx(mi,{}),F.jsxs("div",{className:Fg.Inazuma,children:[F.jsx("header",{className:Fg.InazumaHeader,children:F.jsx("h1",{children:"Who?"})}),F.jsx("div",{children:F.jsx(kk,{})})]})]})}function Vk(){return F.jsx("div",{className:pi.BackgroundSum})}function Mk(){return F.jsxs("div",{children:[F.jsx(mi,{}),F.jsxs("div",{children:[F.jsx("header",{children:F.jsx("h1",{children:"Zhongli Piano"})}),F.jsx("div",{children:F.jsx(Vk,{})})]})]})}function Lk(){return F.jsx("div",{className:pi.BackgroundFon})}function Ok(){return F.jsxs("div",{children:[F.jsx(mi,{}),F.jsxs("div",{children:[F.jsx("header",{children:F.jsx("h1",{children:"Zhongli Piano"})}),F.jsx("div",{children:F.jsx(Lk,{})})]})]})}function Fk(){return F.jsx("div",{className:pi.BackgroundNat})}function bk(){return F.jsxs("div",{children:[F.jsx(mi,{}),F.jsxs("div",{children:[F.jsx("header",{children:F.jsx("h1",{children:"Natlan"})}),F.jsx("div",{children:F.jsx(Fk,{})})]})]})}const jk=GT([{path:"/",element:F.jsx(YS,{})},{path:"/Mondstadt",element:F.jsx(RI,{})},{path:"/Liyue",element:F.jsx(Pk,{})},{path:"/Inazuma",element:F.jsx(Nk,{})},{path:"/Sumeru",element:F.jsx(Mk,{})},{path:"/Fontaine",element:F.jsx(Ok,{})},{path:"/Natlan",element:F.jsx(bk,{})}]);Cc.createRoot(document.getElementById("root")).render(F.jsx(Gg.StrictMode,{children:F.jsx(iS,{router:jk})}));
